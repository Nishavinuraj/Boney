{"version":3,"sources":["webpack:///./src/app/layout/inventory/add-item-master/add-item-master.component.html","webpack:///./src/app/layout/inventory/add-item-master/add-item-master.component.scss","webpack:///./src/app/layout/inventory/add-item-master/add-item-master.component.ts","webpack:///./src/app/layout/inventory/add-material-issue/add-material-issue.component.html","webpack:///./src/app/layout/inventory/add-material-issue/add-material-issue.component.scss","webpack:///./src/app/layout/inventory/add-material-issue/add-material-issue.component.ts","webpack:///./src/app/layout/inventory/add-material-receipt/add-material-receipt.component.html","webpack:///./src/app/layout/inventory/add-material-receipt/add-material-receipt.component.scss","webpack:///./src/app/layout/inventory/add-material-receipt/add-material-receipt.component.ts","webpack:///./src/app/layout/inventory/add-order/add-order.component.html","webpack:///./src/app/layout/inventory/add-order/add-order.component.scss","webpack:///./src/app/layout/inventory/add-order/add-order.component.ts","webpack:///./src/app/layout/inventory/add-scrap-sale/add-scrap-sale.component.html","webpack:///./src/app/layout/inventory/add-scrap-sale/add-scrap-sale.component.scss","webpack:///./src/app/layout/inventory/add-scrap-sale/add-scrap-sale.component.ts","webpack:///./src/app/layout/inventory/edit-item-master/edit-item-master.component.html","webpack:///./src/app/layout/inventory/edit-item-master/edit-item-master.component.scss","webpack:///./src/app/layout/inventory/edit-item-master/edit-item-master.component.ts","webpack:///./src/app/layout/inventory/edit-material-issue/edit-material-issue.component.html","webpack:///./src/app/layout/inventory/edit-material-issue/edit-material-issue.component.scss","webpack:///./src/app/layout/inventory/edit-material-issue/edit-material-issue.component.ts","webpack:///./src/app/layout/inventory/edit-material-receipt/edit-material-receipt.component.html","webpack:///./src/app/layout/inventory/edit-material-receipt/edit-material-receipt.component.scss","webpack:///./src/app/layout/inventory/edit-material-receipt/edit-material-receipt.component.ts","webpack:///./src/app/layout/inventory/edit-order/edit-order.component.html","webpack:///./src/app/layout/inventory/edit-order/edit-order.component.scss","webpack:///./src/app/layout/inventory/edit-order/edit-order.component.ts","webpack:///./src/app/layout/inventory/edit-scrap-sale/edit-scrap-sale.component.html","webpack:///./src/app/layout/inventory/edit-scrap-sale/edit-scrap-sale.component.scss","webpack:///./src/app/layout/inventory/edit-scrap-sale/edit-scrap-sale.component.ts","webpack:///./src/app/layout/inventory/inventory-routing.module.ts","webpack:///./src/app/layout/inventory/inventory.module.ts","webpack:///./src/app/layout/inventory/inventory.service.ts","webpack:///./src/app/layout/inventory/inventory/inventory.component.html","webpack:///./src/app/layout/inventory/inventory/inventory.component.scss","webpack:///./src/app/layout/inventory/inventory/inventory.component.ts","webpack:///./src/app/layout/inventory/itemmaster-reslover.ts","webpack:///./src/app/layout/inventory/list-item-master/list-item-master.component.html","webpack:///./src/app/layout/inventory/list-item-master/list-item-master.component.scss","webpack:///./src/app/layout/inventory/list-item-master/list-item-master.component.ts","webpack:///./src/app/layout/inventory/list-material-issue/list-material-issue.component.html","webpack:///./src/app/layout/inventory/list-material-issue/list-material-issue.component.scss","webpack:///./src/app/layout/inventory/list-material-issue/list-material-issue.component.ts","webpack:///./src/app/layout/inventory/list-material-receipt/list-material-receipt.component.html","webpack:///./src/app/layout/inventory/list-material-receipt/list-material-receipt.component.scss","webpack:///./src/app/layout/inventory/list-material-receipt/list-material-receipt.component.ts","webpack:///./src/app/layout/inventory/list-order/list-order.component.html","webpack:///./src/app/layout/inventory/list-order/list-order.component.scss","webpack:///./src/app/layout/inventory/list-order/list-order.component.ts","webpack:///./src/app/layout/inventory/list-scrap-sale/list-scrap-sale.component.html","webpack:///./src/app/layout/inventory/list-scrap-sale/list-scrap-sale.component.scss","webpack:///./src/app/layout/inventory/list-scrap-sale/list-scrap-sale.component.ts","webpack:///./src/app/layout/inventory/materialissue-reslover.ts","webpack:///./src/app/layout/inventory/materialreceipt-reslover.ts","webpack:///./src/app/layout/inventory/order-reslover.ts","webpack:///./src/app/layout/inventory/scrapsale-reslover.ts","webpack:///./src/app/layout/inventory/view-item-master/view-item-master.component.html","webpack:///./src/app/layout/inventory/view-item-master/view-item-master.component.scss","webpack:///./src/app/layout/inventory/view-item-master/view-item-master.component.ts","webpack:///./src/app/layout/inventory/view-material-issue/view-material-issue.component.html","webpack:///./src/app/layout/inventory/view-material-issue/view-material-issue.component.scss","webpack:///./src/app/layout/inventory/view-material-issue/view-material-issue.component.ts","webpack:///./src/app/layout/inventory/view-material-receipt/view-material-receipt.component.html","webpack:///./src/app/layout/inventory/view-material-receipt/view-material-receipt.component.scss","webpack:///./src/app/layout/inventory/view-material-receipt/view-material-receipt.component.ts","webpack:///./src/app/layout/inventory/view-order/view-order.component.html","webpack:///./src/app/layout/inventory/view-order/view-order.component.scss","webpack:///./src/app/layout/inventory/view-order/view-order.component.ts","webpack:///./src/app/layout/inventory/view-scrap-sale/view-scrap-sale.component.html","webpack:///./src/app/layout/inventory/view-scrap-sale/view-scrap-sale.component.scss","webpack:///./src/app/layout/inventory/view-scrap-sale/view-scrap-sale.component.ts"],"names":[],"mappings":"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","file":"inventory-inventory-module.js","sourcesContent":["module.exports = \"<div class=\\\"container\\\">\\r\\n  <form [formGroup]=\\\"itemsForm\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n      <div class=\\\"card-header\\\">Add Item Master</div>\\r\\n      <div class=\\\"card-body\\\">\\r\\n\\r\\n        <div class=\\\"form-group row\\\">\\r\\n        <div class=\\\"mt-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"required\\\" >Product Type</label>\\r\\n                <ng-select [items]=\\\"producttypes\\\" placeholder=\\\"Type and search Product Type\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"type\\\">\\r\\n              </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <label class=\\\"required\\\">Name</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"name\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"Item Name\\\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <label class=\\\"\\\">Description</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"pdescription\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"Product Descriptin\\\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"required\\\" >Item Category</label>\\r\\n                <ng-select [items]=\\\"itemcategorys\\\" placeholder=\\\"Type and search Item Category\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"itemcategory\\\">\\r\\n              </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"required\\\" >Item Type</label>\\r\\n                <ng-select [items]=\\\"itemtypes\\\" placeholder=\\\"Type and search Item Type\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"itemtype\\\">\\r\\n              </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"required\\\" >Unit</label>\\r\\n                <ng-select [items]=\\\"units\\\" placeholder=\\\"Type and search Unit\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"unit\\\">\\r\\n              </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"required\\\" >Godown</label>\\r\\n                <ng-select [items]=\\\"godowns\\\" placeholder=\\\"Type and search Godown\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"godown\\\">\\r\\n              </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <label class=\\\"\\\">Opening Quantity</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"oq\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"Opening Qty\\\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <label class=\\\"\\\">Rate</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"rate\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"Rate\\\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <label class=\\\"\\\">Value</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"value\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"Value\\\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"required\\\" >HSN Code</label>\\r\\n                <ng-select [items]=\\\"HSNcodes\\\" placeholder=\\\"Type and search HSN Code\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"hsncode\\\">\\r\\n              </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <label class=\\\"\\\">GST</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"gst\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"GST\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"card-footer\\\">\\r\\n        <button class=\\\"btn btn-success float-right\\\" (click)=\\\"saveitems()\\\" [disabled]=\\\"!itemsForm.valid || process == 'saving'\\\" type=\\\"button\\\">\\r\\n          Save <i *ngIf=\\\"process == 'saving'\\\" class=\\\"fa fa-spinner fa-spin\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  </form>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvYWRkLWl0ZW0tbWFzdGVyL2FkZC1pdGVtLW1hc3Rlci5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\nimport { MaintenanceService } from 'src/app/shared/services/maintenance.service';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { Router } from '@angular/router';\r\nimport { DashboardService } from 'src/app/shared/services/dashboard.service';\r\n\r\n@Component({\r\n  selector: 'app-add-item-master',\r\n  templateUrl: './add-item-master.component.html',\r\n  styleUrls: ['./add-item-master.component.scss']\r\n})\r\nexport class AddItemMasterComponent implements OnInit {\r\n  public itemsForm: FormGroup;\r\n  public process: string;\r\n\r\n  itemcategorys = [];\r\n  units = [];\r\n  godowns = [];\r\n  HSNcodes = [];\r\n  producttypes = [];\r\n  itemtypes = [];\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private metaService: MetaService,\r\n    private ms: MaintenanceService,\r\n    private is: InventoryService,\r\n    private ds: DashboardService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.buildForm();\r\n    this.getOptions();\r\n  }\r\n\r\n\r\n  public buildForm(): void {\r\n    this.itemsForm = this.fb.group(\r\n      {\r\n        'type': [''],\r\n        'name': [''],\r\n        'itemcategory': [''],\r\n        'unit': [''],\r\n        'gst': [''],\r\n        'hsncode': [''],\r\n        'srate': [''],\r\n        'prate': [''],\r\n        'sdescritption': [''],\r\n        'pdescription': [''],\r\n        'oq': [''],\r\n        'rate': [''],\r\n        'value': [''],\r\n        'godown': [''],\r\n        'itemtype': ['']\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  public saveitems() {\r\n    this.process = 'saving';\r\n    console.log(this.itemsForm.value);\r\n    this.is.crateItemMaster(this.itemsForm.value).subscribe(ordersInfo => {\r\n      this.process = 'done';\r\n      this.router.navigate(['/inventory/items-master']);\r\n    }, error => { this.process = 'done'; console.log(error);\r\n   });\r\n  }\r\n\r\n  private getOptions() {\r\n\r\n    this.ds.getProducttypeList().subscribe(trackInfo => {\r\n      this.producttypes = trackInfo['result'];\r\n    });\r\n\r\n    this.ds.getItemtypeList().subscribe(trackInfo => {\r\n      this.itemtypes = trackInfo['result'];\r\n    });\r\n\r\n    this.ds.getUnitList().subscribe(trackInfo => {\r\n      this.units = trackInfo['result'];\r\n    });\r\n\r\n    this.ds.getItemCategoryList().subscribe(trackInfo => {\r\n      this.itemcategorys = trackInfo['result'];\r\n    });\r\n\r\n    this.ds.getGodownList().subscribe(trackInfo => {\r\n      this.godowns = trackInfo['result'];\r\n    });\r\n\r\n    this.ds.getHSNcodeList().subscribe(trackInfo => {\r\n      this.HSNcodes = trackInfo['result'];\r\n    });\r\n\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <form [formGroup]=\\\"miForm\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n      <div class=\\\"card-header\\\">Add Material Issue</div>\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <div class=\\\"form-group row\\\">\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Site</label>\\r\\n            <ng-select [items]=\\\"siteOptions\\\" placeholder=\\\"Type and search site\\\" bindLabel=\\\"branch_name\\\" bindValue=\\\"branch_name\\\"\\r\\n              formControlName=\\\"site\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">MI type</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"mi_type\\\" (change)=\\\"generateMiNumber()\\\">\\r\\n              <option value=\\\"\\\">Select MI type</option>\\r\\n              <option value=\\\"Issue\\\">Issue</option>\\r\\n              <option value=\\\"Issue Return\\\">Issue Return</option>\\r\\n            </select>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n            <label class=\\\"required\\\">Issue no</label>\\r\\n            <input disabled type=\\\"text\\\" formControlName=\\\"mi_number\\\" class=\\\"form-control\\\">\\r\\n          </div>\\r\\n\\r\\n          <!-- <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n            <label class=\\\"required\\\">Issue date</label>\\r\\n            <div class=\\\"input-group\\\">\\r\\n              <input type=\\\"text\\\" #mi=\\\"bsDatepicker\\\" [bsConfig]=\\\"{ containerClass: 'theme-blue', 'dateInputFormat': 'DD-MM-YYYY', 'showWeekNumbers': false, 'minDate': currentDate }\\\" bsDatepicker formControlName=\\\"mi_date\\\"\\r\\n                class=\\\"form-control\\\">\\r\\n              <div class=\\\"input-group-prepend\\\" (click)=\\\"mi.toggle()\\\">\\r\\n                <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div> -->\\r\\n\\r\\n          <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n            <label class=\\\"required\\\">Issue date</label>\\r\\n            <div class=\\\"input-group datepicker-input\\\">\\r\\n              <input\\r\\n                class=\\\"form-control\\\"\\r\\n                placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                name=\\\"dp2\\\"\\r\\n                formControlName=\\\"mi_date\\\"\\r\\n                ngbDatepicker\\r\\n                #d2=\\\"ngbDatepicker\\\"\\r\\n              />\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d2.toggle()\\\" type=\\\"button\\\">\\r\\n                  <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n            <label>KM Reading</label>\\r\\n            <input type=\\\"text\\\" formControlName=\\\"mcreading\\\" class=\\\"form-control\\\" placeholder=\\\"KM Reading\\\">\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Issued By</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"issuedby\\\">\\r\\n              <option value=\\\"\\\">Select Issued By</option>\\r\\n              <option *ngFor=\\\"let i of issuedby_option\\\" [value]=\\\"i.issuedby\\\"> {{i.issuedby}}</option>\\r\\n            </select>\\r\\n          </div>\\r\\n\\r\\n\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Issued For</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"issuedfor\\\">\\r\\n              <option value=\\\"\\\">Select Issued For</option>\\r\\n              <option value=\\\"Maintenance\\\">Maintenance</option>\\r\\n              <option value=\\\"Tyre\\\">Tyre</option>\\r\\n            </select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Department</label>\\r\\n            <ng-select [items]=\\\"dept_option\\\" placeholder=\\\"Type and search Department\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n              formControlName=\\\"department\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12\\\">\\r\\n            <div class=\\\"card\\\">\\r\\n              <div class=\\\"card-header\\\">\\r\\n                Material Issue items\\r\\n                <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"addMiitems()\\\" [disabled]=\\\"!miForm.valid\\\"\\r\\n                  type=\\\"button\\\">\\r\\n                  Add Item\\r\\n                </button>\\r\\n              </div>\\r\\n              <!-- /.box-header -->\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"miForm.controls.materiali_items.controls.length > 0\\\">\\r\\n                <table class=\\\"table table-bordered\\\" formArrayName=\\\"materiali_items\\\">\\r\\n                  <tr>\\r\\n                    <th>Item</th>\\r\\n                    <th>Unit</th>\\r\\n                    <th>Godown</th>\\r\\n                    <th>Qty</th>\\r\\n                    <th>Price(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Amount(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Refund</th>\\r\\n                    <th>Material Type</th>\\r\\n                    <th>RefQty</th>\\r\\n                    <th>Action</th>\\r\\n                  </tr>\\r\\n                  <tr *ngFor=\\\"let school of miForm.controls.materiali_items.controls; let i=index\\\" formGroupName=\\\"{{i}}\\\">\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group ngs\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                          <ng-select [items]=\\\"materiali_items\\\" appendTo=\\\".card-body\\\" class=\\\"form-control\\\" style=\\\"width:250px !important;\\\" placeholder=\\\"Type and search items\\\" bindLabel=\\\"name\\\" bindValue=\\\"_id\\\"\\r\\n                          formControlName=\\\"item_id\\\">\\r\\n                        </ng-select>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"unit\\\">\\r\\n                          <option value=\\\"\\\">Select units</option>\\r\\n                          <option *ngFor=\\\"let option of unit_option\\\" [value]=\\\"option\\\"> {{option}}</option>\\r\\n                        </select>\\r\\n                      </div>\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"godown\\\">\\r\\n                          <option value=\\\"\\\">Select godown</option>\\r\\n                          <option *ngFor=\\\"let g of materiali_godowns\\\" [value]=\\\"g.godown\\\"> {{g.godown}}</option>\\r\\n                        </select>\\r\\n                      </div>\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"qty\\\"\\r\\n                        class=\\\"form-control qty\\\">\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"price\\\" class=\\\"form-control price\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total\\\" class=\\\"form-control total\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"refund\\\">\\r\\n                          <option value=\\\"\\\">Refund</option>\\r\\n                          <option value=\\\"No\\\">No</option>\\r\\n                          <option value=\\\"Yes\\\">Yes</option>\\r\\n                        </select>\\r\\n                        </div>\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"mat_type\\\">\\r\\n                          <option value=\\\"\\\">Material Type</option>\\r\\n                          <option value=\\\"Job\\\">Job</option>\\r\\n                          <option value=\\\"Scrap\\\">Scrap</option>\\r\\n                        </select>\\r\\n                        </div>\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"ref_qty\\\"  class=\\\"form-control refqty\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <button class=\\\"btn btn-danger float-right\\\" [disabled]=\\\"miForm.controls?.materiali_items.controls.length == 1\\\" (click)=\\\"removeItems(i)\\\" type=\\\"button\\\">\\r\\n                        <i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </button>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </table>\\r\\n              </div>\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"miForm.controls?.materiali_items.controls.length == 0\\\">\\r\\n                <p>Please select vendor</p>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"mt-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n              <label class=\\\"\\\">Narration</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"narration\\\" class=\\\"form-control\\\" placeholder=\\\"Please enter narration\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Net Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"net_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Rounded off</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"rounded_off\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label>Round of Type</label>\\r\\n              <select class=\\\"form-control\\\" formControlName=\\\"round_off_type\\\">\\r\\n                <option>Please select site</option>\\r\\n                <option value=\\\"plus\\\">Plus</option>\\r\\n                <option value=\\\"minus\\\">Minus</option>\\r\\n              </select>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Total</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"card-footer\\\">\\r\\n        <button class=\\\"btn btn-success float-right\\\" (click)=\\\"save()\\\" [disabled]=\\\"!miForm.valid || process == 'saving'\\\" type=\\\"button\\\">\\r\\n          Save <i *ngIf=\\\"process == 'saving'\\\" class=\\\"fa fa-spinner fa-spin\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\"","module.exports = \"table {\\n  overflow-x: scroll;\\n  width: 100%;\\n  display: block; }\\n  table select {\\n    width: 150px; }\\n  table .unit {\\n    width: 70px; }\\n  table .qty {\\n    width: 70px; }\\n  table .price {\\n    width: 70px; }\\n  table .refund {\\n    width: 70px; }\\n  table .mat_type {\\n    width: 70px; }\\n  table .ref_qty {\\n    width: 120px; }\\n  table .godown {\\n    width: 70px; }\\n  table .total {\\n    width: 120px; }\\n  ::ng-deep .ng-dropdown-panel {\\n  margin-top: 40px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2ludmVudG9yeS9hZGQtbWF0ZXJpYWwtaXNzdWUvRjpcXHRlc3RpbmdfZGVsZXRlX2ZvbGRlclxcVFJVQ0tfREVNT19vbGRHYW5lc2hcXGZyb250ZW5kXFx0ZF9mcm9udGVuZC9zcmNcXGFwcFxcbGF5b3V0XFxpbnZlbnRvcnlcXGFkZC1tYXRlcmlhbC1pc3N1ZVxcYWRkLW1hdGVyaWFsLWlzc3VlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxjQUFjLEVBQUE7RUFIbEI7SUFLUSxZQUNKLEVBQUE7RUFOSjtJQVFRLFdBQ0osRUFBQTtFQVRKO0lBV1EsV0FDSixFQUFBO0VBWko7SUFjUSxXQUNKLEVBQUE7RUFmSjtJQWlCUSxXQUNKLEVBQUE7RUFsQko7SUFvQlEsV0FDSixFQUFBO0VBckJKO0lBdUJRLFlBQ0osRUFBQTtFQXhCSjtJQTBCUSxXQUNKLEVBQUE7RUEzQko7SUE2QlEsWUFDSixFQUFBO0VBSUY7RUFDSSwyQkFBNEIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvYWRkLW1hdGVyaWFsLWlzc3VlL2FkZC1tYXRlcmlhbC1pc3N1ZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICAgIG92ZXJmbG93LXg6IHNjcm9sbDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBzZWxlY3Qge1xyXG4gICAgICAgIHdpZHRoOiAxNTBweFxyXG4gICAgfVxyXG4gICAgLnVuaXQge1xyXG4gICAgICAgIHdpZHRoOiA3MHB4XHJcbiAgICB9XHJcbiAgICAucXR5IHtcclxuICAgICAgICB3aWR0aDogNzBweFxyXG4gICAgfVxyXG4gICAgLnByaWNle1xyXG4gICAgICAgIHdpZHRoOiA3MHB4XHJcbiAgICB9XHJcbiAgICAucmVmdW5ke1xyXG4gICAgICAgIHdpZHRoOiA3MHB4XHJcbiAgICB9XHJcbiAgICAubWF0X3R5cGV7XHJcbiAgICAgICAgd2lkdGg6IDcwcHhcclxuICAgIH1cclxuICAgIC5yZWZfcXR5IHtcclxuICAgICAgICB3aWR0aDogMTIwcHhcclxuICAgIH1cclxuICAgIC5nb2Rvd257XHJcbiAgICAgICAgd2lkdGg6IDcwcHhcclxuICAgIH1cclxuICAgIC50b3RhbHtcclxuICAgICAgICB3aWR0aDogMTIwcHhcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICA6Om5nLWRlZXAgLm5nLWRyb3Bkb3duLXBhbmVsIHtcclxuICAgICAgbWFyZ2luLXRvcCA6IDQwcHggIWltcG9ydGFudDtcclxuICB9Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormControl, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\nimport { MaintenanceService } from 'src/app/shared/services/maintenance.service';\r\nimport { itemUnits } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { Router } from '@angular/router';\r\nimport { DashboardService } from 'src/app/shared/services/dashboard.service';\r\ndeclare var moment: any;\r\n\r\n@Component({\r\n  selector: 'app-add-material-issue',\r\n  templateUrl: './add-material-issue.component.html',\r\n  styleUrls: ['./add-material-issue.component.scss']\r\n})\r\nexport class AddMaterialIssueComponent implements OnInit {\r\n  public miForm: any;\r\n  public process: string;\r\n  public bsConfig: Partial<BsDatepickerConfig>;\r\n  public siteOptions: any;\r\n  public dept_option: any;\r\n  public issuedby_option: any;\r\n  public materiali_items: any;\r\n  public materiali_godowns: any;\r\n  public unit_option = itemUnits;\r\n  public currentDate = new Date();\r\n  minDate;\r\n  site_name: any;\r\n  usertype: any;\r\n  loading = false;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private metaService: MetaService,\r\n    private ms: MaintenanceService,\r\n    private is: InventoryService,\r\n    private ds: DashboardService,\r\n    private router: Router\r\n  ) {\r\n    this.usertype = this.metaService.getSiteFromStorage().role;\r\n    this.site_name = this.metaService.getSiteFromStorage().site;\r\n    const current = new Date();\r\n    this.minDate = {\r\n      year: current.getFullYear(),\r\n      month: current.getMonth() + 1,\r\n      day: current.getDate()\r\n    };\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.bsConfig = Object.assign({},\r\n      { containerClass: 'theme-blue', 'rangeInputFormat': 'MMMM Do YYYY', minDate: new Date(), 'showWeekNumbers': false });\r\n    this.buildForm();\r\n    this.miForm.controls.materiali_items.valueChanges.subscribe(changes => {\r\n      this.updateValues();\r\n    });\r\n    this.getOptions();\r\n    this.getSites();\r\n  }\r\n  public buildForm(): void {\r\n    this.miForm = this.fb.group(\r\n      {\r\n        'site': ['', [Validators.required]],\r\n        'mi_type': ['', [Validators.required]],\r\n        'mi_number': ['', [Validators.required]],\r\n        'mi_date': [{year: new Date().getFullYear(), month: new Date().getMonth() + 1, day: new Date().getDate()}],\r\n        'issuedby': ['', [Validators.required]],\r\n        'issuedfor': ['', [Validators.required]],\r\n        'mcreading': '',\r\n        'department': ['', [Validators.required]],\r\n        'materiali_items': this.fb.array([\r\n        ]),\r\n        'narration': [''],\r\n        'net_amount': [''],\r\n        'rounded_off': [''],\r\n        'round_off_type': [''],\r\n        'total_amount': ['']\r\n      }\r\n    );\r\n    this.addMiitems();\r\n  }\r\n  private initItems() {\r\n    return this.fb.group({\r\n      'name': [''],\r\n      'item_id': ['', [Validators.required]],\r\n      'unit': [''],\r\n      'qty': [0, [Validators.required]],\r\n      'price': [0, [Validators.required]],\r\n      'refund': ['', [Validators.required]],\r\n      'mat_type': [''],\r\n      'ref_qty': [0],\r\n      'total': [0, [Validators.required]],\r\n      'godown': ['', [Validators.required]],\r\n    });\r\n  }\r\n  addMiitems() {\r\n    const control = <FormArray>this.miForm.controls['materiali_items'];\r\n    control.push(this.initItems());\r\n  }\r\n  removeItems(i: number) {\r\n    const control = <FormArray>this.miForm.controls['materiali_items'];\r\n    control.removeAt(i);\r\n  }\r\n  public removed(value: any): void {\r\n    const product_id = value['id'];\r\n    const materiali_items = this.miForm.controls['materiali_items'].value;\r\n    var index = materiali_items.map(function (items) { return items.product_id; }).indexOf(product_id);\r\n    this.removeItems(index);\r\n  }\r\n  public save() {\r\n    let mi_date;\r\n    if (this.miForm.controls['mi_date'].value) {\r\n      const dt = this.miForm.controls['mi_date'].value.year + '-' +\r\n        this.miForm.controls['mi_date'].value.month + '-' +\r\n        this.miForm.controls['mi_date'].value.day;\r\n      mi_date = moment(dt, 'YYYY-MM-DD').format();\r\n    } else {\r\n      mi_date = moment().format();\r\n    }\r\n\r\n    this.process = 'saving';\r\n    let data = this.miForm.value;\r\n    data.mi_date = mi_date;\r\n\r\n    console.log ('ISsue >> Save', this.miForm.value);\r\n\r\n    this.is.addMi(this.miForm.value).subscribe(miInfo => {\r\n      this.process = 'done';\r\n      this.router.navigate(['/inventory/material-issue']);\r\n    }, error => { this.process = 'done'; console.log(error);\r\n  });\r\n  }\r\n  getSites() {\r\n    this.loading = true;\r\n    this.metaService.getSites().subscribe((res: any) => {\r\n        this.loading = false;\r\n        this.siteOptions = res;\r\n        if (this.usertype === 'ADMIN') {\r\n          this.miForm.controls['site'].setValue(this.siteOptions[0].branch_name);\r\n        } else {\r\n          this.miForm.controls['site'].setValue(this.site_name);\r\n        }\r\n      },\r\n      err => {\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n  private getOptions() {\r\n    // this.metaService.getSites().subscribe(siteInfo => {\r\n    //   this.siteOptions = siteInfo;\r\n    // });\r\n    this.metaService.getDeptList().subscribe(trackInfo => {\r\n      this.dept_option = trackInfo['result'];\r\n    });\r\n\r\n    this.metaService.getIssuedbyList().subscribe(trackInfo => {\r\n      this.issuedby_option = trackInfo['result'];\r\n    });\r\n\r\n    this.ms.getItemMaster().subscribe(trackInfo => {\r\n      this.materiali_items = trackInfo['records'];\r\n    });\r\n    this.ds.getGodownList().subscribe( (res: any) => {\r\n      this.materiali_godowns = res;\r\n    });\r\n\r\n  }\r\n  public updateValues() {\r\n    let net_price = 0;\r\n    const control = <FormArray>this.miForm.controls['materiali_items'];\r\n\r\n    for (var intial_val = 0; intial_val < control.length; intial_val++) {\r\n      \r\n      const values = control.controls[intial_val].value;\r\n      const item_mater_data = this.materiali_items.find(item => item['_id'] == values['item_id']);\r\n      const qty = values['qty'] ? values['qty'] : item_mater_data ? 1 : 0;\r\n      const price = values['price'] ? values['price'] : item_mater_data ? parseFloat(item_mater_data['rate']) : 0;\r\n      const original_price = qty * price;\r\n      const total = original_price;\r\n      const unit = values['unit'] ? values['unit'] : item_mater_data ? item_mater_data.unit : '';\r\n\r\n      \r\n      // Tax calculation ends here\r\n      control.controls[intial_val].patchValue({\r\n        unit: unit,\r\n        price: price,\r\n        name: item_mater_data ? item_mater_data.name : '',\r\n        qty: qty,\r\n        total: total.toFixed(5)\r\n      }, { emitEvent: false });\r\n      net_price += total;\r\n    }\r\n    this.miForm.patchValue({\r\n      'net_amount': net_price,\r\n      'rounded_off': net_price,\r\n      'total_amount': net_price\r\n    }, { emitEvent: false });\r\n  }\r\n  // public generateMiNumber() {\r\n  //   const mi_type = this.miForm.controls.mi_type.value;\r\n  //   this.is.getMiNumberDetails(mi_type).subscribe(miInfo => {\r\n  //     this.miForm.controls.mi_number.setValue(miInfo['count'] + 1);\r\n  //   }, error => { console.log(error);\r\n  //    });\r\n  // }\r\n\r\n  public generateMiNumber() {\r\n    const mi_type = this.miForm.controls.mi_type.value;\r\n    const site = this.miForm.controls.site.value;\r\n    if(site && mi_type) {\r\n      const matchCond = { site: site, mi_type: mi_type };\r\n      console.log('mathCond >>' , matchCond );\r\n      this.is.getMiNumberDetails(matchCond).subscribe(mrInfo => {\r\n        this.miForm.controls.mi_number.setValue(mrInfo['count'] + 1);\r\n      }, error => { console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <form [formGroup]=\\\"mrForm\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n      <div class=\\\"card-header\\\">Add Material Receipt</div>\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <div class=\\\"form-group row\\\">\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Site</label>\\r\\n            <ng-select [items]=\\\"siteOptions\\\" placeholder=\\\"Type and search site\\\" bindLabel=\\\"branch_name\\\" bindValue=\\\"branch_name\\\"\\r\\n              formControlName=\\\"site\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">MR type</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"mr_type\\\" (change)=\\\"generateMrNumber()\\\">\\r\\n              <option value=\\\"\\\">Select MR type</option>\\r\\n              <option value=\\\"Material Receipt\\\">Material Receipt</option>\\r\\n              <option value=\\\"Material Return\\\">Material Return</option>\\r\\n            </select>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">MR no</label>\\r\\n            <input disabled type=\\\"text\\\" formControlName=\\\"mr_number\\\" class=\\\"form-control\\\" placeholder=\\\"\\\">\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">MR date</label>\\r\\n            <div class=\\\"input-group datepicker-input\\\">\\r\\n              <input\\r\\n                class=\\\"form-control\\\"\\r\\n                placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                name=\\\"dp2\\\"\\r\\n                formControlName=\\\"mr_date\\\"\\r\\n                ngbDatepicker\\r\\n                #d2=\\\"ngbDatepicker\\\"\\r\\n              />\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d2.toggle()\\\" type=\\\"button\\\">\\r\\n                  <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Receipt type</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"rec_type\\\">\\r\\n              <option value=\\\"\\\">Select Receipt type</option>\\r\\n              <option value=\\\"Direct\\\">Direct</option>\\r\\n              <option value=\\\"Job Order\\\">Job Order</option>\\r\\n              <option value=\\\"Purchase Order\\\">Purchase Order</option>\\r\\n              <option value=\\\"Scrap\\\">Scrap</option>\\r\\n              <option value=\\\"Stock Transfer\\\">Stock Transfer</option>\\r\\n            </select>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Godown</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"godown\\\">\\r\\n              <option value=\\\"\\\">Select Godown</option>\\r\\n              <option *ngFor=\\\"let g of godowns\\\" value=\\\"{{ g.godown }}\\\">\\r\\n                {{ g.godown }}\\r\\n            </select>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Vendor</label>\\r\\n            <ng-select [items]=\\\"vendor_option\\\" placeholder=\\\"Type and search vendor\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n              formControlName=\\\"vendor\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Department</label>\\r\\n            <ng-select [items]=\\\"dept_option\\\" placeholder=\\\"Type and search Department\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n              formControlName=\\\"department\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"\\\">Invoice No</label>\\r\\n            <input type=\\\"text\\\" formControlName=\\\"invno\\\" class=\\\"form-control\\\" placeholder=\\\"Invoice No\\\">\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label>Invoice date</label>\\r\\n            <div class=\\\"input-group datepicker-input\\\">\\r\\n              <input\\r\\n                class=\\\"form-control\\\"\\r\\n                placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                name=\\\"dp3\\\"\\r\\n                formControlName=\\\"invdate\\\"\\r\\n                ngbDatepicker\\r\\n                #d3=\\\"ngbDatepicker\\\"\\r\\n              />\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d3.toggle()\\\" type=\\\"button\\\">\\r\\n                  <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"\\\">Po No. / Job No.</label>\\r\\n            <input type=\\\"text\\\" formControlName=\\\"pjno\\\" class=\\\"form-control\\\" placeholder=\\\"Po.No / Job No.\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12\\\">\\r\\n            <div class=\\\"card\\\">\\r\\n              <div class=\\\"card-header\\\">\\r\\n                Material Receipts items\\r\\n                <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"addMrItems()\\\" [disabled]=\\\"!mrForm.valid\\\"\\r\\n                  type=\\\"button\\\">\\r\\n                  Add Item\\r\\n                </button>\\r\\n              </div>\\r\\n              <!-- /.box-header -->\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"mrForm.controls.materialr_items.controls.length > 0\\\">\\r\\n                <table class=\\\"table table-bordered\\\" formArrayName=\\\"materialr_items\\\">\\r\\n                  <tr>\\r\\n                    <th>Item</th>\\r\\n                    <th>Unit</th>\\r\\n                    <th>Qty</th>\\r\\n                    <th>Price(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Dis(%)</th>\\r\\n                    <th>CGST(%)</th>\\r\\n                    <th>SGST(%)</th>\\r\\n                    <th>IGST(%)</th>\\r\\n                    <th>Amount(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Action</th>\\r\\n                  </tr>\\r\\n\\r\\n\\r\\n                  <tr *ngFor=\\\"let school of mrForm.controls.materialr_items.controls; let i=index\\\" formGroupName=\\\"{{i}}\\\">\\r\\n                    <!-- <td>\\r\\n                      <div class=\\\"input-group ngs\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                          <ng-select [items]=\\\"materialr_items\\\" appendTo=\\\".card-body\\\" class=\\\"form-control\\\" style=\\\"width:250px !important;\\\" placeholder=\\\"Type and search items\\\" bindLabel=\\\"name\\\" bindValue=\\\"_id\\\"\\r\\n                          formControlName=\\\"item_id\\\">\\r\\n                        </ng-select>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </td> -->\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group ngs\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                          <ng-select [items]=\\\"materialr_items\\\" appendTo=\\\".card-body\\\" class=\\\"form-control\\\" style=\\\"width:250px !important;\\\" placeholder=\\\"Type and search items\\\" bindLabel=\\\"name\\\" bindValue=\\\"_id\\\"\\r\\n                          formControlName=\\\"item_id\\\">\\r\\n                        </ng-select>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"unit\\\">\\r\\n                          <option value=\\\"\\\">Please select units</option>\\r\\n                          <option *ngFor=\\\"let option of unit_option\\\" [value]=\\\"option\\\"> {{option}}</option>\\r\\n                        </select>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"qty\\\"\\r\\n                        class=\\\"form-control qty\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"price\\\" class=\\\"form-control price\\\">\\r\\n\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"discount\\\"  class=\\\"form-control discount\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"cgst\\\" class=\\\"form-control discount\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"sgst\\\"  class=\\\"form-control discount\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"igst\\\" class=\\\"form-control discount\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total\\\" class=\\\"form-control total\\\">\\r\\n\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <button class=\\\"btn btn-danger float-right\\\" [disabled]=\\\"mrForm.controls?.materialr_items.controls.length == 1\\\" (click)=\\\"removeItems(i)\\\" type=\\\"button\\\">\\r\\n                        <i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </button>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </table>\\r\\n              </div>\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"mrForm.controls?.materialr_items.controls.length == 0\\\">\\r\\n                <p>Please select vendor</p>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"mt-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n              <label class=\\\"\\\">Narration</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"narration\\\" class=\\\"form-control\\\" placeholder=\\\"Please enter narration\\\">\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">Gross Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"gross_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">CGST Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"cgst_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">SGST Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"sgst_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">IGST Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"igst_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">Net Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"net_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">Rounded off</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"rounded_off\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"required\\\">Round of Type</label>\\r\\n              <select class=\\\"form-control\\\" formControlName=\\\"round_off_type\\\">\\r\\n                <option>Please select site</option>\\r\\n                <option value=\\\"plus\\\">Plus</option>\\r\\n                <option value=\\\"minus\\\">Minus</option>\\r\\n              </select>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">Total</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"card-footer\\\">\\r\\n        <button class=\\\"btn btn-success float-right\\\" (click)=\\\"save()\\\" [disabled]=\\\"!mrForm.valid || process == 'saving'\\\" type=\\\"button\\\">\\r\\n          Save <i *ngIf=\\\"process == 'saving'\\\" class=\\\"fa fa-spinner fa-spin\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\"","module.exports = \"table {\\n  overflow-x: scroll;\\n  width: 100%;\\n  display: block; }\\n  table select {\\n    width: 150px; }\\n  table .unit {\\n    width: 70px; }\\n  table .qty {\\n    width: 70px; }\\n  table .price {\\n    width: 120px; }\\n  table .discount {\\n    width: 70px; }\\n  table .total {\\n    width: 170px; }\\n  ::ng-deep .ng-dropdown-panel {\\n  margin-top: 40px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2ludmVudG9yeS9hZGQtbWF0ZXJpYWwtcmVjZWlwdC9GOlxcdGVzdGluZ19kZWxldGVfZm9sZGVyXFxUUlVDS19ERU1PX29sZEdhbmVzaFxcZnJvbnRlbmRcXHRkX2Zyb250ZW5kL3NyY1xcYXBwXFxsYXlvdXRcXGludmVudG9yeVxcYWRkLW1hdGVyaWFsLXJlY2VpcHRcXGFkZC1tYXRlcmlhbC1yZWNlaXB0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxjQUFjLEVBQUE7RUFIbEI7SUFLUSxZQUNKLEVBQUE7RUFOSjtJQVFRLFdBQ0osRUFBQTtFQVRKO0lBV1EsV0FDSixFQUFBO0VBWko7SUFjUSxZQUNKLEVBQUE7RUFmSjtJQWlCUSxXQUNKLEVBQUE7RUFsQko7SUFvQlEsWUFDSixFQUFBO0VBSUY7RUFDSSwyQkFBNEIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvYWRkLW1hdGVyaWFsLXJlY2VpcHQvYWRkLW1hdGVyaWFsLXJlY2VpcHQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZSB7XHJcbiAgICBvdmVyZmxvdy14OiBzY3JvbGw7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgc2VsZWN0IHtcclxuICAgICAgICB3aWR0aDogMTUwcHhcclxuICAgIH1cclxuICAgIC51bml0IHtcclxuICAgICAgICB3aWR0aDogNzBweFxyXG4gICAgfVxyXG4gICAgLnF0eSB7XHJcbiAgICAgICAgd2lkdGg6IDcwcHhcclxuICAgIH1cclxuICAgIC5wcmljZXtcclxuICAgICAgICB3aWR0aDogMTIwcHhcclxuICAgIH1cclxuICAgIC5kaXNjb3VudHtcclxuICAgICAgICB3aWR0aDogNzBweFxyXG4gICAgfVxyXG4gICAgLnRvdGFse1xyXG4gICAgICAgIHdpZHRoOiAxNzBweFxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIDo6bmctZGVlcCAubmctZHJvcGRvd24tcGFuZWwge1xyXG4gICAgICBtYXJnaW4tdG9wIDogNDBweCAhaW1wb3J0YW50O1xyXG4gIH0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\nimport { MaintenanceService } from 'src/app/shared/services/maintenance.service';\r\nimport { itemUnits } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { Router } from '@angular/router';\r\nimport { DashboardService } from 'src/app/shared/services/dashboard.service';\r\ndeclare var moment: any;\r\n\r\n\r\n@Component({\r\n  selector: 'app-add-material-receipt',\r\n  templateUrl: './add-material-receipt.component.html',\r\n  styleUrls: ['./add-material-receipt.component.scss']\r\n})\r\nexport class AddMaterialReceiptComponent implements OnInit {\r\n  public mrForm: any;\r\n  public process: string;\r\n  public bsConfig: Partial<BsDatepickerConfig>;\r\n  public siteOptions: any;\r\n  minDate;\r\n  site_name: any;\r\n  usertype: any;\r\n  loading = false;\r\n  public vendor_option: any;\r\n  public dept_option: any;\r\n  public materialr_items; any;\r\n  public unit_option = itemUnits;\r\n  godowns = [];\r\n  public currentDate = new Date();\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private metaService: MetaService,\r\n    private ms: MaintenanceService,\r\n    private is: InventoryService,\r\n    private ds: DashboardService,\r\n    private router: Router\r\n  ) {\r\n    this.usertype = this.metaService.getSiteFromStorage().role;\r\n    this.site_name = this.metaService.getSiteFromStorage().site;\r\n    const current = new Date();\r\n    this.minDate = {\r\n      year: current.getFullYear(),\r\n      month: current.getMonth() + 1,\r\n      day: current.getDate()\r\n    };\r\n}\r\n\r\n  ngOnInit() {\r\n    this.bsConfig = Object.assign({},\r\n      { containerClass: 'theme-blue', 'rangeInputFormat': 'MMMM Do YYYY', minDate: new Date(), 'showWeekNumbers': false });\r\n    this.buildForm();\r\n    this.mrForm.controls.materialr_items.valueChanges.subscribe(changes => {\r\n      this.updateValues();\r\n    });\r\n    this.getOptions();\r\n    this.getSites();\r\n  }\r\n  public buildForm(): void {\r\n    this.mrForm = this.fb.group(\r\n      {\r\n        'site': [''],\r\n        'mr_type': ['', [Validators.required]],\r\n        'mr_number': ['', [Validators.required]],\r\n        'mr_date': [{year: new Date().getFullYear(), month: new Date().getMonth() + 1, day: new Date().getDate()}],\r\n        'vendor': ['', [Validators.required]],\r\n        'department': ['', [Validators.required]],\r\n        'godown': ['', [Validators.required]],\r\n        'rec_type': ['', [Validators.required]],\r\n        'invno': '',\r\n        'invdate': [''],\r\n        'pjno': '',\r\n        'materialr_items': this.fb.array([\r\n        ]),\r\n        'narration': [''],\r\n        'gross_amount': [''],\r\n        'cgst_amount': [''],\r\n        'sgst_amount': [''],\r\n        'igst_amount': [''],\r\n        'net_amount': [''],\r\n        'rounded_off': [''],\r\n        'round_off_type': [''],\r\n        'total_amount': ['']\r\n      }\r\n    );\r\n    this.addMrItems();\r\n  }\r\n  private initItems() {\r\n    return this.fb.group({\r\n      'name': [''],\r\n      'item_id': ['', [Validators.required]],\r\n      'unit': [''],\r\n      'qty': [0, [Validators.required]],\r\n      'price': [0, [Validators.required]],\r\n      'discount': [0, [Validators.required]],\r\n      'discounted_price': [0],\r\n      'cgst': [0, [Validators.required]],\r\n      'sgst': [0, [Validators.required]],\r\n      'igst': [0, [Validators.required]],\r\n      'total': ['', [Validators.required]]\r\n    });\r\n  }\r\n  addMrItems() {\r\n    const control = <FormArray>this.mrForm.controls['materialr_items'];\r\n    control.push(this.initItems());\r\n  }\r\n  removeItems(i: number) {\r\n    const control = <FormArray>this.mrForm.controls['materialr_items'];\r\n    control.removeAt(i);\r\n  }\r\n  public removed(value: any): void {\r\n    const product_id = value['id'];\r\n    const materialr_items = this.mrForm.controls['materialr_items'].value;\r\n    const index = materialr_items.map(function (items) { return items.product_id; }).indexOf(product_id);\r\n    this.removeItems(index);\r\n  }\r\n\r\n  public save() {\r\n    let mr_date;\r\n    if (this.mrForm.controls['mr_date'].value) {\r\n      const dt = this.mrForm.controls['mr_date'].value.year + '-' +\r\n        this.mrForm.controls['mr_date'].value.month + '-' +\r\n        this.mrForm.controls['mr_date'].value.day;\r\n      mr_date = moment(dt, 'YYYY-MM-DD').format();\r\n      console.log(mr_date);\r\n    } else {\r\n      mr_date = moment().format();\r\n    }\r\n\r\n\r\n    let invdate;\r\n    if (this.mrForm.controls['invdate'].value) {\r\n      const dt = this.mrForm.controls['invdate'].value.year + '-' +\r\n        this.mrForm.controls['invdate'].value.month + '-' +\r\n        this.mrForm.controls['invdate'].value.day;\r\n      invdate = moment(dt, 'YYYY-MM-DD').format();\r\n    } else {\r\n      invdate = moment().format();\r\n    }\r\n\r\n    this.process = 'saving';\r\n\r\n    let data = this.mrForm.value;\r\n    data.mr_date = mr_date;\r\n    data.invdate = invdate;\r\n\r\n    this.is.addMr(this.mrForm.value).subscribe(mrInfo => {\r\n      this.process = 'done';\r\n      this.router.navigate(['/inventory/material-receipt']);\r\n    }, error => { this.process = 'done'; console.log(error);\r\n  });\r\n  }\r\n\r\n  getSites() {\r\n    this.loading = true;\r\n    this.metaService.getSites().subscribe((res: any) => {\r\n        this.loading = false;\r\n        this.siteOptions = res;\r\n        if (this.usertype === 'ADMIN') {\r\n          this.mrForm.controls['site'].setValue(this.siteOptions[0].branch_name);\r\n        } else {\r\n          this.mrForm.controls['site'].setValue(this.site_name);\r\n        }\r\n      },\r\n      err => {\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  private getOptions() {\r\n    // this.metaService.getSites().subscribe(siteInfo => {\r\n    //   this.siteOptions = siteInfo;\r\n    // });\r\n\r\n    this.ms.getVendorMasterList().subscribe(siteInfo => {\r\n      this.vendor_option = siteInfo['result'];\r\n      console.log('>>>>Vendor List', siteInfo['result']);\r\n    });\r\n    this.metaService.getDeptList().subscribe(trackInfo => {\r\n      this.dept_option = trackInfo['result'];\r\n    });\r\n\r\n    this.ds.getGodownList().subscribe( (res: any) => {\r\n      this.godowns = res;\r\n    });\r\n\r\n    this.ms.getItemMaster().subscribe(trackInfo => {\r\n      this.materialr_items = trackInfo['records'];\r\n    });\r\n  }\r\n  public updateValues() {\r\n    let gross_price = 0;\r\n    let cgst_price = 0;\r\n    let sgst_price = 0;\r\n    let igst_price = 0;\r\n    let net_price = 0;\r\n    const control = <FormArray>this.mrForm.controls['materialr_items'];\r\n    for (var intial_val = 0; intial_val < control.length; intial_val++) {\r\n      const values = control.controls[intial_val].value;\r\n\r\n      const item_mater_data = this.materialr_items.find(item => item['_id'] == values['item_id']);\r\n      const qty = values['qty'] ? values['qty'] : item_mater_data ? 1 : 0;\r\n      // const price = values['price'] ? values['price'] : item_mater_data ? parseFloat(item_mater_data['rate']) : 0;\r\n      const price = values['price'] ? values['price'] : item_mater_data ? 0 : 0;\r\n      const original_price = qty * price;\r\n      const dis_difference = parseFloat(values['discount']) / 100;\r\n      const discounted_amount = original_price * dis_difference;\r\n      // gross amount\r\n      const discounted_price = original_price - discounted_amount;\r\n      // individual tax calculation\r\n      const cgst_perc = values['cgst'];\r\n      const cgst_amount = parseFloat(cgst_perc) / 100;\r\n      const cgsttaxamount = discounted_price * cgst_amount;\r\n\r\n      const sgst_perc = values['sgst'];\r\n      const sgst_amount = parseFloat(sgst_perc) / 100;\r\n      const sgsttaxamount = discounted_price * sgst_amount;\r\n\r\n      const igst_perc = values['igst'];\r\n      const igst_amount = parseFloat(igst_perc) / 100;\r\n      const igsttaxamount = discounted_price * igst_amount;\r\n\r\n      // Tax calculation starts here\r\n      const total_taxes = values['cgst'] + values['sgst'] + values['igst'];\r\n      const tax_difference = parseFloat(total_taxes) / 100;\r\n      const tax_axmount = discounted_price * tax_difference;\r\n      const total = discounted_price + tax_axmount;\r\n      const unit = values['unit'] ? values['unit'] : item_mater_data ? item_mater_data.unit : '';\r\n\r\n      // Tax calculation ends here\r\n      control.controls[intial_val].patchValue({\r\n        unit: unit,\r\n        price: price,\r\n        name: item_mater_data ? item_mater_data.name : '',\r\n        qty: qty,\r\n        discounted_price: discounted_price,\r\n        total: total.toFixed(5)\r\n      }, { emitEvent: false });\r\n      gross_price += discounted_price;\r\n      cgst_price += cgsttaxamount;\r\n      sgst_price += sgsttaxamount;\r\n      igst_price += igsttaxamount;\r\n      net_price += total;\r\n    }\r\n    this.mrForm.patchValue({\r\n      'gross_amount': gross_price,\r\n      'cgst_amount': cgst_price,\r\n      'sgst_amount': sgst_price,\r\n      'igst_amount': igst_price,\r\n      'net_amount': net_price,\r\n      'rounded_off': net_price,\r\n      'total_amount': net_price\r\n    }, { emitEvent: false });\r\n  }\r\n  public generateMrNumber() {\r\n    const mr_type = this.mrForm.controls.mr_type.value;\r\n    const site = this.mrForm.controls.site.value;\r\n    if (site && mr_type) {\r\n      const matchCond = { site: site, mr_type: mr_type };\r\n      console.log('mathCond >>' , matchCond );\r\n      this.is.getMrNumberDetails(matchCond).subscribe(mrInfo => {\r\n        this.mrForm.controls.mr_number.setValue(mrInfo['count'] + 1);\r\n      }, error => { console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <form [formGroup]=\\\"orderForm\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n      <div class=\\\"card-header\\\">Add Order</div>\\r\\n\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <div class=\\\"form-group row\\\">\\r\\n\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Site</label>\\r\\n            <ng-select [items]=\\\"siteOptions\\\" placeholder=\\\"Type and search site\\\" bindLabel=\\\"branch_name\\\" bindValue=\\\"branch_name\\\"\\r\\n              formControlName=\\\"site\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Order type</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"order_type\\\" (change)=\\\"generateOrderNumber()\\\">\\r\\n              <option value=\\\"\\\">Please select order type</option>\\r\\n              <option value=\\\"Job order\\\">Job order</option>\\r\\n              <option value=\\\"Purchase order\\\">Purchase order</option>\\r\\n            </select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n            <label class=\\\"required\\\">Order no</label>\\r\\n            <input disabled type=\\\"text\\\" formControlName=\\\"order_number\\\" class=\\\"form-control\\\" placeholder=\\\"order no\\\">\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n            <label class=\\\"required\\\">Order date</label>\\r\\n            <div class=\\\"input-group datepicker-input\\\">\\r\\n              <input\\r\\n                class=\\\"form-control\\\"\\r\\n                placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                name=\\\"dp2\\\"\\r\\n                formControlName=\\\"order_date\\\"\\r\\n                ngbDatepicker\\r\\n                #d2=\\\"ngbDatepicker\\\"\\r\\n              />\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d2.toggle()\\\" type=\\\"button\\\">\\r\\n                  <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n\\r\\n          <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"required\\\">Delivery date</label>\\r\\n              <div class=\\\"input-group datepicker-input\\\">\\r\\n                <input\\r\\n                  class=\\\"form-control\\\"\\r\\n                  placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                  name=\\\"dp1\\\"\\r\\n                  formControlName=\\\"delivery_date\\\"\\r\\n                  ngbDatepicker\\r\\n                  #d1=\\\"ngbDatepicker\\\"\\r\\n                />\\r\\n                <div class=\\\"input-group-append\\\">\\r\\n                  <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d1.toggle()\\\" type=\\\"button\\\">\\r\\n                    <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                  </button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group row\\\">\\r\\n\\r\\n\\r\\n\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Vendor</label>\\r\\n            <ng-select [items]=\\\"vendor_option\\\" placeholder=\\\"Type and search vendor\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n              formControlName=\\\"vendor\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n            <label class=\\\"required\\\">Job type</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"job_type\\\">\\r\\n              <option value=\\\"\\\">Please select job type</option>\\r\\n              <option value=\\\"Direct\\\">Direct</option>\\r\\n              <option value=\\\"Job order\\\">Job order</option>\\r\\n              <option value=\\\"Estimate\\\">Estimate</option>\\r\\n            </select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Department</label>\\r\\n            <ng-select [items]=\\\"dept_option\\\" placeholder=\\\"Type and search Department\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n              formControlName=\\\"department\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12\\\">\\r\\n            <div class=\\\"card\\\">\\r\\n              <div class=\\\"card-header\\\">\\r\\n                Order line items\\r\\n                <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"addOrderItems()\\\" [disabled]=\\\"!orderForm.valid\\\"\\r\\n                  type=\\\"button\\\">\\r\\n                  Add Item\\r\\n                </button>\\r\\n              </div>\\r\\n              <!-- /.box-header -->\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"orderForm.controls.order_items.controls.length > 0\\\">\\r\\n                <table class=\\\"table table-bordered\\\" formArrayName=\\\"order_items\\\">\\r\\n                  <tr>\\r\\n                    <th>Item</th>\\r\\n                    <th>Unit</th>\\r\\n                    <th>Qty</th>\\r\\n                    <th>Price(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Dis(%)</th>\\r\\n                    <th>CGST(%)</th>\\r\\n                    <th>SGST(%)</th>\\r\\n                    <th>IGST(%)</th>\\r\\n                    <th>Amount(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Action</th>\\r\\n                  </tr>\\r\\n                  <tr *ngFor=\\\"let school of orderForm.controls.order_items.controls; let i=index\\\" formGroupName=\\\"{{i}}\\\">\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group ngs\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                          <ng-select [items]=\\\"order_items\\\" appendTo=\\\".card-body\\\" class=\\\"form-control\\\" style=\\\"width:250px !important;\\\" placeholder=\\\"Type and search items\\\" bindLabel=\\\"name\\\" bindValue=\\\"_id\\\"\\r\\n                          formControlName=\\\"item_id\\\">\\r\\n                        </ng-select>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"unit\\\">\\r\\n                          <option value=\\\"\\\">Please select units</option>\\r\\n                          <option *ngFor=\\\"let option of unit_option\\\" [value]=\\\"option\\\"> {{option}}</option>\\r\\n                        </select>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"qty\\\" class=\\\"form-control qty\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"price\\\" class=\\\"form-control price\\\">\\r\\n\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"discount\\\" class=\\\"form-control discount\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"cgst\\\" class=\\\"form-control discount\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"sgst\\\" class=\\\"form-control discount\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"igst\\\" class=\\\"form-control discount\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total\\\" class=\\\"form-control total\\\">\\r\\n\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <button class=\\\"btn btn-danger float-right\\\"\\r\\n                        [disabled]=\\\"orderForm.controls?.order_items.controls.length == 1\\\" (click)=\\\"removeItems(i)\\\"\\r\\n                        type=\\\"button\\\">\\r\\n                        <i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </button>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </table>\\r\\n              </div>\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"orderForm.controls?.order_items.controls.length == 0\\\">\\r\\n                <p>Please select vendor</p>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"mt-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n              <label class=\\\"\\\">Narration</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"narration\\\" class=\\\"form-control\\\" placeholder=\\\"Please enter narration\\\">\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n              <label class=\\\"\\\">Terms And Conditions</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"terms_and_conditions\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"Please enter terms and conditions\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Net Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"net_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Rounded off</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"rounded_off\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"required\\\">Round of Type</label>\\r\\n              <select class=\\\"form-control\\\" formControlName=\\\"round_off_type\\\">\\r\\n                <option>Please select site</option>\\r\\n                <option value=\\\"plus\\\">Plus</option>\\r\\n                <option value=\\\"minus\\\">Minus</option>\\r\\n              </select>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Total</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"card-footer\\\">\\r\\n        <button class=\\\"btn btn-success float-right\\\" (click)=\\\"saveOrders()\\\" [disabled]=\\\"!orderForm.valid || process == 'saving'\\\" type=\\\"button\\\">\\r\\n          Save <i *ngIf=\\\"process == 'saving'\\\" class=\\\"fa fa-spinner fa-spin\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\"","module.exports = \"table {\\n  overflow-x: scroll;\\n  width: 100%;\\n  display: block; }\\n  table select {\\n    width: 150px; }\\n  table .qty {\\n    width: 70px; }\\n  table .price {\\n    width: 120px; }\\n  table .discount {\\n    width: 70px; }\\n  table .total {\\n    width: 170px; }\\n  ::ng-deep .ng-dropdown-panel {\\n  margin-top: 40px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2ludmVudG9yeS9hZGQtb3JkZXIvRjpcXHRlc3RpbmdfZGVsZXRlX2ZvbGRlclxcVFJVQ0tfREVNT19vbGRHYW5lc2hcXGZyb250ZW5kXFx0ZF9mcm9udGVuZC9zcmNcXGFwcFxcbGF5b3V0XFxpbnZlbnRvcnlcXGFkZC1vcmRlclxcYWRkLW9yZGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxjQUFjLEVBQUE7RUFIbEI7SUFLUSxZQUNKLEVBQUE7RUFOSjtJQVFRLFdBQ0osRUFBQTtFQVRKO0lBV1EsWUFDSixFQUFBO0VBWko7SUFjUSxXQUNKLEVBQUE7RUFmSjtJQWlCUSxZQUNKLEVBQUE7RUFFRjtFQUNFLDJCQUE0QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbGF5b3V0L2ludmVudG9yeS9hZGQtb3JkZXIvYWRkLW9yZGVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUge1xyXG4gICAgb3ZlcmZsb3cteDogc2Nyb2xsO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHNlbGVjdCB7XHJcbiAgICAgICAgd2lkdGg6IDE1MHB4XHJcbiAgICB9XHJcbiAgICAucXR5IHtcclxuICAgICAgICB3aWR0aDogNzBweFxyXG4gICAgfVxyXG4gICAgLnByaWNle1xyXG4gICAgICAgIHdpZHRoOiAxMjBweFxyXG4gICAgfVxyXG4gICAgLmRpc2NvdW50e1xyXG4gICAgICAgIHdpZHRoOiA3MHB4XHJcbiAgICB9XHJcbiAgICAudG90YWx7XHJcbiAgICAgICAgd2lkdGg6IDE3MHB4XHJcbiAgICB9XHJcbiAgfVxyXG4gIDo6bmctZGVlcCAubmctZHJvcGRvd24tcGFuZWwge1xyXG4gICAgbWFyZ2luLXRvcCA6IDQwcHggIWltcG9ydGFudDtcclxufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\nimport { MaintenanceService } from 'src/app/shared/services/maintenance.service';\r\nimport { itemUnits } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { Router , ActivatedRoute} from '@angular/router';\r\nimport { EstimateService } from 'src/app/shared/services/estimates.service';\r\ndeclare var moment: any;\r\n\r\n\r\n@Component({\r\n  selector: 'app-add-order',\r\n  templateUrl: './add-order.component.html',\r\n  styleUrls: ['./add-order.component.scss']\r\n})\r\nexport class AddOrderComponent implements OnInit {\r\n  public orderForm: any;\r\n  public process: string;\r\n  public bsConfig: Partial<BsDatepickerConfig>;\r\n  public siteOptions: any;\r\n  public vendor_option: any;\r\n  public dept_option: any;\r\n  public order_items; any;\r\n  public unit_option = itemUnits;\r\n  public currentDate = new Date();\r\n  minDate;\r\n  selectedValues = [];\r\n  site_name: any;\r\n  usertype: any;\r\n  loading = false;\r\n\r\n  estimateId;\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private metaService: MetaService,\r\n    private ms: MaintenanceService,\r\n    private es: EstimateService,\r\n    private is: InventoryService,\r\n    private router: Router,\r\n    private aroute: ActivatedRoute\r\n  ) {\r\n    this.usertype = this.metaService.getSiteFromStorage().role;\r\n    this.site_name = this.metaService.getSiteFromStorage().site;\r\n    const current = new Date();\r\n    this.minDate = {\r\n      year: current.getFullYear(),\r\n      month: current.getMonth() + 1,\r\n      day: current.getDate()\r\n    };\r\n\r\n}\r\n\r\nid(product){\r\n  for(var i = 0 ; i < this.order_items.length; i++){\r\n    if(product==this.order_items[i].name){\r\n      return this.order_items._id;\r\n    }\r\n  }\r\n}\r\n\r\n  ngOnInit() {\r\n    this.bsConfig = Object.assign({},\r\n      { containerClass: 'theme-blue', 'rangeInputFormat': 'MMMM Do YYYY', minDate: new Date(), 'showWeekNumbers': false });\r\n\r\n    this.buildForm();\r\n    this.orderForm.controls.order_items.valueChanges.subscribe(changes => {\r\n      this.updateValues()\r\n    });\r\n    this.getOptions();\r\n    this.getSites();\r\n\r\n    this.aroute.params.subscribe(param => {  \r\n      var id = param['estimateId']\r\n      this.estimateId = id;\r\n      this.es.getEstimatesSubmisionById(id).subscribe(res=>{\r\n          let value = {\r\n            'order_type':'Purchase order',\r\n            'vendor':res['result'].vendor,\r\n            'job_type':'Estimate'\r\n          }\r\n          this.orderForm.patchValue(value);\r\n      })\r\n      this.es.getEstimatesProdSubmisions(id).subscribe(res=>{\r\n        var estimates = res['result'];\r\n        var values = [];\r\n        for(var i = 0; i < estimates.length;i++){\r\n          var ei = estimates[i];\r\n          let value = {\r\n            'item_id': ei.product,\r\n            'unit': ei.unit,\r\n            'qty': ei.productQty,\r\n            'price': ei.unitRate,\r\n            'discount': ei.discount,\r\n            'cgst': ei.cgst,\r\n            'sgst': ei.sgst,\r\n            'igst': ei.igst,\r\n            'total': ei.total\r\n          }\r\n          this.selectedValues.push(value);\r\n          values.push(value);\r\n          if(i>0){\r\n            this.addOrderItems()\r\n          } \r\n        }\r\n        const control = <FormArray>this.orderForm.controls['order_items'];\r\n        control.patchValue(values);\r\n        for(var i = 0; i < values.length;i++){\r\n          let invalue = i;\r\n          this.ms.getItemMaster().subscribe(trackInfo => {\r\n            this.order_items = trackInfo['records'];\r\n            for(var ii = 0 ; ii < this.order_items.length; ii++){\r\n              if(this.selectedValues[invalue].item_id==this.order_items[ii].name){\r\n                let val = {\r\n                  'item_id': this.order_items[ii]._id\r\n                } \r\n                values[invalue].item_id=this.order_items[ii]._id\r\n                console.log(val)\r\n                control.at(invalue).patchValue(val);\r\n              }\r\n            }\r\n          });\r\n        }\r\n      })\r\n    });\r\n\r\n  }\r\n\r\n  public buildForm(): void {\r\n    this.orderForm = this.fb.group(\r\n      {\r\n        'order_date': [{year: new Date().getFullYear(), month: new Date().getMonth() + 1, day: new Date().getDate()}],\r\n        'delivery_date': [''],\r\n        'site': ['', [Validators.required]],\r\n        'order_type': ['', [Validators.required]],\r\n        'order_number': ['', [Validators.required]],\r\n        'vendor': ['', [Validators.required]],\r\n        'job_type': ['', [Validators.required]],\r\n        'department': ['', [Validators.required]],\r\n        'order_items': this.fb.array([\r\n\r\n        ]),\r\n        'narration': [''],\r\n        'terms_and_conditions': [''],\r\n        'net_amount': [''],\r\n        'rounded_off': [''],\r\n        'round_off_type': [''],\r\n        'total_amount': ['']\r\n      }\r\n    );\r\n    this.addOrderItems();\r\n  }\r\n  private initItems() {\r\n    return this.fb.group({\r\n      'name': [''],\r\n      'item_id': [null, [Validators.required]],\r\n      'unit': [''],\r\n      'qty': [0, [Validators.required]],\r\n      'price': [0, [Validators.required]],\r\n      'discount': [0, [Validators.required]],\r\n      'discounted_price': [0],\r\n      'cgst': [0, [Validators.required]],\r\n      'sgst': [0, [Validators.required]],\r\n      'igst': [0, [Validators.required]],\r\n      'total': ['', [Validators.required]]\r\n    });\r\n  }\r\n  addOrderItems() {\r\n    const control = <FormArray>this.orderForm.controls['order_items'];\r\n    control.push(this.initItems());\r\n  }\r\n\r\n  \r\n\r\n  removeItems(i: number) {\r\n    const control = <FormArray>this.orderForm.controls['order_items'];\r\n    control.removeAt(i);\r\n  }\r\n  public removed(value: any): void {\r\n    let product_id = value['id']\r\n    let order_items = this.orderForm.controls['order_items'].value\r\n    var index = order_items.map(function (items) { return items.product_id; }).indexOf(product_id);\r\n    this.removeItems(index)\r\n  }\r\n  public saveOrders() {\r\n    let order_date;\r\n    if (this.orderForm.controls['order_date'].value) {\r\n      const dt = this.orderForm.controls['order_date'].value.year + '-' +\r\n        this.orderForm.controls['order_date'].value.month + '-' +\r\n        this.orderForm.controls['order_date'].value.day;\r\n      order_date = moment(dt, 'YYYY-MM-DD').format();\r\n    } else {\r\n      order_date = moment().format();\r\n    }\r\n\r\n    let delivery_date;\r\n    if (this.orderForm.controls['delivery_date'].value) {\r\n      const dt = this.orderForm.controls['delivery_date'].value.year + '-' +\r\n        this.orderForm.controls['delivery_date'].value.month + '-' +\r\n        this.orderForm.controls['delivery_date'].value.day;\r\n      delivery_date = moment(dt, 'YYYY-MM-DD').format();\r\n    } else {\r\n      delivery_date = moment().format();\r\n    }\r\n\r\n    this.process = 'saving';\r\n    let data = this.orderForm.value;\r\n    data.order_date = order_date;\r\n    data.delivery_date = delivery_date;\r\n\r\n    this.is.crateOrder(this.orderForm.value).subscribe(ordersInfo => {\r\n      this.process = 'done';\r\n      this.es.updateEstimateSubmission(this.estimateId).subscribe(res=>{\r\n      })\r\n      this.router.navigate(['/inventory/orders']);\r\n    }, error => { this.process = 'done'; console.log(error);\r\n   });\r\n  }\r\n\r\n  getSites() {\r\n    this.loading = true;\r\n    this.metaService.getSites().subscribe((res: any) => {\r\n        this.loading = false;\r\n        this.siteOptions = res;\r\n        if (this.usertype === 'ADMIN') {\r\n          this.orderForm.controls['site'].setValue(this.siteOptions[0].branch_name);\r\n        } else {\r\n          this.orderForm.controls['site'].setValue(this.site_name);\r\n        }\r\n      },\r\n      err => {\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n  private getOptions() {\r\n    // this.metaService.getSites().subscribe(siteInfo => {\r\n    //   this.siteOptions = siteInfo;\r\n    // });\r\n    this.ms.getVendorMasterList().subscribe(siteInfo => {\r\n      this.vendor_option = siteInfo['result'];\r\n    });\r\n    this.metaService.getDeptList().subscribe(trackInfo => {\r\n      this.dept_option = trackInfo['result'];\r\n    });\r\n   this.ms.getItemMaster().subscribe(trackInfo => {\r\n      this.order_items = trackInfo['records'];\r\n    });\r\n\r\n  }\r\n\r\n  public updateValues() {\r\n    let net_price = 0;\r\n    const control = <FormArray>this.orderForm.controls['order_items'];\r\n    for (var intial_val = 0; intial_val < control.length; intial_val++) {\r\n      let values = control.controls[intial_val].value\r\n\r\n      let item_mater_data = this.order_items ? this.order_items.find(item => item['_id'] == values['item_id']): '';\r\n      let qty = values['qty'] ? values['qty'] : item_mater_data ? 1 : 0;\r\n      let price = values['price'] ? values['price'] : item_mater_data ? parseFloat(item_mater_data['rate']) : 0\r\n      let original_price = qty * price;\r\n      let dis_difference = parseFloat(values['discount']) / 100;\r\n      let discounted_amount = original_price * dis_difference\r\n      let discounted_price = original_price - discounted_amount\r\n      // Tax calculation starts here\r\n      let total_taxes = values['cgst'] + values['sgst'] + values['igst']\r\n      let tax_difference = parseFloat(total_taxes) / 100;\r\n      let tax_axmount = discounted_price * tax_difference\r\n      let total = discounted_price + tax_axmount\r\n      let unit = values['unit'] ? values['unit'] : item_mater_data ? item_mater_data.unit : '';\r\n\r\n      // Tax calculation ends here\r\n      control.controls[intial_val].patchValue({\r\n        unit: unit,\r\n        price: price,\r\n        name: item_mater_data ? item_mater_data.name : '',\r\n        qty: qty,\r\n        discounted_price: discounted_price,\r\n        total: total.toFixed(5)\r\n      }, { emitEvent: false })\r\n      net_price += total;\r\n    }\r\n    this.orderForm.patchValue({\r\n      'net_amount': net_price,\r\n      'rounded_off': net_price,\r\n      'total_amount': net_price\r\n    }, { emitEvent: false })\r\n  }\r\n  \r\n  // public generateOrderNumber() {\r\n  //   const order_type = this.orderForm.controls.order_type.value;\r\n  //   this.is.getOrderNumberDetails(order_type).subscribe(vorderInfo => {\r\n  //     this.orderForm.controls.order_number.setValue(vorderInfo['count'] + 1);\r\n  //   }, error => { console.log(error);\r\n\r\n  //   });\r\n  // }\r\n\r\n  public generateOrderNumber() {\r\n    const order_type = this.orderForm.controls.order_type.value;\r\n    const site = this.orderForm.controls.site.value;\r\n    if (site && order_type) {\r\n      const matchCond = { site: site, order_type: order_type };\r\n      console.log('mathCond >>' , matchCond );\r\n      this.is.getOrderNumberDetails(matchCond).subscribe(mrInfo => {\r\n        this.orderForm.controls.order_number.setValue(mrInfo['count'] + 1);\r\n      }, error => { console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <form [formGroup]=\\\"ssForm\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n      <div class=\\\"card-header\\\">Add Scrap Sale</div>\\r\\n      <div class=\\\"card-body\\\">\\r\\n        <div class=\\\"form-group row\\\">\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Site</label>\\r\\n            <ng-select [items]=\\\"siteOptions\\\" placeholder=\\\"Type and search site\\\" bindLabel=\\\"branch_name\\\" bindValue=\\\"branch_name\\\"\\r\\n              formControlName=\\\"site\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Sale type</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"ss_type\\\" (change)=\\\"generateSsNumber()\\\">\\r\\n              <option value=\\\"\\\">Select Sale type</option>\\r\\n              <option value=\\\"Scrap Sale\\\">Scrap Sale</option>\\r\\n              <option value=\\\"Truck Issue\\\">Truck Issue</option>\\r\\n            </select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Scrap Sale no</label>\\r\\n            <input disabled type=\\\"text\\\" formControlName=\\\"ss_number\\\" class=\\\"form-control\\\">\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Scrap Sale date</label>\\r\\n            <div class=\\\"input-group datepicker-input\\\">\\r\\n              <input\\r\\n                class=\\\"form-control\\\"\\r\\n                placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                name=\\\"dp2\\\"\\r\\n                formControlName=\\\"ss_date\\\"\\r\\n                ngbDatepicker\\r\\n                #d2=\\\"ngbDatepicker\\\"\\r\\n              />\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d2.toggle()\\\" type=\\\"button\\\">\\r\\n                  <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Issued By</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"issuedby\\\">\\r\\n              <option value=\\\"\\\">Select Issued By</option>\\r\\n              <option *ngFor=\\\"let i of issuedby_option\\\" [value]=\\\"i.issuedby\\\"> {{i.issuedby}}</option>\\r\\n            </select>\\r\\n          </div>\\r\\n\\r\\n        <!-- </div>\\r\\n\\r\\n        <div class=\\\"form-group row\\\"> -->\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Department</label>\\r\\n            <ng-select [items]=\\\"dept_option\\\" placeholder=\\\"Type and search Department\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n              formControlName=\\\"department\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <label class=\\\"required\\\">Vendor</label>\\r\\n            <ng-select [items]=\\\"vendor_option\\\" placeholder=\\\"Type and search vendor\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n              formControlName=\\\"vendor\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12\\\">\\r\\n            <div class=\\\"card\\\">\\r\\n              <div class=\\\"card-header\\\">\\r\\n                Scrap Sale items\\r\\n                <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"addSsitems()\\\" [disabled]=\\\"!ssForm.valid\\\"\\r\\n                  type=\\\"button\\\">\\r\\n                  Add Item\\r\\n                </button>\\r\\n              </div>\\r\\n              <!-- /.box-header -->\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"ssForm.controls.scraps_items.controls.length > 0\\\">\\r\\n                <table class=\\\"table table-bordered\\\" formArrayName=\\\"scraps_items\\\">\\r\\n                  <tr>\\r\\n                    <th>Item</th>\\r\\n                    <th>Unit</th>\\r\\n                    <th>Qty</th>\\r\\n                    <th>Price(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Godown</th>\\r\\n                    <th>Amount(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Action</th>\\r\\n                  </tr>\\r\\n                  <tr *ngFor=\\\"let school of ssForm.controls.scraps_items.controls; let i=index\\\" formGroupName=\\\"{{i}}\\\">\\r\\n                    <!-- <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"item_id\\\">\\r\\n                          <option value=\\\"\\\">Select item</option>\\r\\n                          <option *ngFor=\\\"let option of scraps_items\\\" [value]=\\\"option._id\\\"> {{option.name}}</option>\\r\\n                        </select>\\r\\n                      </div>\\r\\n                    </td> -->\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group ngs\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                          <ng-select [items]=\\\"scraps_items\\\" appendTo=\\\".card-body\\\" class=\\\"form-control\\\" style=\\\"width:250px !important;\\\" placeholder=\\\"Type and search items\\\" bindLabel=\\\"name\\\" bindValue=\\\"_id\\\"\\r\\n                          formControlName=\\\"item_id\\\">\\r\\n                        </ng-select>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"unit\\\">\\r\\n                          <option value=\\\"\\\">Select units</option>\\r\\n                          <option *ngFor=\\\"let option of unit_option\\\" [value]=\\\"option\\\"> {{option}}</option>\\r\\n                        </select>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"qty\\\"\\r\\n                        class=\\\"form-control qty\\\">\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"price\\\" class=\\\"form-control price\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"godown\\\">\\r\\n                          <option value=\\\"\\\">Select godown</option>\\r\\n                          <option *ngFor=\\\"let g of scraps_godowns\\\" [value]=\\\"g.godown\\\"> {{g.godown}}</option>\\r\\n                        </select>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total\\\" class=\\\"form-control total\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <button class=\\\"btn btn-danger float-right\\\" [disabled]=\\\"ssForm.controls?.scraps_items.controls.length == 1\\\" (click)=\\\"removeItems(i)\\\" type=\\\"button\\\">\\r\\n                        <i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </button>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </table>\\r\\n              </div>\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"ssForm.controls?.scraps_items.controls.length == 0\\\">\\r\\n                <p>Please select vendor</p>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"mt-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n              <label class=\\\"\\\">Narration</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"narration\\\" class=\\\"form-control\\\" placeholder=\\\"Please enter narration\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Net Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"net_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Rounded off</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"rounded_off\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label>Round of Type</label>\\r\\n              <select class=\\\"form-control\\\" formControlName=\\\"round_off_type\\\">\\r\\n                <option>Please select site</option>\\r\\n                <option value=\\\"plus\\\">Plus</option>\\r\\n                <option value=\\\"minus\\\">Minus</option>\\r\\n              </select>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Total</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"card-footer\\\">\\r\\n        <button class=\\\"btn btn-success float-right\\\" (click)=\\\"save()\\\" [disabled]=\\\"!ssForm.valid || process == 'saving'\\\" type=\\\"button\\\">\\r\\n          Save <i *ngIf=\\\"process == 'saving'\\\" class=\\\"fa fa-spinner fa-spin\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\"","module.exports = \"table {\\n  overflow-x: scroll;\\n  width: 100%;\\n  display: block; }\\n  table select {\\n    width: 150px; }\\n  table .unit {\\n    width: 70px; }\\n  table .qty {\\n    width: 70px; }\\n  table .price {\\n    width: 120px; }\\n  table .godown {\\n    width: 70px; }\\n  table .total {\\n    width: 170px; }\\n  ::ng-deep .ng-dropdown-panel {\\n  margin-top: 40px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2ludmVudG9yeS9hZGQtc2NyYXAtc2FsZS9GOlxcdGVzdGluZ19kZWxldGVfZm9sZGVyXFxUUlVDS19ERU1PX29sZEdhbmVzaFxcZnJvbnRlbmRcXHRkX2Zyb250ZW5kL3NyY1xcYXBwXFxsYXlvdXRcXGludmVudG9yeVxcYWRkLXNjcmFwLXNhbGVcXGFkZC1zY3JhcC1zYWxlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxjQUFjLEVBQUE7RUFIbEI7SUFLUSxZQUNKLEVBQUE7RUFOSjtJQVFRLFdBQ0osRUFBQTtFQVRKO0lBV1EsV0FDSixFQUFBO0VBWko7SUFjUSxZQUNKLEVBQUE7RUFmSjtJQWlCUSxXQUNKLEVBQUE7RUFsQko7SUFvQlEsWUFDSixFQUFBO0VBRUY7RUFDRSwyQkFBNEIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvYWRkLXNjcmFwLXNhbGUvYWRkLXNjcmFwLXNhbGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZSB7XHJcbiAgICBvdmVyZmxvdy14OiBzY3JvbGw7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgc2VsZWN0IHtcclxuICAgICAgICB3aWR0aDogMTUwcHhcclxuICAgIH1cclxuICAgIC51bml0IHtcclxuICAgICAgICB3aWR0aDogNzBweFxyXG4gICAgfVxyXG4gICAgLnF0eSB7XHJcbiAgICAgICAgd2lkdGg6IDcwcHhcclxuICAgIH1cclxuICAgIC5wcmljZXtcclxuICAgICAgICB3aWR0aDogMTIwcHhcclxuICAgIH1cclxuICAgIC5nb2Rvd257XHJcbiAgICAgICAgd2lkdGg6IDcwcHhcclxuICAgIH1cclxuICAgIC50b3RhbHtcclxuICAgICAgICB3aWR0aDogMTcwcHhcclxuICAgIH1cclxuICB9XHJcbiAgOjpuZy1kZWVwIC5uZy1kcm9wZG93bi1wYW5lbCB7XHJcbiAgICBtYXJnaW4tdG9wIDogNDBweCAhaW1wb3J0YW50O1xyXG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\nimport { MaintenanceService } from 'src/app/shared/services/maintenance.service';\r\nimport { itemUnits } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { Router } from '@angular/router';\r\nimport { DashboardService } from 'src/app/shared/services/dashboard.service';\r\ndeclare var moment: any;\r\n\r\n@Component({\r\n  selector: 'app-add-scrap-sale',\r\n  templateUrl: './add-scrap-sale.component.html',\r\n  styleUrls: ['./add-scrap-sale.component.scss']\r\n})\r\nexport class AddScrapSaleComponent implements OnInit {\r\n  public ssForm: any;\r\n  public process: string;\r\n  public bsConfig: Partial<BsDatepickerConfig>;\r\n  public siteOptions: any;\r\n  public vendor_option: any;\r\n  public dept_option: any;\r\n  public issuedby_option: any;\r\n  public scraps_items: any;\r\n  public scraps_godowns: any;\r\n  public unit_option = itemUnits;\r\n  public currentDate = new Date();\r\n  site_name: any;\r\n  usertype: any;\r\n  loading = false;\r\n  minDate;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private metaService: MetaService,\r\n    private ms: MaintenanceService,\r\n    private is: InventoryService,\r\n    private ds: DashboardService,\r\n    private router: Router\r\n  ) {\r\n    this.usertype = this.metaService.getSiteFromStorage().role;\r\n    this.site_name = this.metaService.getSiteFromStorage().site;\r\n    const current = new Date();\r\n    this.minDate = {\r\n      year: current.getFullYear(),\r\n      month: current.getMonth() + 1,\r\n      day: current.getDate()\r\n    };\r\n\r\n}\r\n\r\n  ngOnInit() {\r\n    this.bsConfig = Object.assign({},\r\n      { containerClass: 'theme-blue', 'rangeInputFormat': 'MMMM Do YYYY', minDate: new Date(), 'showWeekNumbers': false });\r\n    this.buildForm();\r\n    this.ssForm.controls.scraps_items.valueChanges.subscribe(changes => {\r\n      this.updateValues();\r\n    });\r\n    this.getOptions();\r\n    this.getSites();\r\n  }\r\n  public buildForm(): void {\r\n    this.ssForm = this.fb.group(\r\n      {\r\n        'site': ['', [Validators.required]],\r\n        'ss_type': ['', [Validators.required]],\r\n        'ss_number': ['', [Validators.required]],\r\n        'ss_date': [{year: new Date().getFullYear(), month: new Date().getMonth() + 1, day: new Date().getDate()}],\r\n        'issuedby': ['', [Validators.required]],\r\n        'vendor': ['', [Validators.required]],\r\n        'department': ['', [Validators.required]],\r\n        'scraps_items': this.fb.array([\r\n        ]),\r\n        'narration': [''],\r\n        'net_amount': [''],\r\n        'rounded_off': [''],\r\n        'round_off_type': [''],\r\n        'total_amount': ['']\r\n      }\r\n    );\r\n    this.addSsitems();\r\n  }\r\n  private initItems() {\r\n    return this.fb.group({\r\n      'name': [''],\r\n      'item_id': ['', [Validators.required]],\r\n      'unit': [''],\r\n      'qty': [0, [Validators.required]],\r\n      'price': [0, [Validators.required]],\r\n      'godown': ['', [Validators.required]],\r\n      'total': [0, [Validators.required]]\r\n    });\r\n  }\r\n  addSsitems() {\r\n    const control = <FormArray>this.ssForm.controls['scraps_items'];\r\n    control.push(this.initItems());\r\n  }\r\n  removeItems(i: number) {\r\n    const control = <FormArray>this.ssForm.controls['scraps_items'];\r\n    control.removeAt(i);\r\n  }\r\n  public removed(value: any): void {\r\n    const product_id = value['id'];\r\n    const scraps_items = this.ssForm.controls['scraps_items'].value;\r\n    var index = scraps_items.map(function (items) { return items.product_id; }).indexOf(product_id);\r\n    this.removeItems(index);\r\n  }\r\n  public save() {\r\n    let ss_date;\r\n    if (this.ssForm.controls['ss_date'].value) {\r\n      const dt = this.ssForm.controls['ss_date'].value.year + '-' +\r\n        this.ssForm.controls['ss_date'].value.month + '-' +\r\n        this.ssForm.controls['ss_date'].value.day;\r\n      ss_date = moment(dt, 'YYYY-MM-DD').format();\r\n    } else {\r\n      ss_date = moment().format();\r\n    }\r\n\r\n    this.process = 'saving';\r\n    let data = this.ssForm.value;\r\n    data.ss_date = ss_date;\r\n\r\n    console.log ('Scrap Sale >> Save', this.ssForm.value);\r\n\r\n    this.is.addSs(this.ssForm.value).subscribe(ssInfo => {\r\n      this.process = 'done';\r\n      this.router.navigate(['/inventory/scrap-sale']);\r\n    }, error => { this.process = 'done'; console.log(error);\r\n  });\r\n  }\r\n  getSites() {\r\n    this.loading = true;\r\n    this.metaService.getSites().subscribe((res: any) => {\r\n        this.loading = false;\r\n        this.siteOptions = res;\r\n        if (this.usertype === 'ADMIN') {\r\n          this.ssForm.controls['site'].setValue(this.siteOptions[0].branch_name);\r\n        } else {\r\n          this.ssForm.controls['site'].setValue(this.site_name);\r\n        }\r\n      },\r\n      err => {\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n \r\n  private getOptions() {\r\n    this.metaService.getSites().subscribe(siteInfo => {\r\n      this.siteOptions = siteInfo;\r\n    });\r\n    this.metaService.getDeptList().subscribe(trackInfo => {\r\n      this.dept_option = trackInfo['result'];\r\n    });\r\n    this.ms.getVendorMasterList().subscribe(siteInfo => {\r\n      this.vendor_option = siteInfo['result'];\r\n    });\r\n\r\n    this.metaService.getIssuedbyList().subscribe(trackInfo => {\r\n      this.issuedby_option = trackInfo['result'];\r\n    });\r\n\r\n    this.ms.getItemMaster().subscribe(trackInfo => {\r\n      this.scraps_items = trackInfo['records'];\r\n    });\r\n\r\n    // this.ms.getScrapLedgerItemsList().subscribe(trackInfo => {\r\n    //   this.scraps_items = trackInfo['records'];\r\n    //   console.log('Scrap ItemsList >>>>>', this.scraps_items);\r\n    // });\r\n\r\n    this.ds.getGodownList().subscribe( (res: any) => {\r\n      this.scraps_godowns = res;\r\n    });\r\n\r\n  }\r\n  public updateValues() {\r\n    let net_price = 0;\r\n    const control = <FormArray>this.ssForm.controls['scraps_items'];\r\n    for (var intial_val = 0; intial_val < control.length; intial_val++) {\r\n      const values = control.controls[intial_val].value;\r\n      const item_mater_data = this.scraps_items.find(item => item['_id'] == values['item_id']);\r\n      const qty = values['qty'] ? values['qty'] : item_mater_data ? 0 : 0;\r\n      // const price = values['price'] ? values['price'] : item_mater_data ? parseFloat(item_mater_data['rate']) : 0;\r\n      const price = values['price'] ? values['price'] : item_mater_data ? 0 : 0;\r\n      const original_price = qty * price;\r\n      const total = original_price;\r\n      const unit = values['unit'] ? values['unit'] : item_mater_data ? item_mater_data.unit : '';\r\n\r\n      // Tax calculation ends here\r\n      control.controls[intial_val].patchValue({\r\n        unit: unit,\r\n        price: price,\r\n        name: item_mater_data ? item_mater_data.name : '',\r\n        qty: qty,\r\n        total: total.toFixed(5)\r\n      }, { emitEvent: false });\r\n      net_price += total;\r\n    }\r\n    this.ssForm.patchValue({\r\n      'net_amount': net_price,\r\n      'rounded_off': net_price,\r\n      'total_amount': net_price\r\n    }, { emitEvent: false });\r\n  }\r\n  // public generateSsNumber() {\r\n  //   const ss_type = this.ssForm.controls.ss_type.value;\r\n  //   this.is.getSsNumberDetails(ss_type).subscribe(ssInfo => {\r\n  //     this.ssForm.controls.ss_number.setValue(ssInfo['count'] + 1);\r\n  //   }, error => { console.log(error);\r\n  //    });\r\n  // }\r\n\r\n  public generateSsNumber() {\r\n    const ss_type = this.ssForm.controls.ss_type.value;\r\n    const site = this.ssForm.controls.site.value;\r\n    if (site && ss_type) {\r\n      const matchCond = { site: site, ss_type: ss_type };\r\n      console.log('mathCond >>' , matchCond );\r\n      this.is.getSsNumberDetails(matchCond).subscribe(ssInfo => {\r\n        this.ssForm.controls.ss_number.setValue(ssInfo['count'] + 1);\r\n      }, error => { console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <form [formGroup]=\\\"itemsForm\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n      <div class=\\\"card-header\\\">Edit Item Master</div>\\r\\n      <div class=\\\"card-body\\\">\\r\\n\\r\\n        <div class=\\\"form-group row\\\">\\r\\n          <div class=\\\"mt-3\\\">\\r\\n            <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"required\\\" >Product Type</label>\\r\\n                <ng-select [items]=\\\"producttypes\\\" placeholder=\\\"Type and search Product Type\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"type\\\">\\r\\n              </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <label class=\\\"required\\\">Name</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"name\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"Item Name\\\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <label class=\\\"\\\">Description</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"pdescription\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"Product Descriptin\\\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"required\\\" >Item Category</label>\\r\\n                <ng-select [items]=\\\"itemcategorys\\\" placeholder=\\\"Type and search Item Category\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"itemcategory\\\">\\r\\n              </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"required\\\" >Item Type</label>\\r\\n                <ng-select [items]=\\\"itemtypes\\\" placeholder=\\\"Type and search Item Type\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"itemtype\\\">\\r\\n              </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"required\\\" >Unit</label>\\r\\n                <ng-select [items]=\\\"units\\\" placeholder=\\\"Type and search Unit\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"unit\\\">\\r\\n              </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"required\\\" >Godown</label>\\r\\n                <ng-select [items]=\\\"godowns\\\" placeholder=\\\"Type and search Godown\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"godown\\\">\\r\\n              </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <label class=\\\"\\\">Opening Quantity</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"oq\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"Opening Qty\\\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <label class=\\\"\\\">Rate</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"rate\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"Rate\\\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <label class=\\\"\\\">Value</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"value\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"Value\\\">\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"required\\\" >HSN Code</label>\\r\\n                <ng-select [items]=\\\"HSNcodes\\\" placeholder=\\\"Type and search HSN Code\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"hsncode\\\">\\r\\n              </ng-select>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <label class=\\\"\\\">GST</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"gst\\\" class=\\\"form-control\\\"\\r\\n                placeholder=\\\"GST\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n       </div>\\r\\n      </div>\\r\\n      </div>\\r\\n      <div class=\\\"card-footer\\\">\\r\\n        <button class=\\\"btn btn-success float-right\\\" (click)=\\\"saveitems()\\\" [disabled]=\\\"!itemsForm.valid || process == 'saving'\\\" type=\\\"button\\\">\\r\\n          Save <i *ngIf=\\\"process == 'saving'\\\" class=\\\"fa fa-spinner fa-spin\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n  </form>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvZWRpdC1pdGVtLW1hc3Rlci9lZGl0LWl0ZW0tbWFzdGVyLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\nimport { MaintenanceService } from 'src/app/shared/services/maintenance.service';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { DashboardService } from 'src/app/shared/services/dashboard.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-edit-item-master',\r\n  templateUrl: './edit-item-master.component.html',\r\n  styleUrls: ['./edit-item-master.component.scss']\r\n})\r\nexport class EditItemMasterComponent implements OnInit {\r\n  public itemsForm: FormGroup;\r\n  public process: string;\r\n  public itemsDetails: any;\r\n\r\n  itemcategorys = [];\r\n  units = [];\r\n  godowns = [];\r\n  HSNcodes = [];\r\n  producttypes = [];\r\n  itemtypes = [];\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private metaService: MetaService,\r\n    private ms: MaintenanceService,\r\n    private is: InventoryService,\r\n    private ds: DashboardService,\r\n    private router: Router,\r\n    private aroute: ActivatedRoute\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.itemsDetails = this.aroute.snapshot.data['items_details'];\r\n\r\n    console.log(this.itemsDetails);\r\n\r\n    this.buildForm();\r\n    this.getOptions();\r\n  }\r\n\r\n  public buildForm(): void {\r\n    this.itemsForm = this.fb.group(\r\n      {\r\n        'type': [this.itemsDetails.type],\r\n        'name': [this.itemsDetails.name],\r\n        'pdescription': [this.itemsDetails.pdescription],\r\n        'itemcategory': [this.itemsDetails.itemcategory, [Validators.required]],\r\n        'itemtype': [this.itemsDetails.itemtype, [Validators.required]],\r\n        'unit': [this.itemsDetails.unit, [Validators.required]],\r\n        'godown': [this.itemsDetails.godown, [Validators.required]],\r\n        'oq': [this.itemsDetails.oq],\r\n        'rate': [this.itemsDetails.rate],\r\n        'value': [this.itemsDetails.value],\r\n        'hsncode': [this.itemsDetails.hsncode],\r\n        'gst': [this.itemsDetails.gst]\r\n      }\r\n    );\r\n  }\r\n\r\n  public saveitems() {\r\n    this.process = 'saving';\r\n    this.is.updatItemMaster(this.itemsDetails['_id'], this.itemsForm.value).subscribe(mrInfo => {\r\n      this.process = 'done';\r\n      this.router.navigate(['/inventory/items-master']);\r\n    }, error => { this.process = 'done'; console.log(error);\r\n  });\r\n  }\r\n  private getOptions() {\r\n    this.ds.getProducttypeList().subscribe(trackInfo => {\r\n      this.producttypes = trackInfo['result'];\r\n    });\r\n\r\n    this.ds.getItemtypeList().subscribe(trackInfo => {\r\n      this.itemtypes = trackInfo['result'];\r\n    });\r\n\r\n    this.ds.getUnitList().subscribe(trackInfo => {\r\n      this.units = trackInfo['result'];\r\n    });\r\n\r\n    this.ds.getItemCategoryList().subscribe(trackInfo => {\r\n      this.itemcategorys = trackInfo['result'];\r\n    });\r\n\r\n    this.ds.getGodownList().subscribe(trackInfo => {\r\n      this.godowns = trackInfo['result'];\r\n    });\r\n\r\n    this.ds.getHSNcodeList().subscribe(trackInfo => {\r\n      this.HSNcodes = trackInfo['result'];\r\n    });\r\n}\r\n\r\n}\r\n\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <form [formGroup]=\\\"miForm\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n      <div class=\\\"card-header\\\">Edit Material Issue</div>\\r\\n      <div class=\\\"card-body\\\">\\r\\n\\r\\n        <div class=\\\"form-group row\\\">\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Site</label>\\r\\n            <ng-select [items]=\\\"siteOptions\\\" placeholder=\\\"Type and search site\\\" bindLabel=\\\"branch_name\\\" bindValue=\\\"branch_name\\\"\\r\\n              formControlName=\\\"site\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">MI type</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"mi_type\\\" (change)=\\\"generateMiNumber()\\\">\\r\\n              <option value=\\\"\\\">Select MI type</option>\\r\\n              <option value=\\\"Issue\\\">Issue</option>\\r\\n              <option value=\\\"Issue Return\\\">Issue Return</option>\\r\\n            </select>\\r\\n          </div>\\r\\n          <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n            <label class=\\\"required\\\">Issue no</label>\\r\\n            <input disabled type=\\\"text\\\" formControlName=\\\"mi_number\\\" class=\\\"form-control\\\">\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n            <label class=\\\"required\\\">Issue date</label>\\r\\n            <div class=\\\"input-group datepicker-input\\\">\\r\\n              <input\\r\\n                class=\\\"form-control\\\"\\r\\n                placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                name=\\\"dp2\\\"\\r\\n                formControlName=\\\"mi_date\\\"\\r\\n                ngbDatepicker\\r\\n                #d2=\\\"ngbDatepicker\\\"\\r\\n              />\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d2.toggle()\\\" type=\\\"button\\\">\\r\\n                  <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n\\r\\n          <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n            <label>KM Reading</label>\\r\\n            <input type=\\\"text\\\" formControlName=\\\"mcreading\\\" class=\\\"form-control\\\" placeholder=\\\"KM Reading\\\">\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group row\\\">\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Issued By</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"issuedby\\\">\\r\\n              <option value=\\\"\\\">Select Issued By</option>\\r\\n              <option *ngFor=\\\"let i of issuedby_option\\\" [value]=\\\"i.issuedby\\\"> {{i.issuedby}}</option>\\r\\n            </select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Issued For</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"issuedfor\\\">\\r\\n              <option value=\\\"\\\">Select Issued For</option>\\r\\n              <option value=\\\"Maintenance\\\">Maintenance</option>\\r\\n              <option value=\\\"Tyre\\\">Tyre</option>\\r\\n            </select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Department</label>\\r\\n            <ng-select [items]=\\\"dept_option\\\" placeholder=\\\"Type and search Department\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n              formControlName=\\\"department\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12\\\">\\r\\n            <div class=\\\"card\\\">\\r\\n              <div class=\\\"card-header\\\">\\r\\n                Material Issue items\\r\\n                <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"addMiItems()\\\" [disabled]=\\\"!miForm.valid\\\"\\r\\n                  type=\\\"button\\\">\\r\\n                  Add Item\\r\\n                </button>\\r\\n              </div>\\r\\n              <!-- /.box-header -->\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"miForm.controls.materiali_items.controls.length > 0\\\">\\r\\n                <table class=\\\"table table-bordered\\\" formArrayName=\\\"materiali_items\\\">\\r\\n                  <tr>\\r\\n                    <th>Item</th>\\r\\n                    <th>Unit</th>\\r\\n                    <th>Godown</th>\\r\\n                    <th>Qty</th>\\r\\n                    <th>Price(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Amount(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Refund</th>\\r\\n                    <th>Material Type</th>\\r\\n                    <th>RefQty</th>\\r\\n                    <th>Action</th>\\r\\n                  </tr>\\r\\n                  <tr *ngFor=\\\"let school of miForm.controls.materiali_items.controls; let i=index\\\" formGroupName=\\\"{{i}}\\\">\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group ngs\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                          <ng-select [items]=\\\"materiali_items\\\" appendTo=\\\".card-body\\\" class=\\\"form-control\\\" style=\\\"width:250px !important;\\\" placeholder=\\\"Type and search items\\\" bindLabel=\\\"name\\\" bindValue=\\\"_id\\\"\\r\\n                          formControlName=\\\"item_id\\\">\\r\\n                        </ng-select>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"unit\\\">\\r\\n                          <option value=\\\"\\\">Select units</option>\\r\\n                          <option *ngFor=\\\"let option of unit_option\\\" [value]=\\\"option\\\"> {{option}}</option>\\r\\n                        </select>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"godown\\\">\\r\\n                          <option value=\\\"\\\">Select godown</option>\\r\\n                          <option *ngFor=\\\"let g of materiali_godowns\\\" [value]=\\\"g.godown\\\"> {{g.godown}}</option>\\r\\n                        </select>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"qty\\\"\\r\\n                        class=\\\"form-control qty\\\">\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"price\\\" class=\\\"form-control price\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total\\\" class=\\\"form-control total\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"refund\\\">\\r\\n                          <option value=\\\"No\\\">No</option>\\r\\n                          <option value=\\\"Yes\\\">Yes</option>\\r\\n                        </select>\\r\\n                        </div>\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"mat_type\\\">\\r\\n                          <option value=\\\"\\\">Material Type</option>\\r\\n                          <option value=\\\"Job\\\">Job</option>\\r\\n                          <option value=\\\"Scrap\\\">Scrap</option>\\r\\n                        </select>\\r\\n                        </div>\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"ref_qty\\\"  class=\\\"form-control refqty\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <button class=\\\"btn btn-danger float-right\\\" [disabled]=\\\"miForm.controls?.materiali_items.controls.length == 1\\\" (click)=\\\"removeItems(i)\\\" type=\\\"button\\\">\\r\\n                        <i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </button>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </table>\\r\\n              </div>\\r\\n              <!-- <div class=\\\"card-body\\\" *ngIf=\\\"miForm.controls?.materiali_items.controls.length == 0\\\">\\r\\n                <p>Please select vendor</p>\\r\\n              </div> -->\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"mt-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n              <label class=\\\"\\\">Narration</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"narration\\\" class=\\\"form-control\\\" placeholder=\\\"Please enter narration\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Net Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"net_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Rounded off</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"rounded_off\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"required\\\">Round of Type</label>\\r\\n              <select class=\\\"form-control\\\" formControlName=\\\"round_off_type\\\">\\r\\n                <option>Please select site</option>\\r\\n                <option value=\\\"plus\\\">Plus</option>\\r\\n                <option value=\\\"minus\\\">Minus</option>\\r\\n              </select>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Total</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"card-footer\\\">\\r\\n        <button class=\\\"btn btn-success float-right\\\" (click)=\\\"saveMi()\\\" [disabled]=\\\"!miForm.valid || process == 'saving'\\\" type=\\\"button\\\">\\r\\n          Save <i *ngIf=\\\"process == 'saving'\\\" class=\\\"fa fa-spinner fa-spin\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </form>\\r\\n</div>\\r\\n\"","module.exports = \"table {\\n  overflow-x: scroll;\\n  width: 100%;\\n  display: block; }\\n  table select {\\n    width: 150px; }\\n  table .unit {\\n    width: 70px; }\\n  table .qty {\\n    width: 70px; }\\n  table .price {\\n    width: 70px; }\\n  table .refund {\\n    width: 70px; }\\n  table .mat_type {\\n    width: 70px; }\\n  table .ref_qty {\\n    width: 120px; }\\n  table .godown {\\n    width: 70px; }\\n  table .total {\\n    width: 120px; }\\n  ::ng-deep .ng-dropdown-panel {\\n  margin-top: 40px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2ludmVudG9yeS9lZGl0LW1hdGVyaWFsLWlzc3VlL0Y6XFx0ZXN0aW5nX2RlbGV0ZV9mb2xkZXJcXFRSVUNLX0RFTU9fb2xkR2FuZXNoXFxmcm9udGVuZFxcdGRfZnJvbnRlbmQvc3JjXFxhcHBcXGxheW91dFxcaW52ZW50b3J5XFxlZGl0LW1hdGVyaWFsLWlzc3VlXFxlZGl0LW1hdGVyaWFsLWlzc3VlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxjQUFjLEVBQUE7RUFIbEI7SUFLUSxZQUNKLEVBQUE7RUFOSjtJQVFRLFdBQ0osRUFBQTtFQVRKO0lBV1EsV0FDSixFQUFBO0VBWko7SUFjUSxXQUNKLEVBQUE7RUFmSjtJQWlCUSxXQUNKLEVBQUE7RUFsQko7SUFvQlEsV0FDSixFQUFBO0VBckJKO0lBdUJRLFlBQ0osRUFBQTtFQXhCSjtJQTBCUSxXQUNKLEVBQUE7RUEzQko7SUE2QlEsWUFDSixFQUFBO0VBSUY7RUFDSSwyQkFBNEIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvZWRpdC1tYXRlcmlhbC1pc3N1ZS9lZGl0LW1hdGVyaWFsLWlzc3VlLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsidGFibGUge1xyXG4gICAgb3ZlcmZsb3cteDogc2Nyb2xsO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIHNlbGVjdCB7XHJcbiAgICAgICAgd2lkdGg6IDE1MHB4XHJcbiAgICB9XHJcbiAgICAudW5pdCB7XHJcbiAgICAgICAgd2lkdGg6IDcwcHhcclxuICAgIH1cclxuICAgIC5xdHkge1xyXG4gICAgICAgIHdpZHRoOiA3MHB4XHJcbiAgICB9XHJcbiAgICAucHJpY2V7XHJcbiAgICAgICAgd2lkdGg6IDcwcHhcclxuICAgIH1cclxuICAgIC5yZWZ1bmR7XHJcbiAgICAgICAgd2lkdGg6IDcwcHhcclxuICAgIH1cclxuICAgIC5tYXRfdHlwZXtcclxuICAgICAgICB3aWR0aDogNzBweFxyXG4gICAgfVxyXG4gICAgLnJlZl9xdHkge1xyXG4gICAgICAgIHdpZHRoOiAxMjBweFxyXG4gICAgfVxyXG4gICAgLmdvZG93bntcclxuICAgICAgICB3aWR0aDogNzBweFxyXG4gICAgfVxyXG4gICAgLnRvdGFse1xyXG4gICAgICAgIHdpZHRoOiAxMjBweFxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIDo6bmctZGVlcCAubmctZHJvcGRvd24tcGFuZWwge1xyXG4gICAgICBtYXJnaW4tdG9wIDogNDBweCAhaW1wb3J0YW50O1xyXG4gIH0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\nimport { MaintenanceService } from 'src/app/shared/services/maintenance.service';\r\nimport { itemUnits } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { DashboardService } from 'src/app/shared/services/dashboard.service';\r\ndeclare var moment: any;\r\n\r\n@Component({\r\n  selector: 'app-edit-material-issue',\r\n  templateUrl: './edit-material-issue.component.html',\r\n  styleUrls: ['./edit-material-issue.component.scss']\r\n})\r\nexport class EditMaterialIssueComponent implements OnInit {\r\n  public miForm: any;\r\n  public process: string;\r\n  public bsConfig: Partial<BsDatepickerConfig>;\r\n  public siteOptions: any;\r\n  public dept_option: any;\r\n  public issuedby_option: any;\r\n  public materiali_items: any;\r\n  public materiali_godowns: any;\r\n  public miDetails: any;\r\n  public unit_option = itemUnits;\r\n  public currentDate = new Date();\r\n  minDate;\r\n  site_name: any;\r\n  usertype: any;\r\n  loading = false;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private metaService: MetaService,\r\n    private ms: MaintenanceService,\r\n    private is: InventoryService,\r\n    private ds: DashboardService,\r\n    private aroute: ActivatedRoute,\r\n    private router: Router\r\n  ) {\r\n    this.usertype = this.metaService.getSiteFromStorage().role;\r\n    this.site_name = this.metaService.getSiteFromStorage().site;\r\n    const current = new Date();\r\n    this.minDate = {\r\n      year: current.getFullYear(),\r\n      month: current.getMonth() + 1,\r\n      day: current.getDate()\r\n    };\r\n\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.miDetails = this.aroute.snapshot.data['mi_details'];\r\n    this.bsConfig = Object.assign({},\r\n      { containerClass: 'theme-blue', 'rangeInputFormat': 'MMMM Do YYYY', minDate: new Date(), 'showWeekNumbers': false });\r\n    this.buildForm();\r\n    this.miForm.controls.materiali_items.valueChanges.subscribe(changes => {\r\n      this.updateValues();\r\n    });\r\n    this.getOptions();\r\n    // this.getSites();\r\n  }\r\n  public buildForm(): void {\r\n\r\n    this.miForm = this.fb.group(\r\n      {\r\n        'mi_date': [{year: new Date(this.miDetails.mi_date).getFullYear(), month: new Date(this.miDetails.mi_date).getMonth() + 1, day: new Date(this.miDetails.mi_date).getDate()}],\r\n        'site': [this.miDetails.site],\r\n        'mi_type': [this.miDetails.mi_type, [Validators.required]],\r\n        'mi_number': [this.miDetails.mi_number, [Validators.required]],\r\n        'issuedby': [this.miDetails.issuedby, [Validators.required]],\r\n        'issuedfor': [this.miDetails.issuedfor, [Validators.required]],\r\n        'department': [this.miDetails.department, [Validators.required]],\r\n        'mcreading': [this.miDetails.mcreading],\r\n        'materiali_items': this.fb.array([\r\n        ]),\r\n        'narration': [this.miDetails.narration],\r\n        'net_amount': [this.miDetails.net_amount],\r\n        'rounded_off': [this.miDetails.rounded_off],\r\n        'round_off_type': [this.miDetails.round_off_type],\r\n        'total_amount': [this.miDetails.total_amount]\r\n      }\r\n    );\r\n    // this.addMaterialreceiptItems()\r\n    this.miDetails.materiali_items.forEach(element => {\r\n      const control = <FormArray>this.miForm.controls['materiali_items'];\r\n      control.push(this.initItemsData(element));\r\n    });\r\n  }\r\n  private initItemsData(data) {\r\n    return this.fb.group({\r\n      'name': [data.name],\r\n      'item_id': [data.item_id, [Validators.required]],\r\n      'unit': [data.unit],\r\n      'qty': [data.qty, [Validators.required]],\r\n      'price': [data.price, [Validators.required]],\r\n      'refund': [data.refund, [Validators.required]],\r\n      'mat_type': [data.mat_type],\r\n      'ref_qty': [data.ref_qty],\r\n      'total': [data.total, [Validators.required]],\r\n      'godown': [data.godown, [Validators.required]]\r\n    });\r\n  }\r\n  private initItems() {\r\n    return this.fb.group({\r\n      'name': [''],\r\n      'item_id': ['', [Validators.required]],\r\n      'unit': [''],\r\n      'qty': [0, [Validators.required]],\r\n      'price': [0, [Validators.required]],\r\n      'refund': ['', [Validators.required]],\r\n      'mat_type': [''],\r\n      'ref_qty': [0],\r\n      'total': ['', [Validators.required]],\r\n      'godown': ['', [Validators.required]]\r\n\r\n    });\r\n  }\r\n  addMiItems() {\r\n    const control = <FormArray>this.miForm.controls['materiali_items'];\r\n    control.push(this.initItems());\r\n  }\r\n  removeItems(i: number) {\r\n    const control = <FormArray>this.miForm.controls['materiali_items'];\r\n    control.removeAt(i);\r\n  }\r\n  public removed(value: any): void {\r\n    let product_id = value['id'];\r\n    let materiali_items = this.miForm.controls['materiali_items'].value;\r\n    var index = materiali_items.map(function (items) { return items.product_id; }).indexOf(product_id);\r\n    this.removeItems(index);\r\n  }\r\n  public saveMi() {\r\n    let mi_date;\r\n    if (this.miForm.controls['mi_date'].value) {\r\n      const dt = this.miForm.controls['mi_date'].value.year + '-' +\r\n        this.miForm.controls['mi_date'].value.month + '-' +\r\n        this.miForm.controls['mi_date'].value.day;\r\n      mi_date = moment(dt, 'YYYY-MM-DD').format();\r\n    } else {\r\n      mi_date = moment().format();\r\n    }\r\n\r\n    this.process = 'saving';\r\n    let data = this.miForm.value;\r\n    data.mi_date = mi_date;\r\n\r\n    console.log('Edit Issue Saving', this.miDetails);\r\n\r\n    this.is.updatMi(this.miDetails['_id'], this.miForm.value).subscribe(miInfo => {\r\n      this.process = 'done';\r\n      this.router.navigate(['/inventory/material-issue']);\r\n    }, error => { this.process = 'done'; console.log(error);\r\n  });\r\n  }\r\n  getSites() {\r\n    this.loading = true;\r\n    this.metaService.getSites().subscribe((res: any) => {\r\n        this.loading = false;\r\n        this.siteOptions = res;\r\n        if (this.usertype === 'ADMIN') {\r\n          this.miForm.controls['site'].setValue(this.siteOptions[0].branch_name);\r\n        } else {\r\n          this.miForm.controls['site'].setValue(this.site_name);\r\n        }\r\n      },\r\n      err => {\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n \r\n  private getOptions() {\r\n    this.metaService.getDeptList().subscribe(trackInfo => {\r\n      this.dept_option = trackInfo['result'];\r\n    });\r\n\r\n    // this.metaService.getSites().subscribe(siteInfo => {\r\n    //   this.siteOptions = siteInfo;\r\n    // });\r\n\r\n    this.metaService.getIssuedbyList().subscribe(trackInfo => {\r\n      this.issuedby_option = trackInfo['result'];\r\n    });\r\n\r\n    this.ms.getItemMaster().subscribe(trackInfo => {\r\n      this.materiali_items = trackInfo['records'];\r\n    });\r\n    this.ds.getGodownList().subscribe( (res: any) => {\r\n      this.materiali_godowns = res;\r\n    });\r\n  }\r\n  public updateValues() {\r\n    let net_price = 0;\r\n    const control = <FormArray>this.miForm.controls['materiali_items'];\r\n    for (var intial_val = 0; intial_val < control.length; intial_val++) {\r\n      let values = control.controls[intial_val].value;\r\n      let item_mater_data = this.materiali_items.find(item => item['_id'] == values['item_id']);\r\n      let qty = values['qty'] ? values['qty'] : item_mater_data ? 1 : 0;\r\n      let unit = values['unit'] ? values['unit'] : item_mater_data ? item_mater_data.unit : '';\r\n      let price = values['price'] ? values['price'] : item_mater_data ? parseFloat(item_mater_data['rate']) : 0;\r\n      let original_price = qty * price;\r\n      let total = original_price;\r\n      // Tax calculation ends here\r\n      control.controls[intial_val].patchValue({\r\n        unit: unit,\r\n        price: price,\r\n        name: item_mater_data ? item_mater_data.name : '',\r\n        qty: qty,\r\n        total: total.toFixed(5)\r\n      }, { emitEvent: false });\r\n      net_price += total;\r\n    }\r\n    this.miForm.patchValue({\r\n      'net_amount': net_price,\r\n      'rounded_off': net_price,\r\n      'total_amount': net_price\r\n    }, { emitEvent: false });\r\n  }\r\n\r\n  // public generateMiNumber() {\r\n  //   const mi_type = this.miForm.controls.mi_type.value;\r\n  //   this.is.getMiNumberDetails(mi_type).subscribe(miInfo => {\r\n  //     this.miForm.controls.mi_number.setValue(miInfo['count'] + 1);\r\n  //   }, error => { console.log(error); });\r\n  // }\r\n\r\n  public generateMiNumber() {\r\n    const mi_type = this.miForm.controls.mi_type.value;\r\n    const site = this.miForm.controls.site.value;\r\n    if(site && mi_type) {\r\n      const matchCond = { site: site, mi_type: mi_type };\r\n      console.log('mathCond >>' , matchCond );\r\n      this.is.getMiNumberDetails(matchCond).subscribe(mrInfo => {\r\n        this.miForm.controls.mi_number.setValue(mrInfo['count'] + 1);\r\n      }, error => { console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <form [formGroup]=\\\"mrForm\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n      <div class=\\\"card-header\\\">Edit Material Receipt</div>\\r\\n      <div class=\\\"card-body\\\">\\r\\n\\r\\n        <div class=\\\"form-group row\\\">\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Site</label>\\r\\n            <ng-select [items]=\\\"siteOptions\\\" placeholder=\\\"Type and search site\\\" bindLabel=\\\"branch_name\\\" bindValue=\\\"branch_name\\\"\\r\\n              formControlName=\\\"site\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">MR type</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"mr_type\\\" (change)=\\\"generateMrNumber()\\\">\\r\\n              <option value=\\\"\\\">Select MR type</option>\\r\\n              <option value=\\\"Material Receipt\\\">Material Receipt</option>\\r\\n              <option value=\\\"Material Return\\\">Material Return</option>\\r\\n            </select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">MR no</label>\\r\\n            <input disabled type=\\\"text\\\" formControlName=\\\"mr_number\\\" class=\\\"form-control\\\" placeholder=\\\"\\\">\\r\\n          </div>\\r\\n\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">MR date</label>\\r\\n            <div class=\\\"input-group datepicker-input\\\">\\r\\n              <input\\r\\n                class=\\\"form-control\\\"\\r\\n                placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                name=\\\"dp2\\\"\\r\\n                formControlName=\\\"mr_date\\\"\\r\\n                ngbDatepicker\\r\\n                #d2=\\\"ngbDatepicker\\\"\\r\\n              />\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d2.toggle()\\\" type=\\\"button\\\">\\r\\n                  <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <!-- <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">MR date</label>\\r\\n            <div class=\\\"input-group\\\">\\r\\n              <input type=\\\"text\\\" #mr=\\\"bsDatepicker\\\" [bsConfig]=\\\"{ containerClass: 'theme-blue', 'dateInputFormat': 'DD-MM-YYYY', 'showWeekNumbers': false, 'minDate': currentDate }\\\" bsDatepicker formControlName=\\\"mr_date\\\"\\r\\n                class=\\\"form-control\\\">\\r\\n              <div class=\\\"input-group-prepend\\\" (click)=\\\"mr.toggle()\\\">\\r\\n                <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div> -->\\r\\n\\r\\n\\r\\n          <!-- <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">MR date</label>\\r\\n            <div class=\\\"input-group datepicker-input\\\">\\r\\n              <input\\r\\n                class=\\\"form-control\\\"\\r\\n                placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                name=\\\"dp2\\\"\\r\\n                formControlName=\\\"mr_date\\\"\\r\\n                ngbDatepicker\\r\\n                #d2=\\\"ngbDatepicker\\\"\\r\\n              />\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d2.toggle()\\\" type=\\\"button\\\">\\r\\n                  <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div> -->\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Receipt type</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"rec_type\\\">\\r\\n              <option value=\\\"\\\">Select Receipt type</option>\\r\\n              <option value=\\\"Direct\\\">Direct</option>\\r\\n              <option value=\\\"Job Order\\\">Job Order</option>\\r\\n              <option value=\\\"Purchase Order\\\">Purchase Order</option>\\r\\n              <option value=\\\"Scrap\\\">Scrap</option>\\r\\n              <option value=\\\"Stock Transfer\\\">Stock Transfer</option>\\r\\n            </select>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Godown</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"godown\\\">\\r\\n              <option value=\\\"\\\">Select Godown</option>\\r\\n              <option *ngFor=\\\"let g of godowns\\\" value=\\\"{{ g.godown }}\\\">\\r\\n                {{ g.godown }}\\r\\n            </select>\\r\\n          </div>\\r\\n\\r\\n        <!-- </div>\\r\\n        <div class=\\\"form-group row\\\"> -->\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Vendor</label>\\r\\n            <ng-select [items]=\\\"vendor_option\\\" placeholder=\\\"Type and search vendor\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n              formControlName=\\\"vendor\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Department</label>\\r\\n            <ng-select [items]=\\\"dept_option\\\" placeholder=\\\"Type and search Department\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n              formControlName=\\\"department\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"\\\">Invoice No</label>\\r\\n            <input type=\\\"text\\\" formControlName=\\\"invno\\\" class=\\\"form-control\\\" placeholder=\\\"Invoice No\\\">\\r\\n          </div>\\r\\n\\r\\n          <!-- <div class=\\\"col-md-3\\\">\\r\\n            <label>Invoice date</label>\\r\\n            <div class=\\\"input-group\\\">\\r\\n              <input type=\\\"text\\\" #id=\\\"bsDatepicker\\\" [bsConfig]=\\\"{ containerClass: 'theme-blue', 'dateInputFormat': 'DD-MM-YYYY', 'showWeekNumbers': false, 'minDate': currentDate }\\\" bsDatepicker formControlName=\\\"invdate\\\"\\r\\n                class=\\\"form-control\\\">\\r\\n              <div class=\\\"input-group-prepend\\\" (click)=\\\"id.toggle()\\\">\\r\\n                <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div> -->\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label>Invoice date</label>\\r\\n            <div class=\\\"input-group datepicker-input\\\">\\r\\n              <input\\r\\n                class=\\\"form-control\\\"\\r\\n                placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                name=\\\"dp3\\\"\\r\\n                formControlName=\\\"invdate\\\"\\r\\n                ngbDatepicker\\r\\n                #d3=\\\"ngbDatepicker\\\"\\r\\n              />\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d3.toggle()\\\" type=\\\"button\\\">\\r\\n                  <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"\\\">Po No. / Job No.</label>\\r\\n            <input type=\\\"text\\\" formControlName=\\\"pjno\\\" class=\\\"form-control\\\" placeholder=\\\"Po.No / Job No.\\\">\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12\\\">\\r\\n            <div class=\\\"card\\\">\\r\\n              <div class=\\\"card-header\\\">\\r\\n                Material Receipt items\\r\\n                <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"addMrItems()\\\" [disabled]=\\\"!mrForm.valid\\\"\\r\\n                  type=\\\"button\\\">\\r\\n                  Add Item\\r\\n                </button>\\r\\n              </div>\\r\\n              <!-- /.box-header -->\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"mrForm.controls.materialr_items.controls.length > 0\\\">\\r\\n                <table class=\\\"table table-bordered\\\" formArrayName=\\\"materialr_items\\\">\\r\\n                  <tr>\\r\\n                    <th>Item</th>\\r\\n                    <th>Unit</th>\\r\\n                    <th>Qty</th>\\r\\n                    <th>Price(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Dis(%)</th>\\r\\n                    <th>CGST(%)</th>\\r\\n                    <th>SGST(%)</th>\\r\\n                    <th>IGST(%)</th>\\r\\n                    <th>Amount(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Action</th>\\r\\n                  </tr>\\r\\n                  <tr *ngFor=\\\"let school of mrForm.controls.materialr_items.controls; let i=index\\\" formGroupName=\\\"{{i}}\\\">\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group ngs\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                          <ng-select [items]=\\\"materialr_items\\\" appendTo=\\\".card-body\\\" class=\\\"form-control\\\" style=\\\"width:250px !important;\\\" placeholder=\\\"Type and search items\\\" bindLabel=\\\"name\\\" bindValue=\\\"_id\\\"\\r\\n                          formControlName=\\\"item_id\\\">\\r\\n                        </ng-select>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"unit\\\">\\r\\n                          <option value=\\\"\\\">Please select units</option>\\r\\n                          <option *ngFor=\\\"let option of unit_option\\\" [value]=\\\"option\\\"> {{option}}</option>\\r\\n                        </select>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"qty\\\"\\r\\n                        class=\\\"form-control qty\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"price\\\" class=\\\"form-control price\\\">\\r\\n\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"discount\\\"  class=\\\"form-control discount\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"cgst\\\" class=\\\"form-control discount\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"sgst\\\"  class=\\\"form-control discount\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"igst\\\" class=\\\"form-control discount\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total\\\" class=\\\"form-control total\\\">\\r\\n\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <button class=\\\"btn btn-danger float-right\\\" [disabled]=\\\"mrForm.controls?.materialr_items.controls.length == 1\\\" (click)=\\\"removeItems(i)\\\" type=\\\"button\\\">\\r\\n                        <i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </button>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </table>\\r\\n              </div>\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"mrForm.controls?.materialr_items.controls.length == 0\\\">\\r\\n                <p>Please select vendor</p>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"mt-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n              <label class=\\\"\\\">Narration</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"narration\\\" class=\\\"form-control\\\" placeholder=\\\"Please enter narration\\\">\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">Gross Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"gross_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">CGST Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"cgst_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">SGST Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"sgst_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">IGST Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"igst_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">Net Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"net_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">Rounded off</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"rounded_off\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"required\\\">Round of Type</label>\\r\\n              <select class=\\\"form-control\\\" formControlName=\\\"round_off_type\\\">\\r\\n                <option>Please select site</option>\\r\\n                <option value=\\\"plus\\\">Plus</option>\\r\\n                <option value=\\\"minus\\\">Minus</option>\\r\\n              </select>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"\\\">Total</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"card-footer\\\">\\r\\n        <button class=\\\"btn btn-success float-right\\\" (click)=\\\"saveMr()\\\" [disabled]=\\\"!mrForm.valid || process == 'saving'\\\" type=\\\"button\\\">\\r\\n          Save <i *ngIf=\\\"process == 'saving'\\\" class=\\\"fa fa-spinner fa-spin\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </form>\\r\\n</div>\\r\\n\"","module.exports = \"table {\\n  overflow-x: scroll;\\n  width: 100%;\\n  display: block; }\\n  table select {\\n    width: 150px; }\\n  table .unit {\\n    width: 70px; }\\n  table .qty {\\n    width: 70px; }\\n  table .price {\\n    width: 120px; }\\n  table .discount {\\n    width: 70px; }\\n  table .total {\\n    width: 170px; }\\n  ::ng-deep .ng-dropdown-panel {\\n  margin-top: 40px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2ludmVudG9yeS9lZGl0LW1hdGVyaWFsLXJlY2VpcHQvRjpcXHRlc3RpbmdfZGVsZXRlX2ZvbGRlclxcVFJVQ0tfREVNT19vbGRHYW5lc2hcXGZyb250ZW5kXFx0ZF9mcm9udGVuZC9zcmNcXGFwcFxcbGF5b3V0XFxpbnZlbnRvcnlcXGVkaXQtbWF0ZXJpYWwtcmVjZWlwdFxcZWRpdC1tYXRlcmlhbC1yZWNlaXB0LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxjQUFjLEVBQUE7RUFIbEI7SUFLUSxZQUNKLEVBQUE7RUFOSjtJQVFRLFdBQ0osRUFBQTtFQVRKO0lBV1EsV0FDSixFQUFBO0VBWko7SUFjUSxZQUNKLEVBQUE7RUFmSjtJQWlCUSxXQUNKLEVBQUE7RUFsQko7SUFvQlEsWUFDSixFQUFBO0VBSUY7RUFDSSwyQkFBNEIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvZWRpdC1tYXRlcmlhbC1yZWNlaXB0L2VkaXQtbWF0ZXJpYWwtcmVjZWlwdC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlIHtcclxuICAgIG92ZXJmbG93LXg6IHNjcm9sbDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBzZWxlY3Qge1xyXG4gICAgICAgIHdpZHRoOiAxNTBweFxyXG4gICAgfVxyXG4gICAgLnVuaXQge1xyXG4gICAgICAgIHdpZHRoOiA3MHB4XHJcbiAgICB9XHJcbiAgICAucXR5IHtcclxuICAgICAgICB3aWR0aDogNzBweFxyXG4gICAgfVxyXG4gICAgLnByaWNle1xyXG4gICAgICAgIHdpZHRoOiAxMjBweFxyXG4gICAgfVxyXG4gICAgLmRpc2NvdW50e1xyXG4gICAgICAgIHdpZHRoOiA3MHB4XHJcbiAgICB9XHJcbiAgICAudG90YWx7XHJcbiAgICAgICAgd2lkdGg6IDE3MHB4XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuXHJcbiAgOjpuZy1kZWVwIC5uZy1kcm9wZG93bi1wYW5lbCB7XHJcbiAgICAgIG1hcmdpbi10b3AgOiA0MHB4ICFpbXBvcnRhbnQ7XHJcbiAgfSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\nimport { MaintenanceService } from 'src/app/shared/services/maintenance.service';\r\nimport { itemUnits } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { DashboardService } from 'src/app/shared/services/dashboard.service';\r\ndeclare var moment: any;\r\n\r\n@Component({\r\n  selector: 'app-edit-material-receipt',\r\n  templateUrl: './edit-material-receipt.component.html',\r\n  styleUrls: ['./edit-material-receipt.component.scss']\r\n})\r\nexport class EditMaterialReceiptComponent implements OnInit {\r\n\r\n  public mrForm: any;\r\n  public process: string;\r\n  public bsConfig: Partial<BsDatepickerConfig>;\r\n  public siteOptions: any;\r\n  public vendor_option: any;\r\n  public dept_option: any;\r\n  public materialr_items; any;\r\n  public mrDetails: any;\r\n  public unit_option = itemUnits;\r\n  godowns = [];\r\n  public currentDate = new Date();\r\n  minDate;\r\n  site_name: any;\r\n  usertype: any;\r\n  loading = false;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private metaService: MetaService,\r\n    private ms: MaintenanceService,\r\n    private is: InventoryService,\r\n    private ds: DashboardService,\r\n    private router: Router,\r\n    private aroute: ActivatedRoute\r\n  ) {\r\n    this.usertype = this.metaService.getSiteFromStorage().role;\r\n    this.site_name = this.metaService.getSiteFromStorage().site;\r\n    const current = new Date();\r\n    this.minDate = {\r\n      year: current.getFullYear(),\r\n      month: current.getMonth() + 1,\r\n      day: current.getDate()\r\n    };\r\n  }\r\n\r\n  ngOnInit() {\r\n\r\n    this.mrDetails = this.aroute.snapshot.data['mr_details'];\r\n    this.bsConfig = Object.assign({},\r\n      { containerClass: 'theme-blue', 'rangeInputFormat': 'MMMM Do YYYY', minDate: new Date(), 'showWeekNumbers': false });\r\n    this.buildForm();\r\n    this.mrForm.controls.materialr_items.valueChanges.subscribe(changes => {\r\n      this.updateValues();\r\n    });\r\n    this.getOptions();\r\n    this.getSites();\r\n  }\r\n  public buildForm(): void {\r\n\r\n    this.mrForm = this.fb.group(\r\n      {\r\n        'mr_date': [{year: new Date(this.mrDetails.mr_date).getFullYear(), month: new Date(this.mrDetails.mr_date).getMonth() + 1, day: new Date(this.mrDetails.mr_date).getDate()}],\r\n        'site': [this.mrDetails.site],\r\n        'mr_type': [ this.mrDetails.mr_type, [Validators.required]],\r\n        'mr_number': [ this.mrDetails.mr_number, [Validators.required]],\r\n        'vendor': [ this.mrDetails.vendor, [Validators.required]],\r\n        'department': [this.mrDetails.department, [Validators.required]],\r\n        'rec_type': [this.mrDetails.rec_type, [Validators.required]],\r\n        'godown': [this.mrDetails.godown, [Validators.required]],\r\n        'invno': [this.mrDetails.invno],\r\n        'invdate': [this.mrDetails.invdate ? {year: new Date(this.mrDetails.invdate).getFullYear(), month: new Date(this.mrDetails.invdate).getMonth() + 1, day: new Date(this.mrDetails.invdate).getDate()} : ''],\r\n        'pjno': [this.mrDetails.pjno],\r\n        'materialr_items': this.fb.array([\r\n\r\n        ]),\r\n        'narration': [this.mrDetails.narration],\r\n        'gross_amount': [this.mrDetails.gross_amount],\r\n        'cgst_amount': [this.mrDetails.cgst_amount],\r\n        'sgst_amount': [this.mrDetails.sgst_amount],\r\n        'igst_amount': [this.mrDetails.igst_amount],\r\n        'net_amount': [this.mrDetails.net_amount],\r\n        'rounded_off': [this.mrDetails.rounded_off],\r\n        'round_off_type': [this.mrDetails.round_off_type],\r\n        'total_amount': [this.mrDetails.total_amount]\r\n      }\r\n    );\r\n    // this.addMaterialreceiptItems()\r\n    this.mrDetails.materialr_items.forEach(element => {\r\n      const control = <FormArray>this.mrForm.controls['materialr_items'];\r\n      control.push(this.initItemsData(element));\r\n    });\r\n  }\r\n  private initItemsData(data) {\r\n    return this.fb.group({\r\n      'name': [data.name],\r\n      'item_id': [data.item_id, [Validators.required]],\r\n      'unit': [data.unit],\r\n      'qty': [data.qty, [Validators.required]],\r\n      'price': [data.price, [Validators.required]],\r\n      'discount': [data.discount ? data.discount : 0, [Validators.required]],\r\n      'discounted_price': [0],\r\n      'cgst': [data.cgst, [Validators.required]],\r\n      'sgst': [data.sgst, [Validators.required]],\r\n      'igst': [data.igst, [Validators.required]],\r\n      'total': [data.total, [Validators.required]]\r\n    });\r\n  }\r\n  private initItems() {\r\n    return this.fb.group({\r\n      'name': [''],\r\n      'item_id': ['', [Validators.required]],\r\n      'unit': [''],\r\n      'qty': [0, [Validators.required]],\r\n      'price': [0, [Validators.required]],\r\n      'discount': [0, [Validators.required]],\r\n      'discounted_price': [0],\r\n      'cgst': [0, [Validators.required]],\r\n      'sgst': [0, [Validators.required]],\r\n      'igst': [0, [Validators.required]],\r\n      'total': [0, [Validators.required]]\r\n    });\r\n  }\r\n  addMrItems() {\r\n    const control = <FormArray>this.mrForm.controls['materialr_items'];\r\n    control.push(this.initItems());\r\n  }\r\n  removeItems(i: number) {\r\n    const control = <FormArray>this.mrForm.controls['materialr_items'];\r\n    control.removeAt(i);\r\n  }\r\n  public removed(value: any): void {\r\n    let product_id = value['id'];\r\n    let materialr_items = this.mrForm.controls['materialr_items'].value;\r\n    var index = materialr_items.map(function (items) { return items.product_id; }).indexOf(product_id);\r\n    this.removeItems(index);\r\n  }\r\n  public saveMr() {\r\n    let mr_date;\r\n    if (this.mrForm.controls['mr_date'].value) {\r\n      const dt = this.mrForm.controls['mr_date'].value.year + '-' +\r\n        this.mrForm.controls['mr_date'].value.month + '-' +\r\n        this.mrForm.controls['mr_date'].value.day;\r\n      mr_date = moment(dt, 'YYYY-MM-DD').format();\r\n      console.log(mr_date);\r\n    } else {\r\n      mr_date = moment().format();\r\n    }\r\n\r\n    let invdate;\r\n    if (this.mrForm.controls['invdate'].value) {\r\n      const dt = this.mrForm.controls['invdate'].value.year + '-' +\r\n        this.mrForm.controls['invdate'].value.month + '-' +\r\n        this.mrForm.controls['invdate'].value.day;\r\n      invdate = moment(dt, 'YYYY-MM-DD').format();\r\n    } else {\r\n      invdate = moment().format();\r\n    }\r\n\r\n\r\n    this.process = 'saving';\r\n    let data = this.mrForm.value;\r\n    data.mr_date = mr_date;\r\n    data.invdate = invdate;\r\n    this.is.updatMr(this.mrDetails['_id'], this.mrForm.value).subscribe(mrInfo => {\r\n      this.process = 'done';\r\n      this.router.navigate(['/inventory/material-receipt']);\r\n    }, error => { this.process = 'done'; console.log(error);\r\n  });\r\n  }\r\n\r\n  getSites() {\r\n    this.loading = true;\r\n    this.metaService.getSites().subscribe((res: any) => {\r\n        this.loading = false;\r\n        this.siteOptions = res;\r\n        if (this.usertype === 'ADMIN') {\r\n          this.mrForm.controls['site'].setValue(this.siteOptions[0].branch_name);\r\n        } else {\r\n          this.mrForm.controls['site'].setValue(this.site_name);\r\n        }\r\n      },\r\n      err => {\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n\r\n  private getOptions() {\r\n    this.metaService.getSites().subscribe(siteInfo => {\r\n      this.siteOptions = siteInfo;\r\n    });\r\n    this.ms.getVendorMasterList().subscribe(siteInfo => {\r\n      this.vendor_option = siteInfo['result'];\r\n    });\r\n    this.ds.getGodownList().subscribe( (res: any) => {\r\n      this.godowns = res;\r\n    });\r\n    this.metaService.getDeptList().subscribe(trackInfo => {\r\n      this.dept_option = trackInfo['result'];\r\n    });\r\n    this.ms.getItemMaster().subscribe(trackInfo => {\r\n      this.materialr_items = trackInfo['records'];\r\n    });\r\n  }\r\n  public updateValues() {\r\n    let gross_price = 0;\r\n    let cgst_price = 0;\r\n    let sgst_price = 0;\r\n    let igst_price = 0;\r\n    let net_price = 0;\r\n    const control = <FormArray>this.mrForm.controls['materialr_items'];\r\n    for (var intial_val = 0; intial_val < control.length; intial_val++) {\r\n      let values = control.controls[intial_val].value;\r\n      let item_mater_data = this.materialr_items.find(item => item['_id'] == values['item_id']);\r\n      // let qty = values['qty'] ? values['qty'] : item_mater_data ? 1 : 0;\r\n      let qty = values['qty'] ? values['qty'] : item_mater_data ? 0 : 0;\r\n      let unit = values['unit'] ? values['unit'] : item_mater_data ? item_mater_data.unit : '';\r\n      // let price = values['price'] ? values['price'] : item_mater_data ? parseFloat(item_mater_data['rate']) : 0;\r\n      let price = values['price'] ? values['price'] : item_mater_data ? 0 : 0;\r\n      let original_price = qty * price;\r\n      let dis_difference = parseFloat(values['discount']) / 100;\r\n      let discounted_amount = original_price * dis_difference;\r\n\r\n      // gross amount\r\n      const discounted_price = original_price - discounted_amount;\r\n\r\n      // Tax calculation starts here\r\n\r\n      // // individual tax calculation\r\n      const cgst_perc = values['cgst'];\r\n      const cgst_axmount = parseFloat(cgst_perc) / 100;\r\n      const cgsttaxamount = discounted_price * cgst_axmount;\r\n\r\n      const sgst_perc = values['sgst'];\r\n      const sgst_axmount = parseFloat(sgst_perc) / 100;\r\n      const sgsttaxamount = discounted_price * sgst_axmount;\r\n\r\n      const igst_perc = values['igst'];\r\n      const igst_axmount = parseFloat(igst_perc) / 100;\r\n      const igsttaxamount = discounted_price * igst_axmount;\r\n\r\n      // const total = discounted_price + tax_axmount;\r\n      const total = discounted_price +  cgsttaxamount + sgsttaxamount + igsttaxamount;\r\n      // Tax calculation ends here\r\n      control.controls[intial_val].patchValue({\r\n        unit: unit,\r\n        price: price,\r\n        name: item_mater_data ? item_mater_data.name : '',\r\n        qty: qty,\r\n        discounted_price: discounted_price,\r\n        total: total.toFixed(5)\r\n      }, { emitEvent: false });\r\n      gross_price += discounted_price;\r\n      cgst_price += cgsttaxamount;\r\n      sgst_price += sgsttaxamount;\r\n      igst_price += igsttaxamount;\r\n      net_price += total;\r\n    }\r\n    this.mrForm.patchValue({\r\n      'gross_amount': gross_price,\r\n      'cgst_amount': cgst_price,\r\n      'sgst_amount': sgst_price,\r\n      'igst_amount': igst_price,\r\n      'net_amount': net_price,\r\n      'rounded_off': net_price,\r\n      'total_amount': net_price\r\n    }, { emitEvent: false });\r\n  }\r\n  public generateMrNumber() {\r\n    const mr_type = this.mrForm.controls.mr_type.value;\r\n    const site = this.mrForm.controls.site.value;\r\n    if (site && mr_type) {\r\n      const matchCond = { site: site, mr_type: mr_type };\r\n      console.log('mathCond >>' , matchCond );\r\n      this.is.getMrNumberDetails(matchCond).subscribe(mrInfo => {\r\n        this.mrForm.controls.mr_number.setValue(mrInfo['count'] + 1);\r\n      }, error => { console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n    <form [formGroup]=\\\"orderForm\\\">\\r\\n      <div class=\\\"card\\\">\\r\\n        <div class=\\\"card-header\\\">Edit Order</div>\\r\\n        <div class=\\\"card-body\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"required\\\">Site</label>\\r\\n              <ng-select [items]=\\\"siteOptions\\\" placeholder=\\\"Type and search site\\\" bindLabel=\\\"branch_name\\\" bindValue=\\\"branch_name\\\"\\r\\n                formControlName=\\\"site\\\">\\r\\n              </ng-select>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"required\\\">Order type</label>\\r\\n              <select class=\\\"form-control\\\" formControlName=\\\"order_type\\\" (change)=\\\"generateOrderNumber()\\\">\\r\\n                <option value=\\\"\\\">Please select order type</option>\\r\\n                <option value=\\\"Job order\\\">Job order</option>\\r\\n                <option value=\\\"Purchase order\\\">Purchase order</option>\\r\\n              </select>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"required\\\">Order no</label>\\r\\n              <input disabled type=\\\"text\\\" formControlName=\\\"order_number\\\" class=\\\"form-control\\\" placeholder=\\\"Please enter order no\\\">\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"required\\\">Order date</label>\\r\\n              <div class=\\\"input-group datepicker-input\\\">\\r\\n                <input\\r\\n                  class=\\\"form-control\\\"\\r\\n                  placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                  name=\\\"dp2\\\"\\r\\n                  formControlName=\\\"order_date\\\"\\r\\n                  ngbDatepicker\\r\\n                  #d2=\\\"ngbDatepicker\\\"\\r\\n                />\\r\\n                <div class=\\\"input-group-append\\\">\\r\\n                  <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d2.toggle()\\\" type=\\\"button\\\">\\r\\n                    <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                  </button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n            <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label>Delivery date</label>\\r\\n              <div class=\\\"input-group datepicker-input\\\">\\r\\n                <input\\r\\n                  class=\\\"form-control\\\"\\r\\n                  placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                  name=\\\"dp1\\\"\\r\\n                  formControlName=\\\"delivery_date\\\"\\r\\n                  ngbDatepicker\\r\\n                  #d1=\\\"ngbDatepicker\\\"\\r\\n                />\\r\\n                <div class=\\\"input-group-append\\\">\\r\\n                  <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d1.toggle()\\\" type=\\\"button\\\">\\r\\n                    <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                  </button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n\\r\\n\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"required\\\">Vendor</label>\\r\\n              <ng-select [items]=\\\"vendor_option\\\" placeholder=\\\"Type and search vendor\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"vendor\\\">\\r\\n              </ng-select>\\r\\n            </div>\\r\\n              <div class=\\\"col-lg-2 col-md-2\\\">\\r\\n              <label class=\\\"required\\\">Job type</label>\\r\\n              <select class=\\\"form-control\\\" formControlName=\\\"job_type\\\">\\r\\n                <option value=\\\"\\\">Please select job type</option>\\r\\n                <option value=\\\"Direct\\\">Direct</option>\\r\\n                <option value=\\\"Job order\\\">Job order</option>\\r\\n                <option value=\\\"Estimate\\\">Estimate</option>\\r\\n              </select>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"required\\\">Department</label>\\r\\n              <ng-select [items]=\\\"dept_option\\\" placeholder=\\\"Type and search Department\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n                formControlName=\\\"department\\\">\\r\\n              </ng-select>\\r\\n            </div>\\r\\n              </div>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-12\\\">\\r\\n              <div class=\\\"card\\\">\\r\\n                <div class=\\\"card-header\\\">\\r\\n                  Order line items\\r\\n                  <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"addOrderItems()\\\" [disabled]=\\\"!orderForm.valid\\\"\\r\\n                    type=\\\"button\\\">\\r\\n                    Add Item\\r\\n                  </button>\\r\\n                </div>\\r\\n                <!-- /.box-header -->\\r\\n                <div class=\\\"card-body\\\" *ngIf=\\\"orderForm.controls.order_items.controls.length > 0\\\">\\r\\n                  <table class=\\\"table table-bordered\\\" formArrayName=\\\"order_items\\\">\\r\\n                    <tr>\\r\\n                      <th>Item</th>\\r\\n                      <th>Unit</th>\\r\\n                      <th>Qty</th>\\r\\n                      <th>Price(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                      <th>Dis(%)</th>\\r\\n                      <th>CGST(%)</th>\\r\\n                      <th>SGST(%)</th>\\r\\n                      <th>IGST(%)</th>\\r\\n                      <th>Amount(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                      <th>Action</th>\\r\\n                    </tr>\\r\\n                    <tr *ngFor=\\\"let school of orderForm.controls.order_items.controls; let i=index\\\" formGroupName=\\\"{{i}}\\\">\\r\\n                      <td>\\r\\n                        <div class=\\\"input-group ngs\\\">\\r\\n                          <div class=\\\"col-md-12\\\">\\r\\n                            <ng-select [items]=\\\"order_items\\\" appendTo=\\\".card-body\\\" class=\\\"form-control\\\" style=\\\"width:250px !important;\\\" placeholder=\\\"Type and search items\\\" bindLabel=\\\"name\\\" bindValue=\\\"_id\\\"\\r\\n                            formControlName=\\\"item_id\\\">\\r\\n                          </ng-select>\\r\\n                          </div>\\r\\n                        </div>\\r\\n                      </td>\\r\\n                        <td>\\r\\n                        <div class=\\\"input-group\\\">\\r\\n                          <select class=\\\"form-control\\\" formControlName=\\\"unit\\\">\\r\\n                            <option value=\\\"\\\">Please select units</option>\\r\\n                            <option *ngFor=\\\"let option of unit_option\\\" [value]=\\\"option\\\"> {{option}}</option>\\r\\n                          </select>\\r\\n                        </div>\\r\\n                      </td>\\r\\n                      <td>\\r\\n                        <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"qty\\\"\\r\\n                          class=\\\"form-control qty\\\">\\r\\n                      </td>\\r\\n                      <td>\\r\\n                        <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"price\\\" class=\\\"form-control price\\\">\\r\\n\\r\\n                      </td>\\r\\n                      <td>\\r\\n                        <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"discount\\\"  class=\\\"form-control discount\\\">\\r\\n                      </td>\\r\\n                      <td>\\r\\n                        <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"cgst\\\" class=\\\"form-control discount\\\">\\r\\n                      </td>\\r\\n                      <td>\\r\\n                        <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"sgst\\\"  class=\\\"form-control discount\\\">\\r\\n                      </td>\\r\\n                      <td>\\r\\n                        <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"igst\\\" class=\\\"form-control discount\\\">\\r\\n                      </td>\\r\\n                      <td>\\r\\n                        <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total\\\" class=\\\"form-control total\\\">\\r\\n\\r\\n                      </td>\\r\\n                      <td>\\r\\n                        <button class=\\\"btn btn-danger float-right\\\" [disabled]=\\\"orderForm.controls?.order_items.controls.length == 1\\\" (click)=\\\"removeItems(i)\\\" type=\\\"button\\\">\\r\\n                          <i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                        </button>\\r\\n                      </td>\\r\\n                    </tr>\\r\\n                  </table>\\r\\n                </div>\\r\\n                <div class=\\\"card-body\\\" *ngIf=\\\"orderForm.controls?.order_items.controls.length == 0\\\">\\r\\n                  <p>Please select vendor</p>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"mt-3\\\">\\r\\n            <div class=\\\"form-group row\\\">\\r\\n              <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n                <label class=\\\"\\\">Narration</label>\\r\\n                <input type=\\\"text\\\" formControlName=\\\"narration\\\" class=\\\"form-control\\\" placeholder=\\\"Please enter narration\\\">\\r\\n              </div>\\r\\n              <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n                <label class=\\\"\\\">Terms And Conditions</label>\\r\\n                <input type=\\\"text\\\" formControlName=\\\"terms_and_conditions\\\" class=\\\"form-control\\\"\\r\\n                  placeholder=\\\"Please enter terms and conditions\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group row\\\">\\r\\n              <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n                <label class=\\\"\\\">Net Amt</label>\\r\\n                <div class=\\\"input-group\\\">\\r\\n                  <div class=\\\"input-group-prepend\\\">\\r\\n                    <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                  </div>\\r\\n                  <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"net_amount\\\" class=\\\"form-control\\\">\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n                <label class=\\\"\\\">Rounded off</label>\\r\\n                <div class=\\\"input-group\\\">\\r\\n                  <div class=\\\"input-group-prepend\\\">\\r\\n                    <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                  </div>\\r\\n                  <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"rounded_off\\\" class=\\\"form-control\\\">\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n                <label class=\\\"required\\\">Round of Type</label>\\r\\n                <select class=\\\"form-control\\\" formControlName=\\\"round_off_type\\\">\\r\\n                  <option>Please select site</option>\\r\\n                  <option value=\\\"plus\\\">Plus</option>\\r\\n                  <option value=\\\"minus\\\">Minus</option>\\r\\n                </select>\\r\\n              </div>\\r\\n              <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n                <label class=\\\"\\\">Total</label>\\r\\n                <div class=\\\"input-group\\\">\\r\\n                  <div class=\\\"input-group-prepend\\\">\\r\\n                    <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                  </div>\\r\\n                  <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total_amount\\\" class=\\\"form-control\\\">\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"card-footer\\\">\\r\\n          <button class=\\\"btn btn-success float-right\\\" (click)=\\\"saveOrders()\\\" [disabled]=\\\"!orderForm.valid || process == 'saving'\\\" type=\\\"button\\\">\\r\\n            Save <i *ngIf=\\\"process == 'saving'\\\" class=\\\"fa fa-spinner fa-spin\\\"></i>\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n\"","module.exports = \"table {\\n  overflow-x: scroll;\\n  width: 100%;\\n  display: block; }\\n  table select {\\n    width: 150px; }\\n  table .qty {\\n    width: 70px; }\\n  table .price {\\n    width: 120px; }\\n  table .discount {\\n    width: 70px; }\\n  table .total {\\n    width: 170px; }\\n  ::ng-deep .ng-dropdown-panel {\\n  margin-top: 40px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2ludmVudG9yeS9lZGl0LW9yZGVyL0Y6XFx0ZXN0aW5nX2RlbGV0ZV9mb2xkZXJcXFRSVUNLX0RFTU9fb2xkR2FuZXNoXFxmcm9udGVuZFxcdGRfZnJvbnRlbmQvc3JjXFxhcHBcXGxheW91dFxcaW52ZW50b3J5XFxlZGl0LW9yZGVyXFxlZGl0LW9yZGVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxjQUFjLEVBQUE7RUFIbEI7SUFLUSxZQUNKLEVBQUE7RUFOSjtJQVFRLFdBQ0osRUFBQTtFQVRKO0lBV1EsWUFDSixFQUFBO0VBWko7SUFjUSxXQUNKLEVBQUE7RUFmSjtJQWlCUSxZQUNKLEVBQUE7RUFFRjtFQUNFLDJCQUE0QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvbGF5b3V0L2ludmVudG9yeS9lZGl0LW9yZGVyL2VkaXQtb3JkZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZSB7XHJcbiAgICBvdmVyZmxvdy14OiBzY3JvbGw7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgc2VsZWN0IHtcclxuICAgICAgICB3aWR0aDogMTUwcHhcclxuICAgIH1cclxuICAgIC5xdHkge1xyXG4gICAgICAgIHdpZHRoOiA3MHB4XHJcbiAgICB9XHJcbiAgICAucHJpY2V7XHJcbiAgICAgICAgd2lkdGg6IDEyMHB4XHJcbiAgICB9XHJcbiAgICAuZGlzY291bnR7XHJcbiAgICAgICAgd2lkdGg6IDcwcHhcclxuICAgIH1cclxuICAgIC50b3RhbHtcclxuICAgICAgICB3aWR0aDogMTcwcHhcclxuICAgIH1cclxuICB9XHJcbiAgOjpuZy1kZWVwIC5uZy1kcm9wZG93bi1wYW5lbCB7XHJcbiAgICBtYXJnaW4tdG9wIDogNDBweCAhaW1wb3J0YW50O1xyXG59Il19 */\"","import { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\nimport { MaintenanceService } from 'src/app/shared/services/maintenance.service';\r\nimport { itemUnits } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { Component, OnInit } from '@angular/core';\r\ndeclare var moment: any;\r\n\r\n@Component({\r\n  selector: 'app-edit-order',\r\n  templateUrl: './edit-order.component.html',\r\n  styleUrls: ['./edit-order.component.scss']\r\n})\r\nexport class EditOrderComponent implements OnInit {\r\n\r\n  public orderForm: any;\r\n  public process: string;\r\n  public bsConfig: Partial<BsDatepickerConfig>;\r\n  public siteOptions: any;\r\n  public vendor_option: any;\r\n  public dept_option: any;\r\n  public order_items; any;\r\n  public unit_option = itemUnits;\r\n  public orderDetails: any;\r\n  public currentDate = new Date();\r\n  minDate;\r\n  site_name: any;\r\n  usertype: any;\r\n  loading = false;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private metaService: MetaService,\r\n    private ms: MaintenanceService,\r\n    private is: InventoryService,\r\n    private router: Router,\r\n    private aroute: ActivatedRoute\r\n  ) {\r\n    this.usertype = this.metaService.getSiteFromStorage().role;\r\n    this.site_name = this.metaService.getSiteFromStorage().site;\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.orderDetails = this.aroute.snapshot.data['order_details']\r\n    this.bsConfig = Object.assign({}, { containerClass: 'theme-blue', 'rangeInputFormat': 'MMMM Do YYYY', minDate: new Date(), 'showWeekNumbers': false });\r\n    this.buildForm();\r\n    this.orderForm.controls.order_items.valueChanges.subscribe(changes => {\r\n      this.updateValues()\r\n    })\r\n    this.getOptions();\r\n    this.getSites();\r\n  }\r\n  public buildForm(): void {\r\n    this.orderForm = this.fb.group(\r\n      {\r\n        'order_date': [{year: new Date(this.orderDetails.order_date).getFullYear(), month: new Date(this.orderDetails.order_date).getMonth() + 1, day: new Date(this.orderDetails.order_date).getDate()}],\r\n        'delivery_date': [{year: new Date(this.orderDetails.delivery_date).getFullYear(), month: new Date(this.orderDetails.delivery_date).getMonth() + 1, day: new Date(this.orderDetails.delivery_date).getDate()}],\r\n        'site': [this.orderDetails.site],\r\n        'order_type': [this.orderDetails.order_type, [Validators.required]],\r\n        'order_number': [this.orderDetails.order_number, [Validators.required]],\r\n        'vendor': [this.orderDetails.vendor, [Validators.required]],\r\n        'job_type': [this.orderDetails.job_type, [Validators.required]],\r\n        'department': [this.orderDetails.department, [Validators.required]],\r\n        'order_items': this.fb.array([\r\n\r\n        ]),\r\n        'narration': [this.orderDetails.narration],\r\n        'terms_and_conditions': [this.orderDetails.terms_and_conditions],\r\n        'net_amount': [this.orderDetails.net_amount],\r\n        'rounded_off': [this.orderDetails.rounded_off],\r\n        'round_off_type': [this.orderDetails.round_off_type],\r\n        'total_amount': [this.orderDetails.total_amount]\r\n      }\r\n    );\r\n    //this.addOrderItems()\r\n    this.orderDetails.order_items.forEach(element => {\r\n      const control = <FormArray>this.orderForm.controls['order_items'];\r\n      control.push(this.initItemsData(element));\r\n    });\r\n  }\r\n  private initItemsData(data) {\r\n    return this.fb.group({\r\n      'name': [data.name],\r\n      'item_id': [data.item_id, [Validators.required]],\r\n      'unit': [data.unit],\r\n      'qty': [data.qty, [Validators.required]],\r\n      'price': [data.price, [Validators.required]],\r\n      'discount': [data.discount ? data.discount : 0, [Validators.required]],\r\n      'discounted_price': [0],\r\n      'cgst': [data.cgst, [Validators.required]],\r\n      'sgst': [data.sgst, [Validators.required]],\r\n      'igst': [data.igst, [Validators.required]],\r\n      'total': [data.total, [Validators.required]]\r\n    });\r\n  }\r\n  private initItems() {\r\n    return this.fb.group({\r\n      'name': [''],\r\n      'item_id': ['', [Validators.required]],\r\n      'unit': [''],\r\n      'qty': [0, [Validators.required]],\r\n      'price': [0, [Validators.required]],\r\n      'discount': [0, [Validators.required]],\r\n      'discounted_price': [0],\r\n      'cgst': [0, [Validators.required]],\r\n      'sgst': [0, [Validators.required]],\r\n      'igst': [0, [Validators.required]],\r\n      'total': ['', [Validators.required]]\r\n    });\r\n  }\r\n  addOrderItems() {\r\n    const control = <FormArray>this.orderForm.controls['order_items'];\r\n    control.push(this.initItems());\r\n  }\r\n  removeItems(i: number) {\r\n    const control = <FormArray>this.orderForm.controls['order_items'];\r\n    control.removeAt(i);\r\n  }\r\n  public removed(value: any): void {\r\n    let product_id = value['id']\r\n    let order_items = this.orderForm.controls['order_items'].value\r\n    var index = order_items.map(function (items) { return items.product_id; }).indexOf(product_id);\r\n    this.removeItems(index)\r\n  }\r\n  public saveOrders() {\r\n    let order_date;\r\n    if (this.orderForm.controls['order_date'].value) {\r\n      const dt = this.orderForm.controls['order_date'].value.year + '-' +\r\n        this.orderForm.controls['order_date'].value.month + '-' +\r\n        this.orderForm.controls['order_date'].value.day;\r\n      order_date = moment(dt, 'YYYY-MM-DD').format();\r\n    } else {\r\n      order_date = moment().format();\r\n    }\r\n\r\n    let delivery_date;\r\n    if (this.orderForm.controls['delivery_date'].value) {\r\n      const dt = this.orderForm.controls['delivery_date'].value.year + '-' +\r\n        this.orderForm.controls['delivery_date'].value.month + '-' +\r\n        this.orderForm.controls['delivery_date'].value.day;\r\n      delivery_date = moment(dt, 'YYYY-MM-DD').format();\r\n    } else {\r\n      delivery_date = moment().format();\r\n    }\r\n\r\n    this.process = 'saving';\r\n    let data = this.orderForm.value;\r\n    data.order_date = order_date;\r\n    data.delivery_date = delivery_date;\r\n    this.is.updatOrder(this.orderDetails['_id'], this.orderForm.value).subscribe(ordersInfo => {\r\n      this.process = 'done';\r\n      this.router.navigate(['/inventory/orders'])\r\n    }, error => { this.process = 'done'; console.log(error) })\r\n  }\r\n  getSites() {\r\n    this.loading = true;\r\n    this.metaService.getSites().subscribe((res: any) => {\r\n        this.loading = false;\r\n        this.siteOptions = res;\r\n        if (this.usertype === 'ADMIN') {\r\n          this.orderForm.controls['site'].setValue(this.siteOptions[0].branch_name);\r\n        } else {\r\n          this.orderForm.controls['site'].setValue(this.site_name);\r\n        }\r\n      },\r\n      err => {\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n  private getOptions() {\r\n    // this.metaService.getSites().subscribe(siteInfo => {\r\n    //   this.siteOptions = siteInfo\r\n    // })\r\n    this.ms.getVendorMasterList().subscribe(siteInfo => {\r\n      this.vendor_option = siteInfo['result']\r\n    })\r\n    this.metaService.getDeptList().subscribe(trackInfo => {\r\n      this.dept_option = trackInfo['result'];\r\n    });\r\n    this.ms.getItemMaster().subscribe(trackInfo => {\r\n      this.order_items = trackInfo['records']\r\n    });\r\n  }\r\n  public updateValues() {\r\n    let net_price = 0;\r\n    const control = <FormArray>this.orderForm.controls['order_items'];\r\n    for (var intial_val = 0; intial_val < control.length; intial_val++) {\r\n      let values = control.controls[intial_val].value\r\n      let item_mater_data = this.order_items.find(item => item['_id'] == values['item_id']);\r\n      let qty = values['qty'] ? values['qty'] : item_mater_data ? 1 : 0;\r\n      let unit = values['unit'] ? values['unit'] : item_mater_data ? item_mater_data.unit : '';\r\n      let price = values['price'] ? values['price'] : item_mater_data ? parseFloat(item_mater_data['rate']) : 0\r\n      let original_price = qty * price;\r\n      let dis_difference = parseFloat(values['discount']) / 100;\r\n      let discounted_amount = original_price * dis_difference\r\n      let discounted_price = original_price - discounted_amount\r\n      // Tax calculation starts here\r\n      let total_taxes = values['cgst'] + values['sgst'] + values['igst']\r\n      let tax_difference = parseFloat(total_taxes) / 100;\r\n      let tax_axmount = discounted_price * tax_difference\r\n      let total = discounted_price + tax_axmount\r\n      // Tax calculation ends here\r\n      control.controls[intial_val].patchValue({\r\n        unit: unit,\r\n        price: price,\r\n        name: item_mater_data ? item_mater_data.name : '',\r\n        qty: qty,\r\n        discounted_price: discounted_price,\r\n        total: total.toFixed(5)\r\n      }, { emitEvent: false })\r\n      net_price += total;\r\n    }\r\n    this.orderForm.patchValue({\r\n      'net_amount': net_price,\r\n      'rounded_off': net_price,\r\n      'total_amount': net_price\r\n    }, { emitEvent: false })\r\n  }\r\n  // public generateOrderNumber() {\r\n  //   const order_type = this.orderForm.controls.order_type.value;\r\n  //   this.is.getOrderNumberDetails(order_type).subscribe(orderInfo => {\r\n  //     this.orderForm.controls.order_number.setValue(orderInfo['count'] + 1);\r\n  //   }, error => { console.log(error);\r\n  //    });\r\n  // }\r\n\r\n  public generateOrderNumber() {\r\n    const order_type = this.orderForm.controls.order_type.value;\r\n    const site = this.orderForm.controls.site.value;\r\n    if (site && order_type) {\r\n      const matchCond = { site: site, order_type: order_type };\r\n      console.log('mathCond >>' , matchCond );\r\n      this.is.getOrderNumberDetails(matchCond).subscribe(mrInfo => {\r\n        this.orderForm.controls.order_number.setValue(mrInfo['count'] + 1);\r\n      }, error => { console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <form [formGroup]=\\\"ssForm\\\">\\r\\n    <div class=\\\"card\\\">\\r\\n      <div class=\\\"card-header\\\">Edit Scrap Sale</div>\\r\\n      <div class=\\\"card-body\\\">\\r\\n\\r\\n        <div class=\\\"form-group row\\\">\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Site</label>\\r\\n            <ng-select [items]=\\\"siteOptions\\\" placeholder=\\\"Type and search site\\\" bindLabel=\\\"branch_name\\\" bindValue=\\\"branch_name\\\"\\r\\n              formControlName=\\\"site\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Sale type</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"ss_type\\\" (change)=\\\"generateSsNumber()\\\">\\r\\n              <option value=\\\"\\\">Select Sale type</option>\\r\\n              <option value=\\\"Scrap Sale\\\">Scrap Sale</option>\\r\\n              <option value=\\\"Truck Issue\\\">Truck Issue</option>\\r\\n            </select>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Scrap Sale no</label>\\r\\n            <input disabled type=\\\"text\\\" formControlName=\\\"ss_number\\\" class=\\\"form-control\\\">\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Scrap Sale date</label>\\r\\n            <div class=\\\"input-group datepicker-input\\\">\\r\\n              <input\\r\\n                class=\\\"form-control\\\"\\r\\n                placeholder=\\\"dd-mm-yyyy\\\"\\r\\n                name=\\\"dp2\\\"\\r\\n                formControlName=\\\"ss_date\\\"\\r\\n                ngbDatepicker\\r\\n                #d2=\\\"ngbDatepicker\\\"\\r\\n              />\\r\\n              <div class=\\\"input-group-append\\\">\\r\\n                <button class=\\\"btn btn-outline-secondary calendar\\\" (click)=\\\"d2.toggle()\\\" type=\\\"button\\\">\\r\\n                  <i class=\\\"fa fa-calendar\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                </button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Issued By</label>\\r\\n            <select class=\\\"form-control\\\" formControlName=\\\"issuedby\\\">\\r\\n              <option value=\\\"\\\">Select Issued By</option>\\r\\n              <option *ngFor=\\\"let i of issuedby_option\\\" [value]=\\\"i.issuedby\\\"> {{i.issuedby}}</option>\\r\\n            </select>\\r\\n          </div>\\r\\n\\r\\n          <div class=\\\"col-md-3\\\">\\r\\n            <label class=\\\"required\\\">Department</label>\\r\\n            <ng-select [items]=\\\"dept_option\\\" placeholder=\\\"Type and search Department\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n              formControlName=\\\"department\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n          <div class=\\\"col-md-6\\\">\\r\\n            <label class=\\\"required\\\">Vendor</label>\\r\\n            <ng-select [items]=\\\"vendor_option\\\" placeholder=\\\"Type and search vendor\\\" bindLabel=\\\"name\\\" bindValue=\\\"name\\\"\\r\\n              formControlName=\\\"vendor\\\">\\r\\n            </ng-select>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12\\\">\\r\\n            <div class=\\\"card\\\">\\r\\n              <div class=\\\"card-header\\\">\\r\\n                Material Issue items\\r\\n                <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"addSsItems()\\\" [disabled]=\\\"!ssForm.valid\\\"\\r\\n                  type=\\\"button\\\">\\r\\n                  Add Item\\r\\n                </button>\\r\\n              </div>\\r\\n              <!-- /.box-header -->\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"ssForm.controls.scraps_items.controls.length > 0\\\">\\r\\n                <table class=\\\"table table-bordered\\\" formArrayName=\\\"scraps_items\\\">\\r\\n                  <tr>\\r\\n                    <th>Item</th>\\r\\n                    <th>Unit</th>\\r\\n                    <th>Qty</th>\\r\\n                    <th>Price(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Godown</th>\\r\\n                    <th>Amount(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                    <th>Action</th>\\r\\n                  </tr>\\r\\n                  <tr *ngFor=\\\"let school of ssForm.controls.scraps_items.controls; let i=index\\\" formGroupName=\\\"{{i}}\\\">\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group ngs\\\">\\r\\n                        <div class=\\\"col-md-12\\\">\\r\\n                          <ng-select [items]=\\\"scraps_items\\\" appendTo=\\\".card-body\\\" class=\\\"form-control\\\" style=\\\"width:250px !important;\\\" placeholder=\\\"Type and search items\\\" bindLabel=\\\"name\\\" bindValue=\\\"_id\\\"\\r\\n                          formControlName=\\\"item_id\\\">\\r\\n                        </ng-select>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"unit\\\">\\r\\n                          <option value=\\\"\\\">Select units</option>\\r\\n                          <option *ngFor=\\\"let option of unit_option\\\" [value]=\\\"option\\\"> {{option}}</option>\\r\\n                        </select>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\"  formControlName=\\\"qty\\\"\\r\\n                        class=\\\"form-control qty\\\">\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"price\\\" class=\\\"form-control price\\\">\\r\\n                    </td>\\r\\n\\r\\n                    <td>\\r\\n                      <div class=\\\"input-group\\\">\\r\\n                        <select class=\\\"form-control\\\" formControlName=\\\"godown\\\">\\r\\n                          <option value=\\\"\\\">Select godown</option>\\r\\n                          <option *ngFor=\\\"let g of scraps_godowns\\\" [value]=\\\"g.godown\\\"> {{g.godown}}</option>\\r\\n                        </select>\\r\\n                      </div>\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total\\\" class=\\\"form-control total\\\">\\r\\n                    </td>\\r\\n                    <td>\\r\\n                      <button class=\\\"btn btn-danger float-right\\\" [disabled]=\\\"ssForm.controls?.scraps_items.controls.length == 1\\\" (click)=\\\"removeItems(i)\\\" type=\\\"button\\\">\\r\\n                        <i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                      </button>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </table>\\r\\n              </div>\\r\\n              <div class=\\\"card-body\\\" *ngIf=\\\"ssForm.controls?.scraps_items.controls.length == 0\\\">\\r\\n                <p>Please select vendor</p>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"mt-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n              <label class=\\\"\\\">Narration</label>\\r\\n              <input type=\\\"text\\\" formControlName=\\\"narration\\\" class=\\\"form-control\\\" placeholder=\\\"Please enter narration\\\">\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Net Amt</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"net_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Rounded off</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"rounded_off\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"required\\\">Round of Type</label>\\r\\n              <select class=\\\"form-control\\\" formControlName=\\\"round_off_type\\\">\\r\\n                <option>Please select site</option>\\r\\n                <option value=\\\"plus\\\">Plus</option>\\r\\n                <option value=\\\"minus\\\">Minus</option>\\r\\n              </select>\\r\\n            </div>\\r\\n            <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n              <label class=\\\"\\\">Total</label>\\r\\n              <div class=\\\"input-group\\\">\\r\\n                <div class=\\\"input-group-prepend\\\">\\r\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i></span>\\r\\n                </div>\\r\\n                <input type=\\\"number\\\" min=\\\"0\\\" formControlName=\\\"total_amount\\\" class=\\\"form-control\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"card-footer\\\">\\r\\n        <button class=\\\"btn btn-success float-right\\\" (click)=\\\"saveSs()\\\" [disabled]=\\\"!ssForm.valid || process == 'saving'\\\" type=\\\"button\\\">\\r\\n          Save <i *ngIf=\\\"process == 'saving'\\\" class=\\\"fa fa-spinner fa-spin\\\"></i>\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </form>\\r\\n</div>\\r\\n\"","module.exports = \"::ng-deep .ng-dropdown-panel {\\n  margin-top: 40px !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L2ludmVudG9yeS9lZGl0LXNjcmFwLXNhbGUvRjpcXHRlc3RpbmdfZGVsZXRlX2ZvbGRlclxcVFJVQ0tfREVNT19vbGRHYW5lc2hcXGZyb250ZW5kXFx0ZF9mcm9udGVuZC9zcmNcXGFwcFxcbGF5b3V0XFxpbnZlbnRvcnlcXGVkaXQtc2NyYXAtc2FsZVxcZWRpdC1zY3JhcC1zYWxlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksMkJBQTRCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9sYXlvdXQvaW52ZW50b3J5L2VkaXQtc2NyYXAtc2FsZS9lZGl0LXNjcmFwLXNhbGUuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6Om5nLWRlZXAgLm5nLWRyb3Bkb3duLXBhbmVsIHtcclxuICAgIG1hcmdpbi10b3AgOiA0MHB4ICFpbXBvcnRhbnQ7XHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators, FormArray } from '@angular/forms';\r\nimport { BsDatepickerConfig } from 'ngx-bootstrap/datepicker';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\nimport { MaintenanceService } from 'src/app/shared/services/maintenance.service';\r\nimport { itemUnits } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { DashboardService } from 'src/app/shared/services/dashboard.service';\r\ndeclare var moment: any;\r\n\r\n@Component({\r\n  selector: 'app-edit-scrap-sale',\r\n  templateUrl: './edit-scrap-sale.component.html',\r\n  styleUrls: ['./edit-scrap-sale.component.scss']\r\n})\r\nexport class EditScrapSaleComponent implements OnInit {\r\n  public ssForm: any;\r\n  public process: string;\r\n  public bsConfig: Partial<BsDatepickerConfig>;\r\n  public siteOptions: any;\r\n  public dept_option: any;\r\n  public vendor_option: any;\r\n  public issuedby_option: any;\r\n  public scraps_items: any;\r\n  public scraps_godowns: any;\r\n  public ssDetails: any;\r\n  public unit_option = itemUnits;\r\n  public currentDate = new Date();\r\n  site_name: any;\r\n  usertype: any;\r\n  loading = false;\r\n  minDate;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private metaService: MetaService,\r\n    private ms: MaintenanceService,\r\n    private is: InventoryService,\r\n    private ds: DashboardService,\r\n    private aroute: ActivatedRoute,\r\n    private router: Router\r\n  ) { \r\n    this.usertype = this.metaService.getSiteFromStorage().role;\r\n    this.site_name = this.metaService.getSiteFromStorage().site;\r\n    const current = new Date();\r\n    this.minDate = {\r\n      year: current.getFullYear(),\r\n      month: current.getMonth() + 1,\r\n      day: current.getDate()\r\n    };\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.ssDetails = this.aroute.snapshot.data['ss_details'];\r\n    this.bsConfig = Object.assign({},\r\n      { containerClass: 'theme-blue', 'rangeInputFormat': 'MMMM Do YYYY', minDate: new Date(), 'showWeekNumbers': false });\r\n    this.buildForm();\r\n    this.ssForm.controls.scraps_items.valueChanges.subscribe(changes => {\r\n      this.updateValues();\r\n    });\r\n    this.getOptions();\r\n    this.getSites();\r\n  }\r\n  public buildForm(): void {\r\n\r\n    this.ssForm = this.fb.group(\r\n      {\r\n        'site': [this.ssDetails.site],\r\n        'ss_type': [this.ssDetails.ss_type],\r\n        'ss_number': [this.ssDetails.ss_number, [Validators.required]],\r\n        'ss_date': [{year: new Date(this.ssDetails.ss_date).getFullYear(), month: new Date(this.ssDetails.ss_date).getMonth() + 1, day: new Date(this.ssDetails.ss_date).getDate()}],\r\n        'issuedby': [this.ssDetails.issuedby, [Validators.required]],\r\n        'department': [this.ssDetails.department, [Validators.required]],\r\n        'vendor': [this.ssDetails.vendor, [Validators.required]],\r\n        'scraps_items': this.fb.array([\r\n\r\n        ]),\r\n        'narration': [this.ssDetails.narration],\r\n        'net_amount': [this.ssDetails.net_amount],\r\n        'rounded_off': [this.ssDetails.rounded_off],\r\n        'round_off_type': [this.ssDetails.round_off_type],\r\n        'total_amount': [this.ssDetails.total_amount]\r\n      }\r\n    );\r\n    // this.addMaterialreceiptItems()\r\n    this.ssDetails.scraps_items.forEach(element => {\r\n      const control = <FormArray>this.ssForm.controls['scraps_items'];\r\n      control.push(this.initItemsData(element));\r\n    });\r\n  }\r\n  private initItemsData(data) {\r\n    return this.fb.group({\r\n      'name': [data.name],\r\n      'item_id': [data.item_id, [Validators.required]],\r\n      'unit': [data.unit],\r\n      'qty': [data.qty, [Validators.required]],\r\n      'price': [data.price, [Validators.required]],\r\n      'total': [data.total, [Validators.required]],\r\n      'godown': [data.godown, [Validators.required]]\r\n    });\r\n  }\r\n  private initItems() {\r\n    return this.fb.group({\r\n      'name': [''],\r\n      'item_id': ['', [Validators.required]],\r\n      'unit': [''],\r\n      'qty': [0, [Validators.required]],\r\n      'price': [0, [Validators.required]],\r\n      'total': ['', [Validators.required]],\r\n      'godown': ['', [Validators.required]]\r\n\r\n    });\r\n  }\r\n  addSsItems() {\r\n    const control = <FormArray>this.ssForm.controls['scraps_items'];\r\n    control.push(this.initItems());\r\n  }\r\n  removeItems(i: number) {\r\n    const control = <FormArray>this.ssForm.controls['scraps_items'];\r\n    control.removeAt(i);\r\n  }\r\n  public removed(value: any): void {\r\n    let product_id = value['id'];\r\n    let scraps_items = this.ssForm.controls['scraps_items'].value;\r\n    var index = scraps_items.map(function (items) { return items.product_id; }).indexOf(product_id);\r\n    this.removeItems(index);\r\n  }\r\n  public saveSs() {\r\n    let ss_date;\r\n    if (this.ssForm.controls['ss_date'].value) {\r\n      const dt = this.ssForm.controls['ss_date'].value.year + '-' +\r\n        this.ssForm.controls['ss_date'].value.month + '-' +\r\n        this.ssForm.controls['ss_date'].value.day;\r\n      ss_date = moment(dt, 'YYYY-MM-DD').format();\r\n    } else {\r\n      ss_date = moment().format();\r\n    }\r\n\r\n    this.process = 'saving';\r\n    let data = this.ssForm.value;\r\n    data.ss_date = ss_date;\r\n\r\n    console.log('Edit Issue Saving',this.ssDetails);\r\n\r\n    this.is.updatSs(this.ssDetails['_id'], this.ssForm.value).subscribe(miInfo => {\r\n      this.process = 'done';\r\n      this.router.navigate(['/inventory/scrap-sale']);\r\n    }, error => { this.process = 'done'; console.log(error);\r\n  });\r\n  }\r\n  getSites() {\r\n    this.loading = true;\r\n    this.metaService.getSites().subscribe((res: any) => {\r\n        this.loading = false;\r\n        this.siteOptions = res;\r\n        if (this.usertype === 'ADMIN') {\r\n          this.ssForm.controls['site'].setValue(this.siteOptions[0].branch_name);\r\n        } else {\r\n          this.ssForm.controls['site'].setValue(this.site_name);\r\n        }\r\n      },\r\n      err => {\r\n        this.loading = false;\r\n      }\r\n    );\r\n  }\r\n  private getOptions() {\r\n    // this.metaService.getSites().subscribe(siteInfo => {\r\n    //   this.siteOptions = siteInfo;\r\n    // });\r\n    this.metaService.getDeptList().subscribe(trackInfo => {\r\n      this.dept_option = trackInfo['result'];\r\n    });\r\n\r\n    this.metaService.getIssuedbyList().subscribe(trackInfo => {\r\n      this.issuedby_option = trackInfo['result'];\r\n    });\r\n    this.ms.getVendorMasterList().subscribe(siteInfo => {\r\n      this.vendor_option = siteInfo['result'];\r\n    });\r\n\r\n    this.ms.getItemMaster().subscribe(trackInfo => {\r\n      this.scraps_items = trackInfo['records'];\r\n    });\r\n    this.ds.getGodownList().subscribe( (res: any) => {\r\n      this.scraps_godowns = res;\r\n    });\r\n  }\r\n  public updateValues() {\r\n    let net_price = 0;\r\n    const control = <FormArray>this.ssForm.controls['scraps_items'];\r\n    for (var intial_val = 0; intial_val < control.length; intial_val++) {\r\n      let values = control.controls[intial_val].value;\r\n      let item_mater_data = this.scraps_items.find(item => item['_id'] == values['item_id']);\r\n      // let qty = values['qty'] ? values['qty'] : item_mater_data ? 1 : 0;\r\n      let qty = values['qty'] ? values['qty'] : item_mater_data ? 0 : 0;\r\n      let unit = values['unit'] ? values['unit'] : item_mater_data ? item_mater_data.unit : '';\r\n      // let price = values['price'] ? values['price'] : item_mater_data ? parseFloat(item_mater_data['rate']) : 0;\r\n      let price = values['price'] ? values['price'] : item_mater_data ? 0 : 0;\r\n      let original_price = qty * price;\r\n      let total = original_price\r\n      // Tax calculation ends here\r\n      control.controls[intial_val].patchValue({\r\n        unit: unit,\r\n        price: price,\r\n        name: item_mater_data ? item_mater_data.name : '',\r\n        qty: qty,\r\n        total: total.toFixed(5)\r\n      }, { emitEvent: false });\r\n      net_price += total;\r\n    }\r\n    this.ssForm.patchValue({\r\n      'net_amount': net_price,\r\n      'rounded_off': net_price,\r\n      'total_amount': net_price\r\n    }, { emitEvent: false });\r\n  }\r\n\r\n  public generateSsNumber() {\r\n    const ss_type = this.ssForm.controls.ss_type.value;\r\n    const site = this.ssForm.controls.site.value;\r\n    if (site && ss_type) {\r\n      const matchCond = { site: site, ss_type: ss_type };\r\n      console.log('mathCond >>' , matchCond );\r\n      this.is.getSsNumberDetails(matchCond).subscribe(ssInfo => {\r\n        this.ssForm.controls.ss_number.setValue(ssInfo['count'] + 1);\r\n      }, error => { console.log(error);\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { InventoryComponent } from './inventory/inventory.component';\r\n\r\n\r\n\r\n// item-master\r\nimport { AddItemMasterComponent } from './add-item-master/add-item-master.component';\r\nimport { EditItemMasterComponent } from './edit-item-master/edit-item-master.component';\r\nimport { ViewItemMasterComponent } from './view-item-master/view-item-master.component';\r\nimport { ListItemMasterComponent } from './list-item-master/list-item-master.component';\r\nimport { ItemmasterReslover } from './itemmaster-reslover';\r\n\r\n\r\n// orders\r\nimport { AddOrderComponent } from './add-order/add-order.component';\r\nimport { EditOrderComponent } from './edit-order/edit-order.component';\r\nimport { ViewOrderComponent } from './view-order/view-order.component';\r\nimport { ListOrderComponent } from './list-order/list-order.component';\r\nimport { OrderReslover } from './order-reslover';\r\n\r\n// materialreceipt\r\nimport { AddMaterialReceiptComponent } from './add-material-receipt/add-material-receipt.component';\r\nimport { EditMaterialReceiptComponent } from './edit-material-receipt/edit-material-receipt.component';\r\nimport { ViewMaterialReceiptComponent } from './view-material-receipt/view-material-receipt.component';\r\nimport { ListMaterialReceiptComponent } from './list-material-receipt/list-material-receipt.component';\r\nimport { MaterialreceiptReslover } from './materialreceipt-reslover';\r\n\r\n// materialissue\r\nimport { AddMaterialIssueComponent } from './add-material-issue/add-material-issue.component';\r\nimport { EditMaterialIssueComponent } from './edit-material-issue/edit-material-issue.component';\r\nimport { ViewMaterialIssueComponent } from './view-material-issue/view-material-issue.component';\r\nimport { ListMaterialIssueComponent } from './list-material-issue/list-material-issue.component';\r\nimport { MaterialissueReslover } from './materialissue-reslover';\r\n\r\n// scrapsale\r\nimport { AddScrapSaleComponent } from './add-scrap-sale/add-scrap-sale.component';\r\nimport { EditScrapSaleComponent } from './edit-scrap-sale/edit-scrap-sale.component';\r\nimport { ViewScrapSaleComponent } from './view-scrap-sale/view-scrap-sale.component';\r\nimport { ListScrapSaleComponent } from './list-scrap-sale/list-scrap-sale.component';\r\nimport { ScrapsaleReslover } from './scrapsale-reslover';\r\n\r\nconst routes: Routes = [{\r\n  path: '',\r\n  component: InventoryComponent,\r\n  children: [\r\n\r\n    // item master\r\n    {path: 'items-master', component: ListItemMasterComponent},\r\n    {path: 'items-master/:id/view', component: ViewItemMasterComponent, resolve: { items_details: ItemmasterReslover }},\r\n    {path: 'items-master/:id/edit', component: EditItemMasterComponent, resolve: { items_details: ItemmasterReslover }},\r\n    {path: 'add-item-master', component: AddItemMasterComponent},\r\n\r\n\r\n    // orders\r\n    {path: 'orders', component: ListOrderComponent},\r\n    {path: 'orders/:id/view', component: ViewOrderComponent, resolve: { order_details: OrderReslover }},\r\n    {path: 'orders/:id/edit', component: EditOrderComponent, resolve: { order_details: OrderReslover }},\r\n    {path: 'add-order', component: AddOrderComponent},\r\n    {path: 'add-order/:estimateId', component: AddOrderComponent},\r\n\r\n\r\n    // material receipts\r\n    {path: 'material-receipt', component: ListMaterialReceiptComponent},\r\n    {path: 'material-receipt/:id/view', component: ViewMaterialReceiptComponent, resolve: { mr_details: MaterialreceiptReslover}},\r\n    {path: 'material-receipt/:id/edit', component: EditMaterialReceiptComponent,  resolve: { mr_details: MaterialreceiptReslover }},\r\n    {path: 'add-material-receipt', component: AddMaterialReceiptComponent},\r\n\r\n    // material issue\r\n    {path: 'material-issue', component: ListMaterialIssueComponent},\r\n    {path: 'material-issue/:id/view', component: ViewMaterialIssueComponent, resolve: { mi_details: MaterialissueReslover}},\r\n    {path: 'material-issue/:id/edit', component: EditMaterialIssueComponent,  resolve: { mi_details: MaterialissueReslover }},\r\n    {path: 'add-material-issue', component: AddMaterialIssueComponent},\r\n\r\n    // scrap sale\r\n    {path: 'scrap-sale', component: ListScrapSaleComponent},\r\n    {path: 'scrap-sale/:id/view', component: ViewScrapSaleComponent, resolve: { ss_details: ScrapsaleReslover}},\r\n    {path: 'scrap-sale/:id/edit', component: EditScrapSaleComponent,  resolve: { ss_details: ScrapsaleReslover }},\r\n    {path: 'add-scrap-sale', component: AddScrapSaleComponent}\r\n\r\n  ]\r\n}];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class InventoryRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { InventoryRoutingModule } from './inventory-routing.module';\r\nimport { InventoryComponent } from './inventory/inventory.component';\r\nimport { SharedModule } from '../../shared/shared.module';\r\nimport { InventoryService } from './inventory.service';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\n\r\n// orders\r\nimport { AddOrderComponent } from './add-order/add-order.component';\r\nimport { EditOrderComponent } from './edit-order/edit-order.component';\r\nimport { ListOrderComponent } from './list-order/list-order.component';\r\nimport { ViewOrderComponent } from './view-order/view-order.component';\r\nimport {  OrderReslover } from './order-reslover';\r\n\r\n// material receipt\r\nimport { AddMaterialReceiptComponent } from './add-material-receipt/add-material-receipt.component';\r\nimport { EditMaterialReceiptComponent } from './edit-material-receipt/edit-material-receipt.component';\r\nimport { ListMaterialReceiptComponent } from './list-material-receipt/list-material-receipt.component';\r\nimport { ViewMaterialReceiptComponent } from './view-material-receipt/view-material-receipt.component';\r\nimport {  MaterialreceiptReslover } from './materialreceipt-reslover';\r\n\r\n\r\n// material issue\r\nimport { AddMaterialIssueComponent } from './add-material-issue/add-material-issue.component';\r\nimport { EditMaterialIssueComponent } from './edit-material-issue/edit-material-issue.component';\r\nimport { ViewMaterialIssueComponent } from './view-material-issue/view-material-issue.component';\r\nimport { ListMaterialIssueComponent } from './list-material-issue/list-material-issue.component';\r\nimport {  MaterialissueReslover } from './materialissue-reslover';\r\n\r\n// item-master\r\nimport { ListItemMasterComponent } from './list-item-master/list-item-master.component';\r\nimport { ViewItemMasterComponent } from './view-item-master/view-item-master.component';\r\nimport { EditItemMasterComponent } from './edit-item-master/edit-item-master.component';\r\nimport { AddItemMasterComponent } from './add-item-master/add-item-master.component';\r\nimport { ItemmasterReslover } from './itemmaster-reslover';\r\n\r\n// scrap-sale\r\nimport { AddScrapSaleComponent } from './add-scrap-sale/add-scrap-sale.component';\r\nimport { EditScrapSaleComponent } from './edit-scrap-sale/edit-scrap-sale.component';\r\nimport { ListScrapSaleComponent } from './list-scrap-sale/list-scrap-sale.component';\r\nimport { ViewScrapSaleComponent } from './view-scrap-sale/view-scrap-sale.component';\r\nimport { ScrapsaleReslover } from './scrapsale-reslover';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    InventoryComponent,\r\n    AddOrderComponent,\r\n    ListOrderComponent,\r\n    EditOrderComponent,\r\n    ViewOrderComponent,\r\n\r\n    AddMaterialReceiptComponent,\r\n    EditMaterialReceiptComponent,\r\n    ListMaterialReceiptComponent,\r\n    ViewMaterialReceiptComponent,\r\n\r\n    ListItemMasterComponent,\r\n    ViewItemMasterComponent,\r\n    EditItemMasterComponent,\r\n    AddItemMasterComponent,\r\n\r\n    AddScrapSaleComponent,\r\n    EditScrapSaleComponent,\r\n    ListScrapSaleComponent,\r\n    ViewScrapSaleComponent,\r\n\r\n    AddMaterialIssueComponent,\r\n    EditMaterialIssueComponent,\r\n    ViewMaterialIssueComponent,\r\n    ListMaterialIssueComponent\r\n\r\n  ],\r\n  imports: [\r\n    SharedModule,\r\n    NgbModule,\r\n    NgSelectModule,\r\n    InventoryRoutingModule\r\n  ],\r\n  providers: [\r\n    InventoryService,\r\n    OrderReslover,\r\n    ItemmasterReslover,\r\n    MaterialreceiptReslover,\r\n    MaterialissueReslover,\r\n    ScrapsaleReslover\r\n  ]\r\n})\r\nexport class InventoryModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { ApiService } from 'src/app/shared/services/api.service';\r\n\r\n@Injectable()\r\nexport class InventoryService {\r\n\r\n  constructor(public api: ApiService) { }\r\n\r\n\r\n  // item-master\r\n  crateItemMaster(data) {\r\n    return this.api.post('inventory/items-master', data);\r\n  }\r\n  getItemMaster(id) {\r\n    return this.api.get('inventory/items-master/' + id);\r\n  }\r\n  updatItemMaster(id, data) {\r\n    return this.api.put('inventory/items-master?id=' + id, data);\r\n  }\r\n\r\n  deleteItemMaster(id) {\r\n    return this.api.delete(`inventory/items-master/${id}`);\r\n  }\r\n\r\n  // department-master\r\n  crateDepartmentMaster(data) {\r\n    return this.api.post('inventory/department-master', data);\r\n  }\r\n  getDepartmentMaster(id) {\r\n    return this.api.get('inventory/department-master/' + id);\r\n  }\r\n  updatDepartmentMaster(id, data) {\r\n    return this.api.put('inventory/department-master?id=' + id, data);\r\n  }\r\n\r\n  deleteDepartmentMaster(id) {\r\n    return this.api.delete(`inventory/department-master/${id}`);\r\n  }\r\n\r\n\r\n  // orders\r\n  crateOrder(data) {\r\n    return this.api.post('inventory/orders', data);\r\n  }\r\n  getOrder(id) {\r\n    return this.api.get('inventory/orders/' + id);\r\n  }\r\n  getOrderNumberDetails(data) {\r\n    return this.api.post('inventory/orders/generate_order_number', data);\r\n\r\n  }\r\n  updatOrder(id, data) {\r\n    return this.api.put('inventory/orders?id=' + id, data);\r\n  }\r\n\r\n  deleteOrder(id) {\r\n    return this.api.delete(`inventory/orders/${id}`);\r\n  }\r\n\r\n\r\n  // Material Receipts\r\n  addMr(data) {\r\n    return this.api.post('inventory/material-receipt', data);\r\n  }\r\n  getMr(id) {\r\n    return this.api.get('inventory/material-receipt/' + id);\r\n  }\r\n  getMrNumberDetails(data) {\r\n    return this.api.post('inventory/material-receipt/generate_mr_number', data);\r\n  }\r\n  updatMr(id, data) {\r\n    return this.api.put('inventory/material-receipt?id=' + id, data);\r\n  }\r\n  deleteMr(id) {\r\n    return this.api.delete(`inventory/material-receipt/${id}`);\r\n  }\r\n\r\n// Material Issue\r\naddMi(data) {\r\n  return this.api.post('inventory/material-issue', data);\r\n}\r\ngetMi(id) {\r\n  return this.api.get('inventory/material-issue/' + id);\r\n}\r\ngetMiNumberDetails(data) {\r\n  return this.api.post('inventory/material-issue/generate_mi_number', data);\r\n\r\n}\r\nupdatMi(id, data) {\r\n  return this.api.put('inventory/material-issue?id=' + id, data);\r\n}\r\ndeleteMi(id) {\r\n  return this.api.delete(`inventory/material-issue/${id}`);\r\n}\r\n\r\n\r\n\r\n// Scrap Sale\r\naddSs(data) {\r\n  return this.api.post('inventory/scrap-sale', data);\r\n}\r\ngetSs(id) {\r\n  return this.api.get('inventory/scrap-sale/' + id);\r\n}\r\ngetSsNumberDetails(data) {\r\n  return this.api.post('inventory/scrap-sale/generate_ss_number', data);\r\n}\r\nupdatSs(id, data) {\r\n  return this.api.put('inventory/scrap-sale?id=' + id, data);\r\n}\r\ndeleteSs(id) {\r\n  return this.api.delete(`inventory/scrap-sale/${id}`);\r\n}\r\n\r\n}\r\n","module.exports = \"<router-outlet></router-outlet>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvaW52ZW50b3J5L2ludmVudG9yeS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-inventory',\r\n  templateUrl: './inventory.component.html',\r\n  styleUrls: ['./inventory.component.scss']\r\n})\r\nexport class InventoryComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { InventoryService } from './inventory.service';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class ItemmasterReslover implements Resolve<any> {\r\n    constructor(private is: InventoryService) { }\r\n\r\n    resolve(route: ActivatedRouteSnapshot) {\r\n        return this.is.getItemMaster(route.paramMap.get('id'));\r\n    }\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <app-smart-table [commonFilter]=\\\"commonFilter\\\" [addButtonInfo]=\\\"addButtonInfo\\\" [screenName]=\\\"'Item Master'\\\" [columns]=\\\"columns\\\" [fetchUrl]=\\\"fetchUrl\\\" [limit]=\\\"5\\\"\\r\\n    [refreshRedTable]=\\\"refreshRedTable\\\" (event)=\\\"linkClicked($event)\\\">\\r\\n  </app-smart-table>\\r\\n</div>\\r\\n<div class=\\\"modal fade\\\" role=\\\"dialog\\\" id=\\\"deleteModal\\\">\\r\\n  <div class=\\\"modal-dialog\\\">\\r\\n      <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n              <h4 class=\\\"modal-title\\\">Delete Item Master</h4>\\r\\n              <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n              <p>Are you sure you want to delete this Item?</p>\\r\\n          </div>\\r\\n          <div class=\\\"modal-footer\\\">\\r\\n              <button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">Cancel</button>\\r\\n              <button type=\\\"button\\\" [disabled]=\\\"process =='processing'\\\" (click)=\\\"deleteRecord()\\\" class=\\\"actions-button btn btn-danger\\\">\\r\\n                <span *ngIf=\\\"process !='processing'\\\">Delete</span>\\r\\n                <span *ngIf=\\\"process == 'processing'\\\">Deleting<i class=\\\"fa fa-spinner fa-spin\\\"></i></span>\\r\\n              </button>\\r\\n          </div>\\r\\n      </div>\\r\\n\\r\\n  </div>\\r\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvbGlzdC1pdGVtLW1hc3Rlci9saXN0LWl0ZW0tbWFzdGVyLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { GetApiurl } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\ndeclare var $: any;\r\n\r\n@Component({\r\n  selector: 'app-list-item-master',\r\n  templateUrl: './list-item-master.component.html',\r\n  styleUrls: ['./list-item-master.component.scss']\r\n})\r\nexport class ListItemMasterComponent implements OnInit {\r\n\r\n  public addButtonInfo: Object = { text: 'Add Item-Master', url: '/inventory/add-item-master' };\r\n  public fetchUrl: string = GetApiurl('inventory/items-master');\r\n  columns: Array<any> = [\r\n  ];\r\n  refreshRedTable: any;\r\n  dataRow: any;\r\n  usertype: any;\r\n  process: string;\r\n  public modal_title: string;\r\n  public commonFilter: Object = {filterString: '', columnName: 'searchString', placeholder: 'Search by Item Name'};\r\n  constructor(\r\n    private router: Router,\r\n    public meta: MetaService,\r\n    private is: InventoryService\r\n  ) {\r\n    this.usertype = this.meta.getSiteFromStorage().role;\r\n    console.log(' Usertype >>>  ', this.usertype);\r\n\r\n    if (this.usertype === 'ADMIN') {\r\n      this.columns = [\r\n        { title: 'Name', name: 'name', sort: true },\r\n        { title: 'Type', name: 'type', sort: false },\r\n        { title: 'Units', name: 'unit', sort: false },\r\n        { title: 'ItemType', name: 'itemtype', sort: false },\r\n        { title: 'Rate()', name: 'rate', sort: false },\r\n        { title: 'Actions', links: ['Edit', 'Delete', 'View'] }\r\n      ];\r\n    } else {\r\n      this.columns = [\r\n        { title: 'Name', name: 'name', sort: true },\r\n        { title: 'Type', name: 'type', sort: false },\r\n        { title: 'Units', name: 'unit', sort: false },\r\n        { title: 'ItemType', name: 'itemtype', sort: false },\r\n        { title: 'Rate()', name: 'rate', sort: false },\r\n        { title: 'Actions', links: ['View'] }\r\n      ];\r\n    }\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n  linkClicked(event: any): any {\r\n    const data = event.data;\r\n    this.dataRow = data;\r\n    if (event.data.action === 'Edit') {\r\n      this.router.navigate([`/inventory/items-master/${this.dataRow['row']['_id']}/edit`]);\r\n    }\r\n    if (event.data.action === 'View') {\r\n      this.router.navigate([`/inventory/items-master/${this.dataRow['row']['_id']}/view`]);\r\n    }\r\n    if (data.action === 'Delete') {\r\n      $('#deleteModal').modal('show');\r\n    }\r\n  }\r\n  public deleteRecord() {\r\n    this.process = 'processing';\r\n    this.deleteProject(this.dataRow['row']['_id']);\r\n  }\r\n  public deleteProject(index: number) {\r\n    this.is.deleteItemMaster(index).subscribe(\r\n      ng2TableData => {\r\n        this.process = 'done';\r\n        $('#deleteModal').modal('hide');\r\n        this.refreshRedTable = { mode: 'delete', id: index };\r\n      }, // filter(row => row.id != index),\r\n      error => { console.log(error);\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <app-smart-table [commonFilter]=\\\"commonFilter\\\" [addButtonInfo]=\\\"addButtonInfo\\\" [screenName]=\\\"'Material Issue'\\\" [columns]=\\\"columns\\\" [fetchUrl]=\\\"fetchUrl\\\" [limit]=\\\"5\\\"\\r\\n    [refreshRedTable]=\\\"refreshRedTable\\\" (event)=\\\"linkClicked($event)\\\">\\r\\n  </app-smart-table>\\r\\n</div>\\r\\n<div class=\\\"modal fade\\\" role=\\\"dialog\\\" id=\\\"deleteModal\\\">\\r\\n  <div class=\\\"modal-dialog\\\">\\r\\n      <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n              <h4 class=\\\"modal-title\\\">Delete Material Issue</h4>\\r\\n              <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n              <p>Are you sure you want to delete this material Issue?</p>\\r\\n          </div>\\r\\n          <div class=\\\"modal-footer\\\">\\r\\n              <button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">Cancel</button>\\r\\n              <button type=\\\"button\\\" [disabled]=\\\"process =='processing'\\\" (click)=\\\"deleteRecord()\\\" class=\\\"actions-button btn btn-danger\\\">\\r\\n                <span *ngIf=\\\"process !='processing'\\\">Delete</span>\\r\\n                <span *ngIf=\\\"process == 'processing'\\\">Deleting<i class=\\\"fa fa-spinner fa-spin\\\"></i></span>\\r\\n              </button>\\r\\n          </div>\\r\\n      </div>\\r\\n\\r\\n  </div>\\r\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvbGlzdC1tYXRlcmlhbC1pc3N1ZS9saXN0LW1hdGVyaWFsLWlzc3VlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { GetApiurl } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\ndeclare var $: any;\r\n\r\n@Component({\r\n  selector: 'app-list-material-issue',\r\n  templateUrl: './list-material-issue.component.html',\r\n  styleUrls: ['./list-material-issue.component.scss']\r\n})\r\nexport class ListMaterialIssueComponent implements OnInit {\r\n  public addButtonInfo: Object = { text: 'Add Material Issue', url: '/inventory/add-material-issue' };\r\n  public fetchUrl: string = GetApiurl('inventory/material-issue');\r\n  columns: Array<any> = [\r\n  ];\r\n  refreshRedTable: any;\r\n  dataRow: any;\r\n  usertype: any;\r\n  process: string;\r\n  public modal_title: string;\r\n  public commonFilter: Object = {filterString: '', columnName: 'searchString', placeholder: 'Search by Site/MI Type/Department'};\r\n  constructor(\r\n    private router: Router,\r\n    public meta: MetaService,\r\n    private is: InventoryService\r\n  ) {\r\n    this.usertype = this.meta.getSiteFromStorage().role;\r\n    console.log(' Usertype >>>  ', this.usertype);\r\n\r\n    if (this.usertype === 'ADMIN') {\r\n      this.columns = [\r\n        { title: 'Site', name: 'site', sort: false },\r\n        { title: 'MI no', name: 'mi_number', sort: false },\r\n        { title: 'Mi type', name: 'mi_type', sort: false },\r\n        { title: 'Department', name: 'department', sort: false },\r\n        { title: 'Mi date', name: 'mi_date', dateFormat: 'fullDate', sort: false },\r\n        { title: 'Total()', name: 'total_amount', sort: false },\r\n        { title: 'User', name: 'user', sort: false },\r\n        { title: 'Actions', links: ['Edit', 'Delete', 'View'] }\r\n      ];\r\n    } else {\r\n      this.columns = [\r\n        { title: 'Site', name: 'site', sort: false },\r\n        { title: 'MI no', name: 'mi_number', sort: false },\r\n        { title: 'Mi type', name: 'mi_type', sort: false },\r\n        { title: 'Department', name: 'department', sort: false },\r\n        { title: 'Mi date', name: 'mi_date', dateFormat: 'fullDate', sort: false },\r\n        { title: 'Total()', name: 'total_amount', sort: false },\r\n        { title: 'User', name: 'user', sort: false },\r\n        { title: 'Actions', links: ['View'] }\r\n      ];\r\n    }\r\n\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n  linkClicked(event: any): any {\r\n    const data = event.data;\r\n\r\n    // console.log('list material', data);\r\n\r\n    this.dataRow = data;\r\n    if (event.data.action === 'Edit') {\r\n      this.router.navigate([`/inventory/material-issue/${this.dataRow['row']['_id']}/edit`]);\r\n    }\r\n    if (event.data.action === 'View') {\r\n      this.router.navigate([`/inventory/material-issue/${this.dataRow['row']['_id']}/view`]);\r\n    }\r\n    if (data.action === 'Delete') {\r\n      $('#deleteModal').modal('show');\r\n    }\r\n  }\r\n  public deleteRecord() {\r\n    this.process = 'processing';\r\n    this.deleteProject(this.dataRow['row']['_id']);\r\n  }\r\n  public deleteProject(index: number) {\r\n    this.is.deleteMi(index).subscribe(\r\n      ng2TableData => {\r\n        this.process = 'done';\r\n        $('#deleteModal').modal('hide');\r\n        this.refreshRedTable = { mode: 'delete', id: index };\r\n      }, // filter(row => row.id != index),\r\n      error => { console.log(error); }\r\n    );\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <app-smart-table [commonFilter]=\\\"commonFilter\\\" [addButtonInfo]=\\\"addButtonInfo\\\" [screenName]=\\\"'Material Receipt'\\\" [columns]=\\\"columns\\\" [fetchUrl]=\\\"fetchUrl\\\" [limit]=\\\"5\\\"\\r\\n    [refreshRedTable]=\\\"refreshRedTable\\\" (event)=\\\"linkClicked($event)\\\">\\r\\n  </app-smart-table>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"modal fade\\\" role=\\\"dialog\\\" id=\\\"deleteModal\\\">\\r\\n  <div class=\\\"modal-dialog\\\">\\r\\n      <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n              <h4 class=\\\"modal-title\\\">Delete Material Receipt</h4>\\r\\n              <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n              <p>Are you sure you want to delete this material receipt?</p>\\r\\n          </div>\\r\\n          <div class=\\\"modal-footer\\\">\\r\\n              <button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">Cancel</button>\\r\\n              <button type=\\\"button\\\" [disabled]=\\\"process =='processing'\\\" (click)=\\\"deleteRecord()\\\" class=\\\"actions-button btn btn-danger\\\">\\r\\n                <span *ngIf=\\\"process !='processing'\\\">Delete</span>\\r\\n                <span *ngIf=\\\"process == 'processing'\\\">Deleting<i class=\\\"fa fa-spinner fa-spin\\\"></i></span>\\r\\n              </button>\\r\\n          </div>\\r\\n      </div>\\r\\n\\r\\n  </div>\\r\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvbGlzdC1tYXRlcmlhbC1yZWNlaXB0L2xpc3QtbWF0ZXJpYWwtcmVjZWlwdC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { GetApiurl } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\ndeclare var $: any;\r\n\r\n@Component({\r\n  selector: 'app-list-material-receipt',\r\n  templateUrl: './list-material-receipt.component.html',\r\n  styleUrls: ['./list-material-receipt.component.scss']\r\n})\r\nexport class ListMaterialReceiptComponent implements OnInit {\r\n  public addButtonInfo: Object = { text: 'Add Material Receipts', url: '/inventory/add-material-receipt' };\r\n  public fetchUrl: string = GetApiurl('inventory/material-receipt');\r\n  columns: Array<any> = [\r\n  ];\r\n  refreshRedTable: any;\r\n  dataRow: any;\r\n  usertype: any;\r\n  process: string;\r\n  public modal_title: string;\r\n  public commonFilter: Object = {filterString: '', columnName: 'searchString', placeholder: 'Search by Site/MrNo/Vendor/Department'};\r\n  constructor(\r\n    private router: Router,\r\n    public meta: MetaService,\r\n    private is: InventoryService\r\n  ) {\r\n    this.usertype = this.meta.getSiteFromStorage().role;\r\n    console.log(' Usertype >>>  ', this.usertype);\r\n\r\n    if (this.usertype === 'ADMIN') {\r\n      this.columns = [\r\n        { title: 'Site', name: 'site', sort: false },\r\n        { title: 'Mr no', name: 'mr_number', sort: false },\r\n        { title: 'Mr type', name: 'mr_type', sort: false },\r\n        { title: 'Rec type', name: 'rec_type', sort: false },\r\n        { title: 'Vendor', name: 'vendor', sort: false },\r\n        { title: 'Department', name: 'department', sort: false },\r\n        { title: 'Mr date', name: 'mr_date', dateFormat: 'fullDate', sort: false },\r\n        { title: 'Total()', name: 'total_amount', sort: false },\r\n        { title: 'User', name: 'user', sort: false },\r\n        { title: 'Actions', links: ['Edit', 'Delete', 'View'] }\r\n      ];\r\n    } else {\r\n      this.columns = [\r\n        { title: 'Site', name: 'site', sort: false },\r\n        { title: 'Mr no', name: 'mr_number', sort: false },\r\n        { title: 'Mr type', name: 'mr_type', sort: false },\r\n        { title: 'Rec type', name: 'rec_type', sort: false },\r\n        { title: 'Vendor', name: 'vendor', sort: false },\r\n        { title: 'Department', name: 'department', sort: false },\r\n        { title: 'Mr date', name: 'mr_date', dateFormat: 'fullDate', sort: false },\r\n        { title: 'Total()', name: 'total_amount', sort: false },\r\n        { title: 'Actions', links: ['View'] }\r\n      ];\r\n    }\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n  linkClicked(event: any): any {\r\n    const data = event.data;\r\n\r\n    // console.log('list material', data);\r\n\r\n    this.dataRow = data;\r\n    if (event.data.action === 'Edit') {\r\n      this.router.navigate([`/inventory/material-receipt/${this.dataRow['row']['_id']}/edit`]);\r\n    }\r\n    if (event.data.action === 'View') {\r\n      this.router.navigate([`/inventory/material-receipt/${this.dataRow['row']['_id']}/view`]);\r\n    }\r\n    if (data.action === 'Delete') {\r\n      $('#deleteModal').modal('show');\r\n    }\r\n  }\r\n  public deleteRecord() {\r\n    this.process = 'processing';\r\n    this.deleteProject(this.dataRow['row']['_id']);\r\n  }\r\n  public deleteProject(index: number) {\r\n    this.is.deleteMr(index).subscribe(\r\n      ng2TableData => {\r\n        this.process = 'done';\r\n        $('#deleteModal').modal('hide');\r\n        this.refreshRedTable = { mode: 'delete', id: index };\r\n      }, // filter(row => row.id != index),\r\n      error => { console.log(error); }\r\n    );\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <app-smart-table [commonFilter]=\\\"commonFilter\\\"  [addButtonInfo]=\\\"addButtonInfo\\\" [screenName]=\\\"'Orders'\\\" [columns]=\\\"columns\\\" [fetchUrl]=\\\"fetchUrl\\\" [limit]=\\\"5\\\"\\r\\n    [refreshRedTable]=\\\"refreshRedTable\\\" (event)=\\\"linkClicked($event)\\\">\\r\\n  </app-smart-table>\\r\\n</div>\\r\\n<div class=\\\"modal fade\\\" role=\\\"dialog\\\" id=\\\"deleteModal\\\">\\r\\n  <div class=\\\"modal-dialog\\\">\\r\\n      <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n              <h4 class=\\\"modal-title\\\">Delete Order</h4>\\r\\n              <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n              <p>Are you sure you want to delete this order?</p>\\r\\n          </div>\\r\\n          <div class=\\\"modal-footer\\\">\\r\\n              <button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">Cancel</button>\\r\\n              <button type=\\\"button\\\" [disabled]=\\\"process =='processing'\\\" (click)=\\\"deleteRecord()\\\" class=\\\"actions-button btn btn-danger\\\">\\r\\n                <span *ngIf=\\\"process !='processing'\\\">Delete</span>\\r\\n                <span *ngIf=\\\"process == 'processing'\\\">Deleting<i class=\\\"fa fa-spinner fa-spin\\\"></i></span>\\r\\n              </button>\\r\\n          </div>\\r\\n      </div>\\r\\n\\r\\n  </div>\\r\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvbGlzdC1vcmRlci9saXN0LW9yZGVyLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { GetApiurl } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\ndeclare var $: any;\r\n\r\n@Component({\r\n  selector: 'app-list-order',\r\n  templateUrl: './list-order.component.html',\r\n  styleUrls: ['./list-order.component.scss']\r\n})\r\nexport class ListOrderComponent implements OnInit {\r\n\r\n  public addButtonInfo: Object = { text: 'Add orders', url: '/inventory/add-order' };\r\n  public fetchUrl: string = GetApiurl('inventory/orders');\r\n  columns: Array<any> = [\r\n  ];\r\n  refreshRedTable: any;\r\n  dataRow: any;\r\n  process: string;\r\n  usertype: any;\r\n  public modal_title: string;\r\n  public commonFilter: Object = {filterString: '', columnName: 'searchString', placeholder: 'Search by Site/Vendor/Department'};\r\n  constructor(\r\n    private router: Router,\r\n    public meta: MetaService,\r\n    private is: InventoryService\r\n  ) {\r\n    this.usertype = this.meta.getSiteFromStorage().role;\r\n    console.log(' Usertype >>>  ', this.usertype);\r\n\r\n    if (this.usertype === 'ADMIN') {\r\n      this.columns = [\r\n        { title: 'Site', name: 'site', sort: false },\r\n        { title: 'Order no', name: 'order_number', sort: false },\r\n        { title: 'Order type', name: 'order_type', sort: false },\r\n        { title: 'Vendor', name: 'vendor', sort: false },\r\n        { title: 'Department', name: 'department', sort: false },\r\n        { title: 'Order date', name: 'order_date', dateFormat: 'fullDate', sort: false },\r\n        { title: 'Total()', name: 'total_amount', sort: false },\r\n        { title: 'User', name: 'user', sort: false },\r\n        { title: 'Actions', links: ['Edit', 'Delete', 'View'] }\r\n      ];\r\n    } else {\r\n      this.columns = [\r\n        { title: 'Site', name: 'site', sort: false },\r\n        { title: 'Order no', name: 'order_number', sort: false },\r\n        { title: 'Order type', name: 'order_type', sort: false },\r\n        { title: 'Vendor', name: 'vendor', sort: false },\r\n        { title: 'Department', name: 'department', sort: false },\r\n        { title: 'Order date', name: 'order_date', dateFormat: 'fullDate', sort: false },\r\n        { title: 'Total()', name: 'total_amount', sort: false },\r\n        { title: 'User', name: 'user', sort: false },\r\n        { title: 'Actions', links: ['View'] }\r\n      ];\r\n    }\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n  linkClicked(event: any): any {\r\n    const data = event.data;\r\n    this.dataRow = data;\r\n    if (event.data.action === 'Edit') {\r\n      this.router.navigate([`/inventory/orders/${this.dataRow['row']['_id']}/edit`]);\r\n    }\r\n    if (event.data.action === 'View') {\r\n      this.router.navigate([`/inventory/orders/${this.dataRow['row']['_id']}/view`]);\r\n    }\r\n    if (data.action === 'Delete') {\r\n      $('#deleteModal').modal('show');\r\n    }\r\n  }\r\n  public deleteRecord() {\r\n    this.process = 'processing';\r\n    this.deleteProject(this.dataRow['row']['_id']);\r\n  }\r\n  public deleteProject(index: number) {\r\n    this.is.deleteOrder(index).subscribe(\r\n      ng2TableData => {\r\n        this.process = 'done';\r\n        $('#deleteModal').modal('hide');\r\n        this.refreshRedTable = { mode: 'delete', id: index };\r\n      }, // filter(row => row.id != index),\r\n      error => { console.log(error) }\r\n    )\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <app-smart-table [commonFilter]=\\\"commonFilter\\\" [addButtonInfo]=\\\"addButtonInfo\\\" [screenName]=\\\"'Scrap Sale'\\\" [columns]=\\\"columns\\\" [fetchUrl]=\\\"fetchUrl\\\" [limit]=\\\"5\\\"\\r\\n    [refreshRedTable]=\\\"refreshRedTable\\\" (event)=\\\"linkClicked($event)\\\">\\r\\n  </app-smart-table>\\r\\n</div>\\r\\n<div class=\\\"modal fade\\\" role=\\\"dialog\\\" id=\\\"deleteModal\\\">\\r\\n  <div class=\\\"modal-dialog\\\">\\r\\n      <div class=\\\"modal-content\\\">\\r\\n          <div class=\\\"modal-header\\\">\\r\\n              <h4 class=\\\"modal-title\\\">Delete Scrap Sale</h4>\\r\\n              <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\">&times;</button>\\r\\n          </div>\\r\\n          <div class=\\\"modal-body\\\">\\r\\n              <p>Are you sure you want to delete this Scrap Sale?</p>\\r\\n          </div>\\r\\n          <div class=\\\"modal-footer\\\">\\r\\n              <button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-default\\\">Cancel</button>\\r\\n              <button type=\\\"button\\\" [disabled]=\\\"process =='processing'\\\" (click)=\\\"deleteRecord()\\\" class=\\\"actions-button btn btn-danger\\\">\\r\\n                <span *ngIf=\\\"process !='processing'\\\">Delete</span>\\r\\n                <span *ngIf=\\\"process == 'processing'\\\">Deleting<i class=\\\"fa fa-spinner fa-spin\\\"></i></span>\\r\\n              </button>\\r\\n          </div>\\r\\n      </div>\\r\\n\\r\\n  </div>\\r\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvbGlzdC1zY3JhcC1zYWxlL2xpc3Qtc2NyYXAtc2FsZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { GetApiurl } from '../../../parameters';\r\nimport { InventoryService } from '../inventory.service';\r\nimport { MetaService } from 'src/app/shared/services/meta.service';\r\ndeclare var $: any;\r\n\r\n@Component({\r\n  selector: 'app-list-scrap-sale',\r\n  templateUrl: './list-scrap-sale.component.html',\r\n  styleUrls: ['./list-scrap-sale.component.scss']\r\n})\r\nexport class ListScrapSaleComponent implements OnInit {\r\n  public addButtonInfo: Object = { text: 'Add Scrap Sale', url: '/inventory/add-scrap-sale' };\r\n  public fetchUrl: string = GetApiurl('inventory/scrap-sale');\r\n  columns: Array<any> = [\r\n  ];\r\n  refreshRedTable: any;\r\n  usertype: any;\r\n  dataRow: any;\r\n  process: string;\r\n  public modal_title: string;\r\n  public commonFilter: Object = {filterString: '', columnName: 'searchString', placeholder: 'Search by vendor/department'};\r\n  constructor(\r\n    private router: Router,\r\n    public meta: MetaService,\r\n    private is: InventoryService\r\n  ) {\r\n    this.usertype = this.meta.getSiteFromStorage().role;\r\n    console.log(' Usertype >>>  ', this.usertype);\r\n\r\n    if (this.usertype === 'ADMIN') {\r\n      this.columns = [\r\n        { title: 'Site', name: 'site', sort: false },\r\n        { title: 'Ss no', name: 'ss_number', sort: false },\r\n        { title: 'Ss date', name: 'ss_date', dateFormat: 'fullDate', sort: false },\r\n        { title: 'Vendor', name: 'vendor', sort: false },\r\n        { title: 'Department', name: 'department', sort: false },\r\n        { title: 'Total()', name: 'total_amount', sort: false },\r\n        { title: 'User', name: 'user', sort: false },\r\n        { title: 'Actions', links: ['Edit', 'Delete', 'View'] }\r\n      ];\r\n    } else {\r\n      this.columns = [\r\n        { title: 'Site', name: 'site', sort: false },\r\n        { title: 'Ss no', name: 'ss_number', sort: false },\r\n        { title: 'Ss date', name: 'ss_date', dateFormat: 'fullDate', sort: false },\r\n        { title: 'Vendor', name: 'vendor', sort: false },\r\n        { title: 'Department', name: 'department', sort: false },\r\n        { title: 'Total()', name: 'total_amount', sort: false },\r\n        { title: 'User', name: 'user', sort: false },\r\n        { title: 'Actions', links: ['View'] }\r\n      ];\r\n    }\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n  linkClicked(event: any): any {\r\n    const data = event.data;\r\n\r\n    // console.log('list material', data);\r\n\r\n    this.dataRow = data;\r\n    if (event.data.action === 'Edit') {\r\n      this.router.navigate([`/inventory/scrap-sale/${this.dataRow['row']['_id']}/edit`]);\r\n    }\r\n    if (event.data.action === 'View') {\r\n      this.router.navigate([`/inventory/scrap-sale/${this.dataRow['row']['_id']}/view`]);\r\n    }\r\n    if (data.action === 'Delete') {\r\n      $('#deleteModal').modal('show');\r\n    }\r\n  }\r\n  public deleteRecord() {\r\n    this.process = 'processing';\r\n    this.deleteProject(this.dataRow['row']['_id']);\r\n  }\r\n  public deleteProject(index: number) {\r\n    this.is.deleteSs(index).subscribe(\r\n      ng2TableData => {\r\n        this.process = 'done';\r\n        $('#deleteModal').modal('hide');\r\n        this.refreshRedTable = { mode: 'delete', id: index };\r\n      }, // filter(row => row.id != index),\r\n      error => { console.log(error); }\r\n    );\r\n  }\r\n\r\n\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { InventoryService } from './inventory.service';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class MaterialissueReslover implements Resolve<any> {\r\n    constructor(private is: InventoryService) { }\r\n\r\n    resolve(route: ActivatedRouteSnapshot) {\r\n        return this.is.getMi(route.paramMap.get('id'));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { InventoryService } from './inventory.service';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class MaterialreceiptReslover implements Resolve<any> {\r\n    constructor(private is: InventoryService) { }\r\n\r\n    resolve(route: ActivatedRouteSnapshot) {\r\n        return this.is.getMr(route.paramMap.get('id'));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { InventoryService } from './inventory.service';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class OrderReslover implements Resolve<any> {\r\n    constructor(private is: InventoryService) { }\r\n\r\n    resolve(route: ActivatedRouteSnapshot) {\r\n        return this.is.getOrder(route.paramMap.get('id'));\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { InventoryService } from './inventory.service';\r\nimport { Resolve, ActivatedRouteSnapshot } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class ScrapsaleReslover implements Resolve<any> {\r\n    constructor(private is: InventoryService) { }\r\n\r\n    resolve(route: ActivatedRouteSnapshot) {\r\n        return this.is.getSs(route.paramMap.get('id'));\r\n    }\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n      View Item Master`\\r\\n      <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"gotoEdit()\\\"  type=\\\"button\\\">\\r\\n        <i class=\\\"fa fa-edit\\\" aria-hidden=\\\"true\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div class=\\\"card-body\\\">\\r\\n\\r\\n      <div class=\\\"form-group row\\\">\\r\\n       <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-3 col-md-4\\\">Type</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{itemsDetails?.type}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Name</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{itemsDetails?.name}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-3\\\">Description</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{itemsDetails?.pdescription}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Item Category</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{itemsDetails?.itemcategory}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      \\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-3 col-md-4\\\">Item Type</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{itemsDetails?.itemtype}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Unit</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{itemsDetails?.unit}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Godown</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{itemsDetails?.godown}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Opening Quantity</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{itemsDetails?.oq}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-3 col-md-3\\\">Rate</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{itemsDetails?.prate}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Value</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{itemsDetails?.value}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">HSN Code</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{itemsDetails?.hsncode}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">GST</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{itemsDetails?.gst}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvdmlldy1pdGVtLW1hc3Rlci92aWV3LWl0ZW0tbWFzdGVyLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-view-item-master',\r\n  templateUrl: './view-item-master.component.html',\r\n  styleUrls: ['./view-item-master.component.scss']\r\n})\r\nexport class ViewItemMasterComponent implements OnInit {\r\n  public itemsDetails: any;\r\n  constructor(private aroute: ActivatedRoute, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.itemsDetails = this.aroute.snapshot.data['items_details'];\r\n  }\r\n  public gotoEdit() {\r\n    this.router.navigate([`/inventory/items-master/${this.itemsDetails['_id']}/edit`]);\r\n  }\r\n}","module.exports = \"<div class=\\\"container\\\">\\r\\n  <div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n      View Material Issue`\\r\\n      <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"gotoEdit()\\\"  type=\\\"button\\\">\\r\\n        <i class=\\\"fa fa-edit\\\" aria-hidden=\\\"true\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"form-group row\\\">\\r\\n       <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Site</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.site}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">MI type</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.mi_type}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Mi no</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.mi_number}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Mi date</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.mi_date | date}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      \\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Issued From</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.issuedfrom}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Issued By</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.issuedby}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">MC Reading</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.mcreading}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Department</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.department}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12\\\">\\r\\n          <div class=\\\"card\\\">\\r\\n            <div class=\\\"card-header\\\">Material Issue items</div>\\r\\n            <div class=\\\"card-body\\\">\\r\\n              <table class=\\\"table table-bordered\\\">\\r\\n                <tr>\\r\\n                  <th>Item</th>\\r\\n                  <th>Unit</th>\\r\\n                  <th>Qty</th>\\r\\n                  <th>Price(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                  <th>Refund</th>\\r\\n                  <th>Material Type</th>\\r\\n                  <th>RefQty</th>\\r\\n                  <th>Godown</th>\\r\\n                  <th>Amount(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n              </tr>\\r\\n                <tr *ngFor=\\\"let items of miDetails.materiali_items; let i=index\\\">\\r\\n                  <td>{{items?.name}}</td>\\r\\n                  <td>{{items?.unit}}</td>\\r\\n                  <td>{{items?.qty}}</td>\\r\\n                  <td>{{items?.price}}</td>\\r\\n                  <td>{{items?.refund}}</td>\\r\\n                  <td>{{items?.mat_type}}</td>\\r\\n                  <td>{{items?.ref_qty}}</td>\\r\\n                  <td>{{items?.godown}}</td>\\r\\n                  <td>{{items?.total}}</td>\\r\\n                </tr>\\r\\n              </table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group row mt-3\\\">\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Narration</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.narration}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Net Amt(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.net_amount}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Rounded off(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.rounded_off}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group row\\\">\\r\\n\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Round of Type</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.round_off_type}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Total(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{miDetails?.total_amount}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvdmlldy1tYXRlcmlhbC1pc3N1ZS92aWV3LW1hdGVyaWFsLWlzc3VlLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-view-material-issue',\r\n  templateUrl: './view-material-issue.component.html',\r\n  styleUrls: ['./view-material-issue.component.scss']\r\n})\r\nexport class ViewMaterialIssueComponent implements OnInit {\r\n  public miDetails: any;\r\n  constructor(private aroute: ActivatedRoute, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.miDetails = this.aroute.snapshot.data['mi_details'];\r\n  }\r\n  public gotoEdit() {\r\n    this.router.navigate([`/inventory/material-issue/${this.miDetails['_id']}/edit`]);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n      View Material Receipt`\\r\\n      <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"gotoEdit()\\\"  type=\\\"button\\\">\\r\\n        <i class=\\\"fa fa-edit\\\" aria-hidden=\\\"true\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"form-group row\\\">\\r\\n       <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Site</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.site}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">MR type</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.mr_type}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Mr no</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.mr_number}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Mr date</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.mr_date | date}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      \\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Vendor</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.vendor}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Department</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.department}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Invoice No</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.invno}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Invoice Date</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.invdate}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Godown</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.godown}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Receipt type</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.rec_type}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-3 col-md-3\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Po No. / Job No.</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.pjno}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n\\r\\n      </div>\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12\\\">\\r\\n          <div class=\\\"card\\\">\\r\\n            <div class=\\\"card-header\\\">Material Receipt items</div>\\r\\n            <div class=\\\"card-body\\\">\\r\\n              <table class=\\\"table table-bordered\\\">\\r\\n                <tr>\\r\\n                  <th>Item</th>\\r\\n                  <th>Unit</th>\\r\\n                  <th>Qty</th>\\r\\n                  <th>Price(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                  <th>Dis(%)</th>\\r\\n                  <th>CGST(%)</th>\\r\\n                  <th>SGST(%)</th>\\r\\n                  <th>IGST(%)</th>\\r\\n                  <th>Amount(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                </tr>\\r\\n                <tr *ngFor=\\\"let items of mrDetails.materialr_items; let i=index\\\">\\r\\n                  <td>{{items?.name}}</td>\\r\\n                  <td>{{items?.unit}}</td>\\r\\n                  <td>{{items?.qty}}</td>\\r\\n                  <td>{{items?.price}}</td>\\r\\n                  <td>{{items?.discount}}</td>\\r\\n                  <td>{{items?.cgst}}</td>\\r\\n                  <td>{{items?.sgst}}</td>\\r\\n                  <td>{{items?.igst}}</td>\\r\\n                  <td>{{items?.total}}</td>\\r\\n                </tr>\\r\\n              </table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group row mt-3\\\">\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Narration</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.narration}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Net Amt(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.net_amount}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Rounded off(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.rounded_off}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group row\\\">\\r\\n\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Round of Type</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.round_off_type}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Total(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{mrDetails?.total_amount}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvdmlldy1tYXRlcmlhbC1yZWNlaXB0L3ZpZXctbWF0ZXJpYWwtcmVjZWlwdC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-view-material-receipt',\r\n  templateUrl: './view-material-receipt.component.html',\r\n  styleUrls: ['./view-material-receipt.component.scss']\r\n})\r\nexport class ViewMaterialReceiptComponent implements OnInit {\r\n  public mrDetails: any;\r\n  constructor(private aroute: ActivatedRoute, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.mrDetails = this.aroute.snapshot.data['mr_details'];\r\n  }\r\n  public gotoEdit() {\r\n    this.router.navigate([`/inventory/material-receipt/${this.mrDetails['_id']}/edit`]);\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"container\\\">\\r\\n  <div class=\\\"card\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n      View Order\\r\\n      <button class=\\\"btn btn-primary float-right\\\" (click)=\\\"gotoEdit()\\\"  type=\\\"button\\\">\\r\\n        <i class=\\\"fa fa-edit\\\" aria-hidden=\\\"true\\\"></i>\\r\\n      </button>\\r\\n    </div>\\r\\n    <div class=\\\"card-body\\\">\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <div class=\\\"col-lg-4 col-md-4\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Site</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.site}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-4 col-md-4\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Order type</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.order_type}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-4 col-md-4\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Order no</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.order_number}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <div class=\\\"col-lg-4 col-md-4\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Order date</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.order_date | date}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-4 col-md-4\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Delivery date</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.delivery_date| date}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-4 col-md-4\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Vendor</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.vendor}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <div class=\\\"col-lg-4 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Job type</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.job_type}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-4 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Department</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.department}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12\\\">\\r\\n          <div class=\\\"card\\\">\\r\\n            <div class=\\\"card-header\\\">Order line items</div>\\r\\n            <div class=\\\"card-body\\\">\\r\\n              <table class=\\\"table table-bordered\\\">\\r\\n                <tr>\\r\\n                  <th>Item</th>\\r\\n                  <th>Unit</th>\\r\\n                  <th>Qty</th>\\r\\n                  <th>Price(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                  <th>Dis(%)</th>\\r\\n                  <th>CGST(%)</th>\\r\\n                  <th>SGST(%)</th>\\r\\n                  <th>IGST(%)</th>\\r\\n                  <th>Amount(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</th>\\r\\n                </tr>\\r\\n                <tr *ngFor=\\\"let items of orderDetails.order_items; let i=index\\\">\\r\\n                  <td>{{items?.name}}</td>\\r\\n                  <td>{{items?.unit}}</td>\\r\\n                  <td>{{items?.qty}}</td>\\r\\n                  <td>{{items?.price}}</td>\\r\\n                  <td>{{items?.discount}}</td>\\r\\n                  <td>{{items?.cgst}}</td>\\r\\n                  <td>{{items?.sgst}}</td>\\r\\n                  <td>{{items?.igst}}</td>\\r\\n                  <td>{{items?.total}}</td>\\r\\n                </tr>\\r\\n              </table>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group row mt-3\\\">\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Narration</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.narration}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Terms And Conditions</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.terms_and_conditions}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group row\\\">\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Net Amt(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.net_amount}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Rounded off(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.rounded_off}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"form-group row\\\">\\r\\n\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Round of Type</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.round_off_type}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-6 col-md-6\\\">\\r\\n          <div class=\\\"form-group row\\\">\\r\\n            <label class=\\\"col-lg-4 col-md-4\\\">Total(<i class=\\\"fa fa-inr\\\" aria-hidden=\\\"true\\\"></i>)</label>\\r\\n            <label class=\\\"col-lg-8 col-md-8 font-weight-bold\\\">{{orderDetails?.total_amount}}</label>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvdmlldy1vcmRlci92aWV3LW9yZGVyLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-view-order',\r\n  templateUrl: './view-order.component.html',\r\n  styleUrls: ['./view-order.component.scss']\r\n})\r\nexport class ViewOrderComponent implements OnInit {\r\n  public orderDetails: any;\r\n  constructor(private aroute: ActivatedRoute, private router: Router) { }\r\n\r\n  ngOnInit() {\r\n    this.orderDetails = this.aroute.snapshot.data['order_details'];\r\n  }\r\n  public gotoEdit() {\r\n    this.router.navigate([`/inventory/orders/${this.orderDetails['_id']}/edit`]);\r\n  }\r\n}\r\n","module.exports = \"<p>\\r\\n  view-scrap-sale works!\\r\\n</p>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xheW91dC9pbnZlbnRvcnkvdmlldy1zY3JhcC1zYWxlL3ZpZXctc2NyYXAtc2FsZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-view-scrap-sale',\r\n  templateUrl: './view-scrap-sale.component.html',\r\n  styleUrls: ['./view-scrap-sale.component.scss']\r\n})\r\nexport class ViewScrapSaleComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}