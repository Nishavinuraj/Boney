<div [@routerTransition]>
  <div class="row">
    <div class="col col-md-12 col-sm-12 col-xl-12 col-lg-12">
      <form>
        <div class="row">
          <div class="col-md-12">
            <h4><i class="fa fa-truck"></i> Billings</h4>
            <hr />
          </div>
        </div>
      </form>
      <!-- <ngb-pagination
        [(page)]="pagination.currenPage"
        [pageSize]="pagination.pageSize"
        [collectionSize]="pagination.total"
        [maxSize]="pagination.maxSize"
        (pageChange)="fetchReport()"
      ></ngb-pagination>
      <p><strong>Total:</strong> {{ pagination.total }}<br /><strong>Records per page:</strong> {{ pagination.pageSize }}</p> -->
      <table class="table table-hover table-striped table-bordered table-condensed">
        <thead>
          <tr>
            <th>Site</th>
            <th>Party Name</th>
            <th>Bill No.</th>
            <th>Bill Date</th>
            <th>Records</th>
            <th>Bill Amount</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="loading">
            <td colspan="4">
              <div class="showbox">
                <div class="loader">
                  <svg class="circular" viewBox="25 25 50 50">
                    <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10" />
                  </svg>
                </div>
              </div>
            </td>
          </tr>
          <tr *ngFor="let billing of billing_data">
            <td>{{ billing._id.site ? billing._id.site : '--' }}</td>
            <td>{{ billing._id.accountname ? billing._id.accountname : '--' }}</td>
            <td><a [routerLink]="['/site-management/bill-details', {billno: billing._id.billno, site: billing._id.site, accountname: billing._id.accountname}]" [class.disabled]="!billing?._id.billno">#{{ billing?._id.billno ? billing?._id.billno : '--' }}</a></td>
            <td>{{ billing.billdate ? billing.billdate : '--' }}</td>
            <td>{{ billing.count ? billing.count : '--' }}</td>
            <td class="cell-align">{{ (billing.total ? billing.total : 0) | number : '1.2-2' }}</td>
            <td>
              <button class="btn btn-danger" (click)="delete(billing)"><i class="fa fa-trash" aria-hidden="true"></i> Delete</button>
            </td>
          </tr>
          <tr *ngIf="billing_data.length === 0">
            <td align="center" colspan="3">No data available</td>
          </tr>
        </tbody>
      </table>
      <!-- <ngb-pagination
        [(page)]="pagination.currenPage"
        [pageSize]="pagination.pageSize"
        [collectionSize]="pagination.total"
        [maxSize]="pagination.maxSize"
        (pageChange)="fetchReport()"
      ></ngb-pagination> -->
    </div>
  </div>
</div>
